import{d as y,X as E,ai as L,r as o,aj as b,o as u,f as d,w as t,b as e,k as i,a6 as g,a1 as N,l as s,t as v}from"./index.afa5927e.js";const S=s("\u67E5\u8BE2"),H=s("\u5220\u9664"),U=s("\u5220\u9664"),$=y({name:"Data-serviceLogIndex"}),T=y({...$,setup(I){const a=E({dataListUrl:"/data-service/log/page",deleteUrl:"/data-service/log",queryForm:{ip:"",apiName:""}}),{getDataList:_,selectionChangeHandle:w,sizeChangeHandle:F,currentChangeHandle:k,deleteBatchHandle:m}=L(a);return(j,l)=>{const f=o("el-input"),p=o("el-form-item"),c=o("el-button"),z=o("el-form"),r=o("el-table-column"),D=o("fast-table-org-column"),h=o("el-tag"),V=o("el-table"),x=o("el-pagination"),B=o("el-card"),C=b("auth"),q=b("loading");return u(),d(B,null,{default:t(()=>[e(z,{inline:!0,model:a.queryForm,onKeyup:l[4]||(l[4]=N(n=>i(_)(),["enter"]))},{default:t(()=>[e(p,null,{default:t(()=>[e(f,{modelValue:a.queryForm.ip,"onUpdate:modelValue":l[0]||(l[0]=n=>a.queryForm.ip=n),placeholder:"ip"},null,8,["modelValue"])]),_:1}),e(p,null,{default:t(()=>[e(f,{modelValue:a.queryForm.apiName,"onUpdate:modelValue":l[1]||(l[1]=n=>a.queryForm.apiName=n),placeholder:"api\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(p,null,{default:t(()=>[e(c,{onClick:l[2]||(l[2]=n=>i(_)())},{default:t(()=>[S]),_:1})]),_:1}),e(p,null,{default:t(()=>[g((u(),d(c,{type:"danger",onClick:l[3]||(l[3]=n=>i(m)())},{default:t(()=>[H]),_:1})),[[C,"data-service:log:delete"]])]),_:1})]),_:1},8,["model"]),g((u(),d(V,{data:a.dataList,border:"",style:{width:"100%"},onSelectionChange:i(w)},{default:t(()=>[e(r,{type:"selection","header-align":"center",align:"center",width:"50"}),e(r,{prop:"ip",label:"IP\u5730\u5740","header-align":"center",align:"center",width:"200"}),e(r,{prop:"url",label:"uri\u5730\u5740","header-align":"center",align:"center",width:"200","show-overflow-tooltip":""}),e(D,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784","header-align":"center",align:"center"}),e(r,{prop:"status",label:"\u72B6\u6001\u7801","header-align":"center",align:"center"},{default:t(n=>[n.row.status==200?(u(),d(h,{key:0,type:"success"},{default:t(()=>[s(v(n.row.status),1)]),_:2},1024)):(u(),d(h,{key:1,type:"danger"},{default:t(()=>[s(v(n.row.status),1)]),_:2},1024))]),_:1}),e(r,{prop:"duration",label:"\u65F6\u957F(ms)","header-align":"center",align:"center"}),e(r,{prop:"apiName",label:"api\u540D\u79F0","header-align":"center",align:"center"}),e(r,{"show-overflow-tooltip":"",prop:"error",label:"\u9519\u8BEF\u4FE1\u606F","header-align":"center",align:"center"}),e(r,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center"}),e(r,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"150"},{default:t(n=>[g((u(),d(c,{type:"primary",link:"",onClick:A=>i(m)(n.row.id)},{default:t(()=>[U]),_:2},1032,["onClick"])),[[C,"data-service:log:delete"]])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[q,a.dataListLoading]]),e(x,{"current-page":a.page,"page-sizes":a.pageSizes,"page-size":a.limit,total:a.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:i(F),onCurrentChange:i(k)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"])]),_:1})}}});export{T as default};
