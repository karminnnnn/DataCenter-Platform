import{d as B,K as U,h as r,O as X,X as G,r as u,o as b,f as I,w as l,a as n,b as a,c as M,G as P,a6 as c,a7 as _,k,t as Y,v as $,l as m,a8 as z,E as q}from"./index.afa5927e.js";import{_ as K}from"./add-or-update.vue_vue_type_script_setup_true_lang.a37b9c81.js";import{u as j,c as H}from"./apiGroup.3f0ca4aa.js";import{f as J}from"./folder.ea536bf2.js";import{a as Q}from"./api.55cd055b.js";import{_ as W}from"./index.vue_vue_type_style_index_0_lang.a5016e1b.js";import"./add-or-update.vue_vue_type_script_setup_true_lang.70c7e6f1.js";import"./database.e836db09.js";import"./apiConfig.3f64c346.js";import"./databases.vue_vue_type_style_index_0_lang.b926b0e1.js";import"./database.235d7a89.js";import"./table.e1c1b00a.js";import"./readonly-studio.vue_vue_type_script_setup_true_lang.c5082512.js";import"./toggleHighContrast.9f64e070.js";import"./add-or-update.vue_vue_type_script_setup_true_lang.0e6432a4.js";import"./middledb.vue_vue_type_style_index_0_lang.9db5fc2b.js";import"./house.1ac0c09f.js";import"./sql-studio.aa85e1b4.js";import"./run.cf98bfe1.js";import"./ts.worker.921d436c.js";import"./sqlFormatter.e0a34ad5.js";import"./sql.4f48b9c1.js";import"./json-studio.vue_vue_type_style_index_0_lang.846b46da.js";import"./console-result.vue_vue_type_script_setup_true_lang.ee7703c2.js";import"./param-studio.vue_vue_type_script_setup_true_lang.44bb4522.js";import"./app-info.vue_vue_type_script_setup_true_lang.883f96fa.js";import"./api-test.vue_vue_type_script_setup_true_lang.a98e6589.js";import"./app.6975e7a0.js";import"./api-auth.vue_vue_type_script_setup_true_lang.14159bc7.js";import"./api-auth-detail.vue_vue_type_script_setup_true_lang.9b1c66b9.js";const Z={class:"apiGroupBox",style:{height:"calc(100vh - 170px )"}},tt={class:"leftBox"},et={style:{height:"100%"},class:"apiGroupTreeDiv"},ot=n("br",null,null,-1),nt=n("br",null,null,-1),at={key:0},it=m("\u6DFB\u52A0\u6839\u76EE\u5F55"),lt=n("br",null,null,-1),st=n("br",null,null,-1),rt={class:"api-group-tree-node"},ut=["src"],pt=["src"],dt={style:{"margin-left":"8px"}},ct={class:"rightBox"},_t=m("\u6DFB\u52A0\u5B50\u76EE\u5F55"),mt=m("\u91CD\u547D\u540D"),ft=m("\u5220\u9664"),ht=B({name:"Data-serviceApi-groupIndex"}),Kt=B({...ht,props:{ifAuth:{type:Boolean,required:!1,default:()=>!1}},setup(w){const f=w;U(()=>{C()});const p=r(),v=r(),y=r([]),h=r(""),D=r(),C=()=>{j().then(t=>{y.value=t.data})};X(h,t=>{v.value.filter(t)});const A=(t,e)=>t?e.label.includes(t)||e.label.includes(t.toUpperCase())||e.label.includes(t.toLowerCase()):!0,E=()=>{p.value.init(null,0,"")},R=()=>{let t=o.optionData;p.value.init(null,t.id,t.path),s()},T=()=>{let t=o.optionData;p.value.init(t.id,t.parentId,t.parentPath,t.type),s()},F=()=>{s(),z.confirm("\u786E\u8BA4\u5220\u9664\u5417, \u63D0\u793A",{confirmButtonText:"\u662F",cancelButtonText:"\u5426",type:"warning"}).then(()=>{let t=o.optionData;H(t.id).then(e=>{q.success("\u5220\u9664\u6210\u529F\uFF01"),C()})})},o=G({optionCardShow:!1,optionCardX:0,optionCardY:0,optionData:{},node:"",tree:""}),N=(t,e,d,i)=>{f.ifAuth||(o.optionCardShow=!1,o.optionCardX=t.x,o.optionCardY=t.y,o.optionData=e,o.node=d,o.tree=i,o.optionCardShow=!0)},s=t=>{var e=document.getElementById("option-button-group");e&&(o.optionCardShow=!1)},S=(t,e,d,i)=>{s(),console.log(e.data),e.data.type=="2"&&D.value.init(e.data.id,e.data.path,null,f.ifAuth)};return(t,e)=>{const d=u("el-input"),i=u("el-button"),V=u("el-tree"),O=u("el-scrollbar"),L=u("el-card");return b(),I(L,{onClick:e[1]||(e[1]=g=>s())},{default:l(()=>[n("div",Z,[n("div",tt,[a(O,null,{default:l(()=>[n("div",et,[n("div",null,[a(d,{modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=g=>h.value=g),placeholder:"search"},null,8,["modelValue"]),ot,nt]),f.ifAuth?P("",!0):(b(),M("div",at,[a(i,{type:"primary",onClick:E},{default:l(()=>[it]),_:1}),lt,st])),a(V,{ref_key:"catalogueTreeRef",ref:v,data:y.value,onNodeContextmenu:N,onNodeClick:S,"default-expand-all":"","node-key":"id","filter-node-method":A},{default:l(({node:g,data:x})=>[n("div",rt,[n("span",null,[c(n("img",{src:k(J)},null,8,ut),[[_,x.type=="1"]]),c(n("img",{src:k(Q)},null,8,pt),[[_,x.type=="2"]]),n("span",dt,Y(x.name),1)])])]),_:1},8,["data"])])]),_:1})]),n("div",ct,[a(W,{ref_key:"apiConfigRef",ref:D},null,512)])]),c(n("div",{style:$({"z-index":9999,position:"fixed",left:o.optionCardX+"px",top:o.optionCardY+"px",width:"100px",background:"white","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}),id:"option-button-group"},[c(a(i,{onClick:R,class:"option-card-button"},{default:l(()=>[_t]),_:1},512),[[_,o.optionData.type=="1"]]),a(i,{onClick:T,class:"option-card-button"},{default:l(()=>[mt]),_:1}),a(i,{onClick:F,class:"option-card-button"},{default:l(()=>[ft]),_:1})],4),[[_,o.optionCardShow]]),a(K,{ref_key:"addOrUpdateRef",ref:p,onRefreshDataList:C},null,512)]),_:1})}}});export{Kt as default};
