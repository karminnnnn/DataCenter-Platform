import{d as f,K as w,X as N,ai as V,r as a,aj as D,o as m,f as g,w as n,b as e,k as l,a1 as L,a6 as H,a as A,l as y}from"./index.afa5927e.js";const K=A("p",null,"tips\uFF1A\u5F53\u524D ~ \u8BE5\u6761\u5386\u53F2\u8BB0\u5F55\u7684\u6240\u6709 savepoint \u8BB0\u5F55\uFF1B\u5168\u90E8 ~ \u8BE5\u6761\u8BB0\u5F55\u5BF9\u5E94\u4F5C\u4E1A\u7684\u6240\u6709 savepoint \u8BB0\u5F55",-1),U=y("\u67E5\u8BE2"),$=y("\u5220\u9664"),j=f({name:"SrtSavepointsIndex"}),M=f({...j,props:{taskId:{type:[Number,String],required:!1,default:()=>""},historyId:{type:[Number,String],required:!1,default:()=>""}},setup(h){const u=h;w(()=>{u.taskId&&(t.queryForm.taskId=u.taskId),u.historyId&&(t.queryForm.historyId=u.historyId),i()});const t=N({createdIsNeed:!1,dataListUrl:"/data-development/task/savepoint/page",deleteUrl:"/data-development/task/savepoint",queryForm:{taskId:"",historyId:"",range:"1"}}),F=p=>{p=="1"?t.queryForm.historyId=u.historyId:t.queryForm.historyId=""},{getDataList:i,selectionChangeHandle:B,sizeChangeHandle:C,currentChangeHandle:v,deleteBatchHandle:b}=V(t);return(p,o)=>{const I=a("el-tag"),c=a("el-option"),k=a("el-select"),d=a("el-form-item"),_=a("el-button"),E=a("el-form"),r=a("el-table-column"),q=a("el-table"),z=a("el-pagination"),S=a("el-card"),x=D("loading");return m(),g(S,null,{default:n(()=>[e(I,{style:{"margin-bottom":"10px"}},{default:n(()=>[K]),_:1}),e(E,{inline:!0,model:t.queryForm,onKeyup:o[3]||(o[3]=L(s=>l(i)(),["enter"]))},{default:n(()=>[e(d,null,{default:n(()=>[e(k,{modelValue:t.queryForm.range,"onUpdate:modelValue":o[0]||(o[0]=s=>t.queryForm.range=s),placeholder:"\u67E5\u8BE2\u8303\u56F4",onChange:F},{default:n(()=>[e(c,{key:"1",label:"\u5F53\u524D",value:"1"}),e(c,{key:"2",label:"\u5168\u90E8",value:"2"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:n(()=>[e(_,{onClick:o[1]||(o[1]=s=>l(i)())},{default:n(()=>[U]),_:1})]),_:1}),e(d,null,{default:n(()=>[e(_,{type:"danger",onClick:o[2]||(o[2]=s=>l(b)())},{default:n(()=>[$]),_:1})]),_:1})]),_:1},8,["model"]),H((m(),g(q,{data:t.dataList,border:"",style:{width:"100%"},onSelectionChange:l(B)},{default:n(()=>[e(r,{type:"selection","header-align":"center",align:"center",width:"50"}),e(r,{prop:"type",label:"\u7C7B\u578B","header-align":"center",align:"center"}),e(r,{prop:"path",label:"\u5730\u5740","header-align":"center",align:"center"}),e(r,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center"})]),_:1},8,["data","onSelectionChange"])),[[x,t.dataListLoading]]),e(z,{"current-page":t.page,"page-sizes":t.pageSizes,"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l(C),onCurrentChange:l(v)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"])]),_:1})}}});export{M as _};
