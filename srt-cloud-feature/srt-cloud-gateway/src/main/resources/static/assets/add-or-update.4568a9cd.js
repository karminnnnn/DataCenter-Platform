import{d as $u,h as y,X as ru,K as Ku,r as D,o as r,f as n,w as a,G as s,b as e,a6 as P,a7 as z,a as p,c as E,e as x,F as U,l as c,t as _,al as Ru,E as h,y as Qu,z as Ju,_ as ju}from"./index.afa5927e.js";import{u as Gu,p as Hu,a as uu,b as Xu}from"./access.d3ea15fb.js";import{c as Wu,l as eu,j as ou,k as su}from"./database.e836db09.js";import Yu from"./sql-studio.cd646879.js";import"./ts.worker.921d436c.js";import"./toggleHighContrast.9f64e070.js";import"./sqlFormatter.e0a34ad5.js";import"./sql.4f48b9c1.js";const B=j=>(Qu("data-v-11794c49"),j=j(),Ju(),j),Zu=B(()=>p("br",null,null,-1)),ue=B(()=>p("br",null,null,-1)),ee={style:{"padding-bottom":"5px"}},ae=c("\u89E3\u6790 SQL"),le={style:{height:"150px",width:"1000px"}},te={key:1},re={key:0},oe={key:0,class:"tip-content"},se=B(()=>p("p",null,"\u8BF4\u660E\uFF1A",-1)),ne=B(()=>p("br",null,null,-1)),de=B(()=>p("p",null," (1) \u652F\u6301\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\uFF0C\u4E5F\u53EF\u76F4\u63A5\u586B\u5199\u9700\u8981\u6620\u5C04\u7684\u8868\u540D\u3002 ",-1)),pe=B(()=>p("br",null,null,-1)),ie=B(()=>p("p",null," (2) \u5F53\u8868\u540D\u6620\u5C04\u89C4\u5219\u4E3A\u7A7A\u65F6\uFF0C\u82E5\u63A5\u5165\u65B9\u5F0F\u4E3A\u63A5\u5165\u5230ods\u5C42\uFF0C\u4F1A\u81EA\u52A8\u7ED9\u8868\u540D\u6DFB\u52A0ods_\u524D\u7F00\uFF0C\u5426\u5219\u4EE3\u8868\u76EE\u6807\u8868\u540D\u4E0E\u6E90\u8868\u540D\u7684\u540D\u79F0\u76F8\u540C; \u4E0D\u4E3A\u7A7A\u65F6\uFF0C\u82E5\u63A5\u5165\u65B9\u5F0F\u4E3A\u63A5\u5165\u5230ods\u5C42\uFF0C\u4F1A\u81EA\u52A8\u7ED9\u6620\u5C04\u7684\u8868\u540D\u6DFB\u52A0ods_\u524D\u7F00\uFF0C\u5426\u5219\u4E0E\u6620\u5C04\u7684\u8868\u540D\u4E00\u81F4\u3002",-1)),Ee=B(()=>p("br",null,null,-1)),ce=B(()=>p("p",null," (3) \u5F53\u5B57\u6BB5\u540D\u6620\u5C04\u89C4\u5219\u8BB0\u5F55\u4E3A\u7A7A\u65F6\uFF0C\u4EE3\u8868\u76EE\u6807\u8868\u7684\u5B57\u6BB5\u540D\u4E0E\u6E90\u8868\u540D\u7684\u5B57\u6BB5\u540D\u76F8\u540C\uFF1B\u4E0D\u4E3A\u7A7A\u65F6\uFF0C\u4EE5\u6620\u5C04\u7684\u5B57\u6BB5\u540D\u4E3A\u51C6\u3002",-1)),Fe=B(()=>p("br",null,null,-1)),me=B(()=>p("p",null," (4) \u82E5\u4E0D\u60F3\u540C\u6B65\u67D0\u4E2A\u5B57\u6BB5\uFF0C\u586B\u5199\u6E90\u7AEF\u5B57\u6BB5\u4E4B\u540E\uFF0C\u76EE\u6807\u5B57\u6BB5\u540D\u6620\u5C04\u7559\u7A7A\u5373\u53EF\u3002 ",-1)),Be=[se,ne,de,pe,ie,Ee,ce,Fe,me],be={key:1,class:"tip-content"},fe=B(()=>p("p",null,"\u8BF4\u660E\uFF1A",-1)),Ce=B(()=>p("br",null,null,-1)),ge=B(()=>p("p",null," (1) \u652F\u6301\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\uFF0C\u4E5F\u53EF\u76F4\u63A5\u586B\u5199\u9700\u8981\u6620\u5C04\u7684\u5B57\u6BB5\u540D\u3002 ",-1)),De=B(()=>p("br",null,null,-1)),_e=B(()=>p("p",null," (2) \u5F53\u5B57\u6BB5\u540D\u6620\u5C04\u89C4\u5219\u8BB0\u5F55\u4E3A\u7A7A\u65F6\uFF0C\u4EE3\u8868\u76EE\u6807\u8868\u7684\u5B57\u6BB5\u540D\u4E0E\u6E90 SQL \u67E5\u8BE2\u7684\u5B57\u6BB5\u540D\u76F8\u540C\uFF1B\u4E0D\u4E3A\u7A7A\u65F6\uFF0C\u4EE5\u6620\u5C04\u7684\u5B57\u6BB5\u540D\u4E3A\u51C6\u3002",-1)),ye=B(()=>p("br",null,null,-1)),Ae=B(()=>p("p",null," (3) \u9700\u4FDD\u8BC1 sql \u67E5\u8BE2\u51FA\u6765\u7684\u5B57\u6BB5\u4E0E\u76EE\u6807\u8868\u7684\u5B57\u6BB5\u4E2A\u6570\u4E00\u81F4\uFF0C\u7C7B\u578B\u517C\u5BB9\u3002",-1)),ve=[fe,Ce,ge,De,_e,ye,Ae],Ve={key:2},Te=B(()=>p("br",null,null,-1)),he=c("\u6DFB\u52A0\u8868\u540D\u6620\u5C04"),ke=c("\u9884\u89C8\u8868\u540D\u6620\u5C04"),Se=B(()=>p("span",null,'\u8BF7\u70B9\u51FB"\u6DFB\u52A0\u8868\u540D\u6620\u5C04"\u6309\u94AE\u6DFB\u52A0\u8868\u540D\u6620\u5C04\u5173\u7CFB\u8BB0\u5F55',-1)),we=c("\u5220\u9664"),Ne=B(()=>p("br",null,null,-1)),Me=c("\u6DFB\u52A0\u5B57\u6BB5\u540D\u6620\u5C04"),Ie=c("\u9884\u89C8\u5B57\u6BB5\u540D\u6620\u5C04"),xe=B(()=>p("span",null,'\u8BF7\u70B9\u51FB"\u6DFB\u52A0\u5B57\u6BB5\u540D\u6620\u5C04"\u6309\u94AE\u6DFB\u52A0\u5B57\u6BB5\u540D\u6620\u5C04\u5173\u7CFB\u8BB0\u5F55',-1)),Ue=c("\u5220\u9664"),Le=B(()=>p("br",null,null,-1)),qe={key:3},Oe={key:1},Pe={key:0},ze=c("\u8868\u540D\u6620\u5C04"),$e={key:1},Ke=B(()=>p("br",null,null,-1)),Re=c("\u6DFB\u52A0\u5B57\u6BB5\u540D\u6620\u5C04"),Qe=c("\u9884\u89C8\u5B57\u6BB5\u540D\u6620\u5C04"),Je=B(()=>p("span",null,'\u8BF7\u70B9\u51FB"\u6DFB\u52A0\u5B57\u6BB5\u540D\u6620\u5C04"\u6309\u94AE\u6DFB\u52A0\u5B57\u6BB5\u540D\u6620\u5C04\u5173\u7CFB\u8BB0\u5F55',-1)),je=c("\u5220\u9664"),Ge=B(()=>p("br",null,null,-1)),He={key:2},Xe={key:0},We={key:1},Ye={key:0},Ze={key:1},ua={key:2},ea={key:0},aa={key:1},la={key:0},ta={key:1},ra=B(()=>p("b",null,"\u6240\u6709\u7269\u7406\u8868",-1)),oa=[ra],sa=c(" \u4E0A\u4E00\u6B65 "),na=c(" \u4E0B\u4E00\u6B65 "),da=c(" \u63D0\u4EA4 "),pa={key:0},ia=B(()=>p("br",null,null,-1)),Ea=B(()=>p("br",null,null,-1)),ca=$u({__name:"add-or-update",emits:["refreshDataList"],setup(j,{expose:nu,emit:du}){const G=y(!1),H=y(),au=y([]),L=y();y([]);const T=y(1),u=ru({orgId:"",taskName:"",description:"",projectId:"",sourceDatabaseId:"",sourceDatabase:{},sourceType:"1",sourceSql:"",sourcePrimaryKeys:[],taskType:"",cron:"",databases:[],includeOrExclude:1,sourceTables:[],sourceSelectedTables:[],accessMode:1,targetDatabaseId:"",targetDatabase:{},targetTable:"",targetOnlyCreate:!1,targetSyncExit:!0,targetDropTable:!0,targetDataSync:!1,targetIndexCreate:!1,syncDefaultVal:!1,targetLowerCase:!1,targetUpperCase:!1,targetAutoIncrement:!1,batchSize:1e3,mapperType:"ALL",pks:"",increaseColumnName:"",tableNameMapper:[],columnNameMapper:[],changeDataSyncType:""});y(),Ku(()=>{Wu().then(o=>{u.databases=o.data})});const pu=o=>{T.value=1,G.value=!0,u.id="",H.value&&H.value.resetFields(),Ru().then(t=>{au.value=t.data}),o&&bu(o)},b=ru({}),C=y(),N=y([]),iu=o=>{C.value="",o=="SINGLE"&&(console.log(u.sourceTables),W(),console.log("configMap:"+JSON.stringify(b)))},Eu=()=>{(u.mapperType="SINGLE")&&W()},cu=()=>{(u.mapperType="SINGLE")&&(W(),C.value&&eu(u.sourceDatabaseId,C.value).then(o=>{$.value=o.data}))},W=()=>{if(!u.sourceSelectedTables||u.sourceSelectedTables.length==0){N.value=[];for(var o in u.sourceTables)N.value.push(u.sourceTables[o].tableName)}else u.includeOrExclude==1?N.value=[...u.sourceSelectedTables]:N.value=u.sourceTables.filter(t=>!u.sourceSelectedTables.includes(t));console.log("mapperTableList:"+N.value),C.value="",Fu(N.value);for(var o in N.value){let F=N.value[o];b[F]?b[F].regexTableMapper.length==0&&(b[F].regexTableMapper=[{fromPattern:F,toValue:F}]):(b[F]={},b[F].regexTableMapper=[{fromPattern:F,toValue:F}],b[F].regexColumnMapper=[],b[F].sourcePrimaryKeys=[],b[F].increaseColumnName="")}console.log(b),C.value=N.value[0]},Fu=o=>{for(var t in b)o.includes(t)||delete b[t]},$=y([]),mu=o=>{!o||(b[o].regexTableMapper.length==0&&(b[o].regexTableMapper=[{fromPattern:o,toValue:o}]),eu(u.sourceDatabaseId,o).then(t=>{$.value=t.data}))},Bu=o=>{o||(u.changeDataSyncType=null)},bu=o=>{Gu(o).then(t=>{if(Object.assign(u,t.data),t.data.configMap){N.value=[];for(var F in t.data.configMap)N.value.push(F);C.value=N.value[0],Object.assign(b,t.data.configMap),console.log(b),eu(u.sourceDatabaseId,F).then(d=>{$.value=d.data})}if(u.sourcePrimaryKeys&&u.sourcePrimaryKeys.length>0){for(var I="",J=0;J<u.sourcePrimaryKeys.length;J++)I+=u.sourcePrimaryKeys[J]+",";I.length>0&&(I=I.substr(0,I.length-1)),u.pks=I}u.sourceDatabaseId&&(u.sourceDatabase=u.databases.find(d=>d.id==u.sourceDatabaseId),ou(u.sourceDatabaseId).then(d=>{u.sourceTables=d.data})),u.targetDatabaseId&&(u.targetDatabase=u.databases.find(d=>d.id==u.targetDatabaseId),u.targetDatabase&&u.targetDatabase.databaseType==18?S.value=!0:S.value=!1),u.sourceType==2&&(su(u.sourceDatabaseId,{sql:u.sourceSql}).then(d=>{X.value=d.data}),setTimeout(()=>{L.value.setEditorValue(u.sourceSql)},300))})},fu=o=>{o==2&&setTimeout(()=>{L.value.setEditorValue(u.sourceSql)},300)},Cu=y({orgId:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],taskName:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sourceDatabaseId:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sourceSql:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sourceType:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],taskType:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],cron:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],includeOrExclude:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],accessMode:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetOnlyCreate:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetSyncExit:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetDropTable:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetDataSync:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],syncDefaultVal:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetIndexCreate:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetLowerCase:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetUpperCase:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetDatabaseId:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetTable:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetAutoIncrement:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],batchSize:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],mapperType:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],changeDataSyncType:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),gu=()=>{T.value--<2&&(T.value=1)},Du=()=>{T.value++>4&&(T.value=5)},_u=o=>{!o||(u.sourceDatabase=u.databases.find(t=>t.id==o),u.sourceSelectedTables=[],ou(o).then(t=>{u.sourceTables=t.data}))},yu=o=>{o==1&&u.sourceType==2&&(u.targetTable="")},S=y(!1),Au=o=>{!o||(u.targetDatabase=u.databases.find(t=>t.id==o),u.targetDatabase.databaseType==18?S.value=!0:S.value=!1,u.sourceType==2&&(u.targetTable=""))},X=y([]),vu=()=>{const o=L.value.getEditorValue();if(!o){h.warning("\u8BF7\u586B\u5199 SQL \u8BED\u53E5\uFF08\u5355\u6761 SELECT\uFF09\uFF01");return}if(!u.sourceDatabaseId){h.warning("\u8BF7\u9009\u62E9\u6E90\u7AEF\u6570\u636E\u5E93\uFF01");return}su(u.sourceDatabaseId,{sql:o}).then(t=>{X.value=t.data,h.success("\u89E3\u6790\u6210\u529F\uFF01")})},Vu=()=>{u.tableNameMapper.push({fromPattern:"",toValue:""})},Tu=o=>{u.tableNameMapper.splice(o,1)},hu=()=>{u.columnNameMapper.push({fromPattern:"",toValue:""})},ku=o=>{u.columnNameMapper.splice(o,1)},Su=()=>{b[C.value].regexColumnMapper.push({fromPattern:"",toValue:""})},wu=o=>{b[C.value].regexColumnMapper.splice(o,1)},lu=y([]),Y=y(!1),Nu=()=>{if(!u.sourceDatabaseId){h({message:"\u8BF7\u9009\u62E9\u3010\u6E90\u7AEF\u6570\u636E\u5E93\u3011\uFF01",type:"warning"});return}Hu(JSON.stringify({sourceDatabaseId:u.sourceDatabaseId,includeOrExclude:u.includeOrExclude,sourceSelectedTables:u.sourceSelectedTables,tableNameMapper:u.tableNameMapper,targetLowerCase:u.accessMode=="1"?!0:u.targetLowerCase,targetUpperCase:u.accessMode=="1"?!1:u.targetUpperCase,tablePrefix:u.accessMode=="1"?"ods_":""})).then(o=>{lu.value=o.data,Y.value=!0})},q=y([]),K=y(""),R=y([]),Q=y(!1),Mu=()=>{if(u.sourceType==1){if(!u.sourceDatabaseId){h({message:"\u8BF7\u9009\u62E9\u3010\u6E90\u7AEF\u6570\u636E\u5E93\u3011\uFF01",type:"warning"});return}if(u.includeOrExclude=="1")u.sourceSelectedTables.length==0?q.value=u.sourceTables.map(F=>F.tableName):q.value=u.sourceSelectedTables;else{q.value=u.sourceTables.map(F=>F.tableName);for(var o=0;o<u.sourceSelectedTables.length;o++){var t=u.sourceSelectedTables[o];q.value.some((F,I)=>{if(F==t)return q.value.splice(I,1),!0})}}K.value="",R.value=[],Q.value=!0}else{if(!u.sourceDatabaseId){h({message:"\u8BF7\u9009\u62E9\u3010\u6E90\u7AEF\u6570\u636E\u5E93\u3011\uFF01",type:"warning"});return}if(u.sourceSql=L.value.getEditorValue(),!u.sourceSql){h({message:"\u8BF7\u586B\u5199\u6E90\u7AEF SQL \u8BED\u53E5\uFF08\u5355\u6761 SELECT\uFF09",type:"warning"});return}uu(JSON.stringify({sourceType:u.sourceType,sourceDatabaseId:u.sourceDatabaseId,columnNameMapper:u.columnNameMapper,sourceSql:u.sourceSql})).then(F=>{R.value=F.data,Q.value=!0})}},Iu=()=>{if(!u.sourceDatabaseId){h({message:"\u8BF7\u9009\u62E9\u3010\u6E90\u7AEF\u6570\u636E\u5E93\u3011\uFF01",type:"warning"});return}if(!K.value){h({message:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u8868\u540D\uFF01",type:"warning"});return}uu(JSON.stringify({sourceDatabaseId:u.sourceDatabaseId,includeOrExclude:u.includeOrExclude,preiveTableName:K.value,columnNameMapper:u.columnNameMapper,targetLowerCase:u.accessMode=="1"?!0:u.targetLowerCase,targetUpperCase:u.accessMode=="1"?!1:u.targetUpperCase,tablePrefix:u.accessMode=="1"?"ods_":""})).then(o=>{R.value=o.data})},xu=()=>{if(!u.sourceDatabaseId){h({message:"\u8BF7\u9009\u62E9\u3010\u6E90\u7AEF\u6570\u636E\u5E93\u3011\uFF01",type:"warning"});return}uu(JSON.stringify({sourceDatabaseId:u.sourceDatabaseId,includeOrExclude:u.includeOrExclude,preiveTableName:C.value,columnNameMapper:b[C.value].regexColumnMapper,targetLowerCase:u.accessMode=="1"?!0:u.targetLowerCase,targetUpperCase:u.accessMode=="1"?!1:u.targetUpperCase,tablePrefix:u.accessMode=="1"?"ods_":""})).then(o=>{R.value=o.data,Q.value=!0})},Uu=()=>{u.sourceType==2&&(u.sourceSql=L.value.getEditorValue()),H.value.validate(o=>{if(!o)return h({message:"\u8BF7\u5C06\u6BCF\u4E00\u6B65\u7684\u53C2\u6570\u5FC5\u586B\u9879\u586B\u5199\u5B8C\u6BD5\u540E\u518D\u63D0\u4EA4\uFF01",type:"warning"}),!1;if(u.taskType!="3"&&(u.cron=""),u.targetDataSync||(u.changeDataSyncType=null),u.accessMode=="1"&&(u.targetDatabaseId="",u.targetLowerCase=!0,u.targetUpperCase=!1,u.targetDatabase={}),u.sourceType==2){if(u.mapperType="ALL",u.sourceSql=L.value.getEditorValue(),!u.sourceSql)return h.warning("\u8BF7\u5C06\u6BCF\u4E00\u6B65\u7684\u53C2\u6570\u5FC5\u586B\u9879\u586B\u5199\u5B8C\u6BD5\u540E\u518D\u63D0\u4EA4\uFF01"),!1;if(u.targetOnlyCreate=!1,u.targetIndexCreate=!1,u.syncDefaultVal=!1,u.changeDataSyncType=="INCREASE_COLUMN"&&!u.increaseColumnName)return h.warning("\u8BF7\u586B\u5199\u589E\u91CF\u5B57\u6BB5"),!1}else{if(u.mapperType=="ALL"){if(u.configMap=null,u.pks?u.pks.trim()!=""&&(u.sourcePrimaryKeys=u.pks.split(",")):u.sourcePrimaryKeys=[],u.changeDataSyncType=="INCREASE_COLUMN"&&!u.increaseColumnName)return h.warning("\u8BF7\u586B\u5199\u589E\u91CF\u5B57\u6BB5"),!1}else if(u.sourcePrimaryKeys=[],u.increaseColumnName="",u.regexTableMapper=[],u.regexColumnMapper=[],u.configMap=b,u.changeDataSyncType=="INCREASE_COLUMN"){for(var t in b)if(!b[t].increaseColumnName)return h.warning("\u8BF7\u9009\u62E9\u8868\u3010"+t+"\u3011\u7684\u589E\u91CF\u5B57\u6BB5"),!1}u.sourceSql=""}S.value&&(u.targetOnlyCreate=!1,u.targetDropTable=!0,u.targetDataSync=!1,u.targetIndexCreate=!1,u.syncDefaultVal=!1,u.targetLowerCase=!1,u.targetUpperCase=!1,u.targetAutoIncrement=!1),Xu(u).then(()=>{h.success({message:"\u64CD\u4F5C\u6210\u529F",duration:500,onClose:()=>{G.value=!1,du("refreshDataList")}})})})};return nu({init:pu}),(o,t)=>{const F=D("el-step"),I=D("el-steps"),J=D("el-tree-select"),d=D("el-form-item"),w=D("el-input"),Lu=D("fast-radio-group"),i=D("el-option"),g=D("el-select"),Z=D("fast-select"),A=D("QuestionFilled"),v=D("el-icon"),V=D("el-tooltip"),M=D("el-button"),k=D("el-table-column"),O=D("el-table"),qu=D("el-tag"),f=D("el-descriptions-item"),Ou=D("el-descriptions"),Pu=D("el-form"),tu=D("el-dialog"),zu=D("el-drawer");return r(),n(zu,{modelValue:G.value,"onUpdate:modelValue":t[44]||(t[44]=l=>G.value=l),title:u.id?"\u4FEE\u6539":"\u65B0\u589E",size:"100%"},{footer:a(()=>[T.value>1?(r(),n(M,{key:0,round:"",size:"large",onClick:t[38]||(t[38]=l=>gu())},{default:a(()=>[sa]),_:1})):s("",!0),T.value>0&&T.value<5?(r(),n(M,{key:1,round:"",size:"large",onClick:t[39]||(t[39]=l=>Du())},{default:a(()=>[na]),_:1})):s("",!0),T.value==5?(r(),n(M,{key:2,type:"primary",round:"",size:"large",onClick:t[40]||(t[40]=l=>Uu())},{default:a(()=>[da]),_:1})):s("",!0)]),default:a(()=>[Zu,e(I,{active:T.value},{default:a(()=>[e(F,{title:"\u57FA\u672C\u4FE1\u606F\u914D\u7F6E"}),e(F,{title:"\u540C\u6B65\u6E90\u7AEF\u914D\u7F6E"}),e(F,{title:"\u76EE\u6807\u7AEF(ods)\u914D\u7F6E"}),e(F,{title:"\u6620\u5C04\u8F6C\u6362\u914D\u7F6E"}),e(F,{title:"\u914D\u7F6E\u786E\u8BA4\u63D0\u4EA4"})]),_:1},8,["active"]),ue,e(Pu,{ref_key:"dataFormRef",ref:H,model:u,rules:Cu.value,"label-width":"100px"},{default:a(()=>[P(p("div",null,[e(d,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784"},{default:a(()=>[e(J,{clearable:"",modelValue:u.orgId,"onUpdate:modelValue":t[0]||(t[0]=l=>u.orgId=l),data:au.value,"check-strictly":"","value-key":"id",props:{label:"name",children:"children"},style:{width:"100%"}},null,8,["modelValue","data"])]),_:1}),e(d,{label:"\u4EFB\u52A1\u540D\u79F0",prop:"taskName"},{default:a(()=>[e(w,{modelValue:u.taskName,"onUpdate:modelValue":t[1]||(t[1]=l=>u.taskName=l),placeholder:"\u4EFB\u52A1\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u63CF\u8FF0",prop:"description"},{default:a(()=>[e(w,{modelValue:u.description,"onUpdate:modelValue":t[2]||(t[2]=l=>u.description=l),placeholder:"\u63CF\u8FF0"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u8C03\u5EA6\u7C7B\u578B",prop:"taskType"},{default:a(()=>[e(Lu,{modelValue:u.taskType,"onUpdate:modelValue":t[3]||(t[3]=l=>u.taskType=l),"dict-type":"task_type"},null,8,["modelValue"])]),_:1}),u.taskType=="3"?(r(),n(d,{key:0,label:"cron\u8868\u8FBE\u5F0F",prop:"cron"},{default:a(()=>[e(w,{modelValue:u.cron,"onUpdate:modelValue":t[4]||(t[4]=l=>u.cron=l),placeholder:"cron\u8868\u8FBE\u5F0F"},null,8,["modelValue"])]),_:1})):s("",!0)],512),[[z,T.value==1]]),P(p("div",null,[e(d,{label:"\u6E90\u7AEF\u6570\u636E\u5E93",prop:"sourceDatabaseId","label-width":"auto"},{default:a(()=>[e(g,{modelValue:u.sourceDatabaseId,"onUpdate:modelValue":t[5]||(t[5]=l=>u.sourceDatabaseId=l),onChange:_u,clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:a(()=>[(r(!0),E(U,null,x(u.databases,(l,m)=>(r(),n(i,{key:l.id,label:`[${l.id}]${l.name}`,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u6E90\u7AEF\u7C7B\u578B",prop:"sourceType","label-width":"auto"},{default:a(()=>[e(Z,{modelValue:u.sourceType,"onUpdate:modelValue":t[6]||(t[6]=l=>u.sourceType=l),"dict-type":"source_type",placeholder:"\u8BF7\u9009\u62E9",onChange:fu},null,8,["modelValue"])]),_:1}),u.sourceType==1?(r(),n(d,{key:0,label:"\u914D\u7F6E\u65B9\u5F0F",prop:"includeOrExclude","label-width":"auto"},{default:a(()=>[e(g,{placeholder:"\u8BF7\u9009\u62E9\u914D\u7F6E\u65B9\u5F0F",modelValue:u.includeOrExclude,"onUpdate:modelValue":t[7]||(t[7]=l=>u.includeOrExclude=l),onChange:Eu},{default:a(()=>[e(i,{label:"\u5305\u542B\u8868",value:1}),e(i,{label:"\u6392\u9664\u8868",value:0})]),_:1},8,["modelValue"])]),_:1})):s("",!0),u.sourceType==1?(r(),n(d,{key:1,label:"\u8868\u540D\u914D\u7F6E",prop:"sourceSelectedTables","label-width":"auto"},{default:a(()=>[e(g,{placeholder:"\u8BF7\u9009\u62E9\u8868\u540D",multiple:"",filterable:"",clearable:"",onChange:cu,modelValue:u.sourceSelectedTables,"onUpdate:modelValue":t[8]||(t[8]=l=>u.sourceSelectedTables=l)},{default:a(()=>[(r(!0),E(U,null,x(u.sourceTables,(l,m)=>(r(),n(i,{key:l.tableName,label:l.tableName,value:l.tableName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u.sourceType==1?(r(),n(V,{key:0,placement:"top",content:"\u5F53\u4E3A\u5305\u542B\u8868\u65F6\uFF0C\u9009\u62E9\u6240\u8981\u7CBE\u786E\u5305\u542B\u7684\u8868\u540D\uFF0C\u5982\u679C\u4E0D\u9009\u5219\u4EE3\u8868\u9009\u62E9\u6240\u6709\uFF1B\u5F53\u4E3A\u6392\u9664\u8868\u65F6\uFF0C\u9009\u62E9\u9700\u8981\u7CBE\u786E\u6392\u9664\u7684\u8868\u540D\u3002"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})):s("",!0)]),_:1})):s("",!0),u.sourceType==2?(r(),n(d,{key:2,label:"SQL",prop:"sourceSql","label-width":"auto"},{default:a(()=>[p("div",null,[p("div",ee,[e(M,{type:"warning",size:"small",onClick:t[9]||(t[9]=l=>vu())},{default:a(()=>[ae]),_:1}),e(V,{placement:"right",content:"SQL \u4E3A\u5355\u6761 SELECT \u8BED\u53E5,\u70B9\u51FB\u89E3\u6790 SQL \u53EF\u4EE5\u83B7\u53D6\u5B57\u6BB5\u5217\u8868, \u9009\u62E9\u552F\u4E00\u952E"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),p("div",le,[e(Yu,{ref_key:"sqlStudioRef",ref:L,id:"accessSourceSql"},null,512)])])]),_:1})):s("",!0),u.sourceType==2?(r(),n(d,{key:3,label:"\u4E3B\u952E",prop:"sourcePrimaryKeys","label-width":"auto"},{default:a(()=>[e(g,{modelValue:u.sourcePrimaryKeys,"onUpdate:modelValue":t[10]||(t[10]=l=>u.sourcePrimaryKeys=l),multiple:"",clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:a(()=>[(r(!0),E(U,null,x(X.value,(l,m)=>(r(),n(i,{key:l.fieldName,label:`${l.fieldName}`,value:l.fieldName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(V,{placement:"right",content:"\u5982\u679C\u8981\u6839\u636E\u4E3B\u952E\u589E\u91CF\u540C\u6B65,\u5219\u9009\u62E9\u7684\u4E3B\u952E\u5FC5\u987B\u4E0E\u76EE\u6807\u8868\u7684\u4E3B\u952E\u4FDD\u6301\u4E00\u81F4,\u82E5\u76EE\u6807\u8868\u4E0D\u5B58\u5728,\u521B\u5EFA\u76EE\u6807\u8868\u4F1A\u4EE5\u5F53\u524D\u9009\u62E9\u7684\u5B57\u6BB5\u4F5C\u4E3A\u4E3B\u952E!"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0),u.sourceType==2?(r(),n(d,{key:4,label:"\u589E\u91CF\u5B57\u6BB5",prop:"increaseColumnName","label-width":"auto"},{default:a(()=>[e(g,{modelValue:u.increaseColumnName,"onUpdate:modelValue":t[11]||(t[11]=l=>u.increaseColumnName=l),clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:a(()=>[(r(!0),E(U,null,x(X.value,(l,m)=>(r(),n(i,{key:l.fieldName,label:`${l.fieldName}`,value:l.fieldName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(V,{placement:"right",content:"\u5982\u679C\u8981\u6839\u636E\u589E\u91CF\u5B57\u6BB5\u589E\u91CF\u540C\u6B65,\u8BF7\u9009\u62E9\u589E\u91CF\u5B57\u6BB5"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0)],512),[[z,T.value==2]]),P(p("div",null,[e(d,{label:"\u63A5\u5165\u65B9\u5F0F","label-width":"auto",prop:"accessMode"},{default:a(()=>[e(g,{placeholder:"\u8BF7\u9009\u62E9\u63A5\u5165\u65B9\u5F0F",modelValue:u.accessMode,"onUpdate:modelValue":t[12]||(t[12]=l=>u.accessMode=l),onChange:yu},{default:a(()=>[e(i,{label:"\u63A5\u5165\u5230ods\u5C42",value:1}),e(i,{label:"\u81EA\u5B9A\u4E49\u63A5\u5165",value:2})]),_:1},8,["modelValue"])]),_:1}),u.accessMode=="2"?(r(),n(d,{key:0,label:"\u63A5\u5165\u6570\u636E\u5E93","label-width":"auto",prop:"targetDatabaseId"},{default:a(()=>[e(g,{modelValue:u.targetDatabaseId,"onUpdate:modelValue":t[13]||(t[13]=l=>u.targetDatabaseId=l),onChange:Au,clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:a(()=>[(r(!0),E(U,null,x(u.databases,(l,m)=>(r(),n(i,{key:l.id,label:`[${l.id}]${l.name}`,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):s("",!0),u.sourceType==2?(r(),n(d,{key:1,label:"\u63A5\u5165\u8868",prop:"targetTable","label-width":"auto"},{default:a(()=>[e(w,{style:{width:"300px"},modelValue:u.targetTable,"onUpdate:modelValue":t[14]||(t[14]=l=>u.targetTable=l),placeholder:"\u63A5\u5165\u8868"},null,8,["modelValue"]),e(V,{placement:"top",content:"\u82E5\u76EE\u7684\u7AEF\u6CA1\u6709\u8BE5\u8868,\u5219\u4F1A\u81EA\u52A8\u521B\u5EFA"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0),u.sourceType==1&&!S.value?(r(),n(d,{key:2,label:"\u53EA\u521B\u5EFA\u8868","label-width":"auto",prop:"targetOnlyCreate"},{default:a(()=>[e(g,{modelValue:u.targetOnlyCreate,"onUpdate:modelValue":t[15]||(t[15]=l=>u.targetOnlyCreate=l)},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"]),e(V,{placement:"top",content:"\u53EA\u5728\u76EE\u6807\u7AEF\u521B\u5EFA\u8868\uFF0C\u4E0D\u540C\u6B65\u6570\u636E\u5185\u5BB9\u3002"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0),e(d,{label:"\u662F\u5426\u540C\u6B65\u5DF2\u5B58\u5728\u7684\u8868","label-width":"auto",prop:"targetSyncExit"},{default:a(()=>[e(g,{modelValue:u.targetSyncExit,"onUpdate:modelValue":t[16]||(t[16]=l=>u.targetSyncExit=l)},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"])]),_:1}),S.value?s("",!0):(r(),n(d,{key:3,label:"\u540C\u6B65\u524D\u662F\u5426\u5220\u9664\u76EE\u7684\u8868","label-width":"auto",prop:"targetDropTable"},{default:a(()=>[e(g,{modelValue:u.targetDropTable,"onUpdate:modelValue":t[17]||(t[17]=l=>u.targetDropTable=l)},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"])]),_:1})),S.value?s("",!0):(r(),n(d,{key:4,label:"\u662F\u5426\u542F\u7528\u589E\u91CF\u53D8\u66F4\u540C\u6B65","label-width":"auto",prop:"targetDataSync"},{default:a(()=>[e(g,{modelValue:u.targetDataSync,"onUpdate:modelValue":t[18]||(t[18]=l=>u.targetDataSync=l),onChange:Bu},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"]),e(V,{placement:"top",content:"\u8868\u4E0D\u5B58\u5728\u65F6\u4F1A\u81EA\u52A8\u5EFA\u8868,\u6839\u636E\u4E3B\u952E\u6392\u5E8F\u6BD4\u5BF9\u540C\u6B65"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})),!S.value&&u.targetDataSync?(r(),n(d,{key:5,label:"\u589E\u91CF\u53D8\u66F4\u540C\u6B65\u7C7B\u578B","label-width":"auto",prop:"changeDataSyncType"},{default:a(()=>[e(Z,{modelValue:u.changeDataSyncType,"onUpdate:modelValue":t[19]||(t[19]=l=>u.changeDataSyncType=l),"dict-type":"change_data_sync_type",placeholder:"\u589E\u91CF\u53D8\u66F4\u540C\u6B65\u7C7B\u578B",clearable:""},null,8,["modelValue"])]),_:1})):s("",!0),u.sourceType==1&&!S.value?(r(),n(d,{key:6,label:"\u662F\u5426\u540C\u6B65\u7D22\u5F15","label-width":"auto",prop:"targetIndexCreate"},{default:a(()=>[e(g,{modelValue:u.targetIndexCreate,"onUpdate:modelValue":t[20]||(t[20]=l=>u.targetIndexCreate=l)},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"]),e(V,{placement:"top",content:"\u4EC5\u751F\u6548\u4E8E\u90E8\u5206\u6570\u636E\u5E93,\u8868\u4E0D\u5B58\u5728\u65F6\u5EFA\u8868\u65F6\u624D\u751F\u6548"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0),u.sourceType==1&&!S.value?(r(),n(d,{key:7,label:"\u662F\u5426\u540C\u6B65\u9ED8\u8BA4\u503C","label-width":"auto",prop:"syncDefaultVal"},{default:a(()=>[e(g,{modelValue:u.syncDefaultVal,"onUpdate:modelValue":t[21]||(t[21]=l=>u.syncDefaultVal=l)},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"]),e(V,{placement:"top",content:"\u4EC5\u751F\u6548\u4E8E\u90E8\u5206\u6570\u636E\u5E93,\u8868\u4E0D\u5B58\u5728\u65F6\u5EFA\u8868\u65F6\u624D\u751F\u6548"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0),!u.targetUpperCase&&u.accessMode=="2"&&!S.value?(r(),n(d,{key:8,label:"\u662F\u5426\u8868\u540D\u5B57\u6BB5\u540D\u8F6C\u5C0F\u5199","label-width":"auto",prop:"targetLowerCase"},{default:a(()=>[e(g,{modelValue:u.targetLowerCase,"onUpdate:modelValue":t[22]||(t[22]=l=>u.targetLowerCase=l)},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"]),e(V,{placement:"top",content:"\u8868\u4E0D\u5B58\u5728\u65F6\u5EFA\u8868\u65F6\u624D\u751F\u6548"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0),!u.targetLowerCase&&u.accessMode=="2"&&!S.value?(r(),n(d,{key:9,label:"\u662F\u5426\u8868\u540D\u5B57\u6BB5\u540D\u8F6C\u5927\u5199","label-width":"auto",prop:"targetUpperCase"},{default:a(()=>[e(g,{modelValue:u.targetUpperCase,"onUpdate:modelValue":t[23]||(t[23]=l=>u.targetUpperCase=l)},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"]),e(V,{placement:"top",content:"\u8868\u4E0D\u5B58\u5728\u65F6\u5EFA\u8868\u65F6\u624D\u751F\u6548"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0),S.value?s("",!0):(r(),n(d,{key:10,label:"\u662F\u5426\u4E3B\u952E\u81EA\u52A8\u9012\u589E","label-width":"auto",prop:"targetAutoIncrement"},{default:a(()=>[e(g,{modelValue:u.targetAutoIncrement,"onUpdate:modelValue":t[24]||(t[24]=l=>u.targetAutoIncrement=l)},{default:a(()=>[e(i,{label:"\u662F",value:!0}),e(i,{label:"\u5426",value:!1})]),_:1},8,["modelValue"]),e(V,{placement:"top",content:"\u4EC5\u751F\u6548\u4E8E\u90E8\u5206\u6570\u636E\u5E93,\u8868\u4E0D\u5B58\u5728\u65F6\u751F\u6548,\u4E0D\u652F\u6301\u590D\u5408\u4E3B\u952E"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})),e(d,{label:"\u6570\u636E\u5904\u7406\u6279\u6B21\u5927\u5C0F","label-width":"auto",prop:"batchSize"},{default:a(()=>[e(g,{modelValue:u.batchSize,"onUpdate:modelValue":t[25]||(t[25]=l=>u.batchSize=l)},{default:a(()=>[e(i,{label:"1000",value:1e3}),e(i,{label:"2000",value:2e3}),e(i,{label:"3000",value:3e3}),e(i,{label:"4000",value:4e3}),e(i,{label:"5000",value:5e3}),e(i,{label:"10000",value:1e4})]),_:1},8,["modelValue"]),e(V,{placement:"top",content:"\u6570\u636E\u540C\u6B65\u65F6\u5355\u4E2A\u6279\u6B21\u5904\u7406\u7684\u884C\u8BB0\u5F55\u603B\u6570\uFF0C\u8BE5\u503C\u8D8A\u5927\u8D8A\u5360\u7528\u5185\u5B58\u7A7A\u95F4\u3002\u5EFA\u8BAE\uFF1A\u5C0F\u5B57\u6BB5\u8868\u8BBE\u7F6E\u4E3A5000\uFF0C\u5927\u5B57\u6BB5\u8868\u8BBE\u7F6E\u4E3A1000"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})],512),[[z,T.value==3]]),P(p("div",null,[u.sourceType==1?(r(),n(d,{key:0,label:"\u6620\u5C04\u7C7B\u578B",prop:"mapperType","label-width":"auto"},{default:a(()=>[e(Z,{onChange:iu,modelValue:u.mapperType,"onUpdate:modelValue":t[26]||(t[26]=l=>u.mapperType=l),"dict-type":"mapper_type",placeholder:"\u6620\u5C04\u7C7B\u578B",clearable:""},null,8,["modelValue"]),e(V,{placement:"right",content:"\u7EDF\u4E00\u6620\u5C04:\u7EDF\u4E00\u914D\u7F6E\u6620\u5C04\u5173\u7CFB;\u5355\u72EC\u6620\u5C04:\u5355\u72EC\u914D\u7F6E\u6BCF\u5F20\u8868\u7684\u6620\u5C04\u5173\u7CFB."},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0),!!u.mapperType||u.sourceType==2?(r(),E("div",te,[u.mapperType=="ALL"||u.sourceType==2?(r(),E("div",re,[u.sourceType==1?(r(),E("div",oe,Be)):s("",!0),u.sourceType==2?(r(),E("div",be,ve)):s("",!0),u.sourceType==1?(r(),E("div",Ve,[Te,e(M,{type:"success",onClick:t[27]||(t[27]=l=>Vu()),round:""},{default:a(()=>[he]),_:1}),e(M,{type:"primary",onClick:t[28]||(t[28]=l=>Nu()),round:""},{default:a(()=>[ke]),_:1}),e(O,{data:u.tableNameMapper,size:"small",border:"",height:"110",style:{"margin-top":"15px"}},{empty:a(()=>[Se]),default:a(()=>[e(k,{label:"\u8868\u540D\u5339\u914D\u7684\u6B63\u5219\u540D",width:"320"},{default:a(l=>[e(w,{modelValue:l.row.fromPattern,"onUpdate:modelValue":m=>l.row.fromPattern=m,type:"string"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(k,{label:"\u66FF\u6362\u7684\u76EE\u6807\u503C",width:"320"},{default:a(l=>[e(w,{modelValue:l.row.toValue,"onUpdate:modelValue":m=>l.row.toValue=m,type:"string"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(k,{label:"\u64CD\u4F5C",width:"220"},{default:a(l=>[e(M,{size:"small",type:"danger",onClick:m=>Tu(l.$index)},{default:a(()=>[we]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):s("",!0),p("div",null,[Ne,e(M,{type:"success",onClick:t[29]||(t[29]=l=>hu()),round:""},{default:a(()=>[Me]),_:1}),e(M,{type:"primary",onClick:t[30]||(t[30]=l=>Mu()),round:""},{default:a(()=>[Ie]),_:1}),e(O,{data:u.columnNameMapper,size:"small",border:"",height:"110",style:{"margin-top":"15px"}},{empty:a(()=>[xe]),default:a(()=>[e(k,{label:"\u5B57\u6BB5\u540D\u5339\u914D\u7684\u6B63\u5219\u540D",width:"320"},{default:a(l=>[e(w,{modelValue:l.row.fromPattern,"onUpdate:modelValue":m=>l.row.fromPattern=m,type:"string"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(k,{label:"\u66FF\u6362\u7684\u76EE\u6807\u503C",width:"320"},{default:a(l=>[e(w,{modelValue:l.row.toValue,"onUpdate:modelValue":m=>l.row.toValue=m,type:"string"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(k,{label:"\u64CD\u4F5C",width:"220"},{default:a(l=>[e(M,{size:"small",type:"danger",onClick:m=>ku(l.$index)},{default:a(()=>[Ue]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),Le,u.sourceType==1?(r(),E("div",qe,[e(d,{label:"\u8868\u4E3B\u952E(\u552F\u4E00\u5B57\u6BB5)",prop:"pks","label-width":"auto"},{default:a(()=>[e(w,{style:{width:"300px"},modelValue:u.pks,"onUpdate:modelValue":t[31]||(t[31]=l=>u.pks=l),placeholder:"\u586B\u5199\u8868\u7684\u4E3B\u952E",clearable:""},null,8,["modelValue"]),e(V,{placement:"right",content:"\u975E\u5FC5\u586B,\u4E0D\u586B\u7A0B\u5E8F\u4F1A\u81EA\u884C\u83B7\u53D6\u8868\u4E3B\u952E;\u591A\u4E2A\u7528\u82F1\u6587\u9017\u53F7\u9694\u5F00,\u9002\u7528\u4E8E\u6240\u6709\u8868\u4E3B\u952E\u4E00\u81F4\u7684\u60C5\u51B5"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1}),u.changeDataSyncType=="INCREASE_COLUMN"?(r(),n(d,{key:0,label:"\u589E\u91CF\u5B57\u6BB5",prop:"increaseColumnName","label-width":"auto"},{default:a(()=>[e(w,{style:{width:"300px"},modelValue:u.increaseColumnName,"onUpdate:modelValue":t[32]||(t[32]=l=>u.increaseColumnName=l),placeholder:"\u586B\u5199\u8868\u7684\u589E\u91CF\u5B57\u6BB5",clearable:""},null,8,["modelValue"]),e(V,{placement:"right",content:"\u7EDF\u4E00\u8BBE\u7F6E\u8868\u7684\u589E\u91CF\u5B57\u6BB5,\u786E\u4FDD\u88AB\u540C\u6B65\u7684\u8868\u90FD\u6709\u6B64\u5B57\u6BB5"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1})):s("",!0)])):s("",!0)])):(r(),E("div",Oe,[e(d,{label:"\u9009\u62E9\u8868\u540D","label-width":"auto"},{default:a(()=>[e(g,{placeholder:"\u8BF7\u9009\u62E9\u9700\u8981\u914D\u7F6E\u7684\u8868\u540D",filterable:"",clearable:"",onChange:mu,modelValue:C.value,"onUpdate:modelValue":t[33]||(t[33]=l=>C.value=l)},{default:a(()=>[(r(!0),E(U,null,x(N.value,(l,m)=>(r(),n(i,{key:m,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(V,{placement:"right",content:"\u9009\u62E9\u6307\u5B9A\u7684\u8868\u8FDB\u884C\u914D\u7F6E"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1}),C.value?(r(),E("div",Pe,[e(qu,{type:"success",effect:"dark",size:"large",round:""},{default:a(()=>[ze]),_:1}),e(O,{data:b[C.value].regexTableMapper,size:"small",border:"",height:"75",style:{"margin-top":"15px"}},{default:a(()=>[e(k,{label:"\u8868\u540D\u5339\u914D\u7684\u6B63\u5219\u540D",width:"320"},{default:a(l=>[e(w,{modelValue:l.row.fromPattern,"onUpdate:modelValue":m=>l.row.fromPattern=m,type:"string"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(k,{label:"\u66FF\u6362\u7684\u76EE\u6807\u503C",width:"320"},{default:a(l=>[e(w,{modelValue:l.row.toValue,"onUpdate:modelValue":m=>l.row.toValue=m,type:"string"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])])):s("",!0),C.value?(r(),E("div",$e,[Ke,e(M,{type:"success",onClick:t[34]||(t[34]=l=>Su()),round:""},{default:a(()=>[Re]),_:1}),e(M,{type:"primary",onClick:t[35]||(t[35]=l=>xu()),round:""},{default:a(()=>[Qe]),_:1}),e(O,{data:b[C.value].regexColumnMapper,size:"small",border:"",height:"110",style:{"margin-top":"15px"}},{empty:a(()=>[Je]),default:a(()=>[e(k,{label:"\u5B57\u6BB5\u540D\u5339\u914D\u7684\u6B63\u5219\u540D",width:"320"},{default:a(l=>[e(w,{modelValue:l.row.fromPattern,"onUpdate:modelValue":m=>l.row.fromPattern=m,type:"string"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(k,{label:"\u66FF\u6362\u7684\u76EE\u6807\u503C",width:"320"},{default:a(l=>[e(w,{modelValue:l.row.toValue,"onUpdate:modelValue":m=>l.row.toValue=m,type:"string"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(k,{label:"\u64CD\u4F5C",width:"220"},{default:a(l=>[e(M,{size:"small",type:"danger",onClick:m=>wu(l.$index)},{default:a(()=>[je]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])):s("",!0),Ge,C.value?(r(),E("div",He,[e(d,{label:"\u8868\u4E3B\u952E(\u552F\u4E00\u5B57\u6BB5)","label-width":"auto"},{default:a(()=>[e(g,{modelValue:b[C.value].sourcePrimaryKeys,"onUpdate:modelValue":t[36]||(t[36]=l=>b[C.value].sourcePrimaryKeys=l),placeholder:"\u8BF7\u9009\u62E9",clearable:"",multiple:""},{default:a(()=>[(r(!0),E(U,null,x($.value,(l,m)=>(r(),n(i,{key:l.fieldName,label:l.fieldName,value:l.fieldName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(V,{placement:"right",content:"\u82E5\u4E0D\u9009\u62E9\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u83B7\u53D6\u8868\u4E3B\u952E"},{default:a(()=>[e(v,null,{default:a(()=>[e(A)]),_:1})]),_:1})]),_:1}),u.changeDataSyncType=="INCREASE_COLUMN"?(r(),n(d,{key:0,label:"\u589E\u91CF\u5B57\u6BB5","label-width":"auto"},{default:a(()=>[e(g,{modelValue:b[C.value].increaseColumnName,"onUpdate:modelValue":t[37]||(t[37]=l=>b[C.value].increaseColumnName=l),placeholder:"\u8BF7\u9009\u62E9",clearable:""},{default:a(()=>[(r(!0),E(U,null,x($.value,(l,m)=>(r(),n(i,{key:l.fieldName,label:l.fieldName,value:l.fieldName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):s("",!0)])):s("",!0)]))])):s("",!0)],512),[[z,T.value==4]]),P(p("div",null,[e(Ou,{size:"default",column:1,"label-class-name":"el-descriptions-item-label-class",border:""},{default:a(()=>[e(f,{label:"\u4EFB\u52A1\u540D\u79F0"},{default:a(()=>[c(_(u.taskName),1)]),_:1}),e(f,{label:"\u4EFB\u52A1\u63CF\u8FF0"},{default:a(()=>[c(_(u.description),1)]),_:1}),e(f,{label:"\u63A5\u5165\u7C7B\u578B"},{default:a(()=>[u.accessMode=="1"?(r(),E("span",Xe," \u63A5\u5165ods\u8D34\u6E90\u5C42 ")):s("",!0),u.accessMode=="2"?(r(),E("span",We," \u81EA\u5B9A\u4E49\u63A5\u5165 ")):s("",!0)]),_:1}),e(f,{label:"\u8C03\u5EA6\u7C7B\u578B"},{default:a(()=>[u.taskType=="1"?(r(),E("span",Ye," \u5B9E\u65F6\u540C\u6B65 ")):s("",!0),u.taskType=="2"?(r(),E("span",Ze," \u4E00\u6B21\u6027 ")):s("",!0),u.taskType=="3"?(r(),E("span",ua," \u5468\u671F\u6027 ")):s("",!0)]),_:1}),u.taskType=="3"?(r(),n(f,{key:0,label:"cron\u8868\u8FBE\u5F0F"},{default:a(()=>[c(_(u.cron),1)]),_:1})):s("",!0),e(f,{label:"\u6E90\u7AEF\u7C7B\u578B"},{default:a(()=>[u.sourceType=="1"?(r(),E("span",ea," \u6307\u5B9A\u8868 ")):s("",!0),u.sourceType=="2"?(r(),E("span",aa," \u81EA\u5B9A\u4E49 SQL ")):s("",!0)]),_:1}),e(f,{label:"\u6E90\u7AEF\u6570\u636E\u5E93"},{default:a(()=>[c("["+_(u.sourceDatabaseId)+"]"+_(u.sourceDatabase.name),1)]),_:1}),u.sourceType=="2"?(r(),n(f,{key:1,label:"\u6E90\u7AEFSQL"},{default:a(()=>[c(_(u.sourceSql),1)]),_:1})):s("",!0),u.sourceType=="1"?(r(),n(f,{key:2,label:"\u6E90\u7AEF\u8868\u9009\u62E9\u65B9\u5F0F"},{default:a(()=>[u.includeOrExclude=="1"?(r(),E("span",la," \u5305\u542B\u8868 ")):s("",!0),u.includeOrExclude=="0"?(r(),E("span",ta," \u6392\u9664\u8868 ")):s("",!0)]),_:1})):s("",!0),u.sourceType=="1"?(r(),n(f,{key:3,label:"\u6E90\u7AEF\u8868\u540D\u5217\u8868"},{default:a(()=>[P(p("span",null,oa,512),[[z,u.includeOrExclude=="1"&&(!u.sourceSelectedTables||u.sourceSelectedTables.length==0)]]),(r(!0),E(U,null,x(u.sourceSelectedTables,l=>(r(),E("p",{key:l},_(l),1))),128))]),_:1})):s("",!0),u.accessMode=="2"?(r(),n(f,{key:4,label:"\u76EE\u7684\u7AEF\u6570\u636E\u6E90"},{default:a(()=>[c("["+_(u.targetDatabaseId)+"]"+_(u.targetDatabase.name),1)]),_:1})):s("",!0),u.sourceType=="2"?(r(),n(f,{key:5,label:"\u76EE\u7684\u8868"},{default:a(()=>[c(_(u.targetTable),1)]),_:1})):s("",!0),u.sourceType=="1"?(r(),n(f,{key:6,label:"\u53EA\u521B\u5EFA\u8868"},{default:a(()=>[c(_(u.targetOnlyCreate),1)]),_:1})):s("",!0),e(f,{label:"\u662F\u5426\u540C\u6B65\u5DF2\u5B58\u5728\u7684\u8868"},{default:a(()=>[c(_(u.targetSyncExit),1)]),_:1}),e(f,{label:"\u540C\u6B65\u524D\u662F\u5426\u5148\u5220\u9664\u76EE\u7684\u8868"},{default:a(()=>[c(_(u.targetDropTable),1)]),_:1}),e(f,{label:"\u662F\u5426\u542F\u7528\u589E\u91CF\u53D8\u66F4\u540C\u6B65"},{default:a(()=>[c(_(u.targetDataSync),1)]),_:1}),u.targetDataSync?(r(),n(f,{key:7,label:"\u589E\u91CF\u53D8\u66F4\u540C\u6B65\u7C7B\u578B"},{default:a(()=>[c(_(u.changeDataSyncType=="PK_ORDER_COMPARE"?"\u4E3B\u952E\u6392\u5E8F\u6BD4\u5BF9":"\u589E\u91CF\u5B57\u6BB5"),1)]),_:1})):s("",!0),u.sourceType=="1"?(r(),n(f,{key:8,label:"\u662F\u5426\u521B\u5EFA\u7D22\u5F15"},{default:a(()=>[c(_(u.targetIndexCreate),1)]),_:1})):s("",!0),u.accessMode=="2"?(r(),n(f,{key:9,label:"\u662F\u5426\u8868\u540D\u5B57\u6BB5\u540D\u8F6C\u5C0F\u5199"},{default:a(()=>[c(_(u.targetLowerCase),1)]),_:1})):s("",!0),u.accessMode=="2"?(r(),n(f,{key:10,label:"\u662F\u5426\u8868\u540D\u5B57\u6BB5\u540D\u8F6C\u5927\u5199"},{default:a(()=>[c(_(u.targetUpperCase),1)]),_:1})):s("",!0),e(f,{label:"\u662F\u5426\u4E3B\u952E\u81EA\u52A8\u9012\u589E"},{default:a(()=>[c(_(u.targetAutoIncrement),1)]),_:1}),e(f,{label:"\u6570\u636E\u5904\u7406\u6279\u6B21\u91CF"},{default:a(()=>[c(_(u.batchSize),1)]),_:1})]),_:1})],512),[[z,T.value==5]])]),_:1},8,["model","rules"]),T.value==4?(r(),n(tu,{key:0,title:"\u67E5\u770B\u8868\u540D\u6620\u5C04\u5173\u7CFB",modelValue:Y.value,"onUpdate:modelValue":t[41]||(t[41]=l=>Y.value=l)},{default:a(()=>[e(O,{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:lu.value,size:"small",border:""},{default:a(()=>[e(k,{prop:"originalName",label:"\u6E90\u7AEF\u8868\u540D","min-width":"20%"}),e(k,{prop:"targetName",label:"\u76EE\u6807\u8868\u540D","min-width":"20%"})]),_:1},8,["data"])]),_:1},8,["modelValue"])):s("",!0),T.value==4?(r(),n(tu,{key:1,title:"\u67E5\u770B\u5B57\u6BB5\u6620\u5C04\u5173\u7CFB",modelValue:Q.value,"onUpdate:modelValue":t[43]||(t[43]=l=>Q.value=l)},{default:a(()=>[u.sourceType==1&&u.mapperType=="ALL"?(r(),E("div",pa,[e(g,{onChange:Iu,modelValue:K.value,"onUpdate:modelValue":t[42]||(t[42]=l=>K.value=l),clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:a(()=>[(r(!0),E(U,null,x(q.value,(l,m)=>(r(),n(i,{key:m,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),ia,Ea])):s("",!0),e(O,{"header-cell-style":{background:"#eef1f6",color:"#606266"},data:R.value,size:"small",border:""},{default:a(()=>[e(k,{prop:"originalName",label:"\u539F\u59CB\u5B57\u6BB5\u540D","min-width":"20%"}),e(k,{prop:"targetName",label:"\u76EE\u6807\u8868\u5B57\u6BB5\u540D","min-width":"20%"})]),_:1},8,["data"])]),_:1},8,["modelValue"])):s("",!0)]),_:1},8,["modelValue","title"])}}});const _a=ju(ca,[["__scopeId","data-v-11794c49"]]);export{_a as default};
