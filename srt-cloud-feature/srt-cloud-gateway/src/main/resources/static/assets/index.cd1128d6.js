import{d as be,h as I,K as Te,X as H,ai as je,r as _,aj as Me,o as d,c as h,b as e,w as u,a6 as k,a7 as w,a1 as Re,k as f,F as P,e as le,f as g,l,t as o,ac as N,s as q,a as c,J as pe,G as p,a8 as ze,E as Ye,y as Ue,z as $e,_ as Je}from"./index.afa5927e.js";import{l as Oe}from"./cluster.d0557579.js";import{c as He}from"./database.e836db09.js";import{l as Pe}from"./clusterConfiguration.a70377a4.js";import{_ as R}from"./readonly-studio.vue_vue_type_script_setup_true_lang.c5082512.js";import{_ as me,i as Ce,k as Ge,l as Ke}from"./console-result.vue_vue_type_script_setup_true_lang.ee7703c2.js";import{_ as We}from"./index.vue_vue_type_script_setup_true_name_SrtSavepointsIndex_lang.f31ad482.js";import"./toggleHighContrast.9f64e070.js";const B=j=>(Ue("data-v-330a9b49"),j=j(),$e(),j),Xe=l("\u67E5\u8BE2"),Ze=l("\u5220\u9664"),Qe={class:"el-dropdown-link"},eu=l(" \u67E5\u770B"),uu=l("\u4F5C\u4E1A\u4FE1\u606F"),tu=l("select\u7ED3\u679C"),lu=l("\u4F5C\u4E1A\u9519\u8BEF\u65E5\u5FD7"),au=l("flink\u5B9E\u4F8B\u9519\u8BEF\u65E5\u5FD7"),ou=l("\xA0 "),nu={class:"el-dropdown-link"},su=l(" \u64CD\u4F5C"),ru=l("savepoint\u89E6\u53D1"),iu=l("savepoint\u505C\u6B62"),du=l("\u666E\u901A\u505C\u6B62"),cu=l("\u5220\u9664"),Fu={style:{padding:"15px"}},_u={key:0},fu=B(()=>c("span",{style:{"font-size":"17px"}},[c("b",null,"\u4F5C\u4E1A\u4EE3\u7801")],-1)),Eu={key:1},pu=B(()=>c("span",{style:{"font-size":"17px"}},[c("b",null,"\u5B9E\u9645\u6267\u884C\u7684sql\u4EFB\u52A1\u4EE3\u7801")],-1)),mu={style:{"margin-bottom":"10px"}},Cu=l("tips\uFF1A\u5982\u679C\u662F local\uFF0Cstandalone \u6216 session \u6A21\u5F0F\uFF0C\u6CA1\u6709\u52FE\u9009 insert \u8BED\u53E5\u96C6\uFF0Cflink \u4F1A\u628A\u6BCF\u6761 DML sql \u89E3\u6790\u4E3A\u4E00\u4E2A job \u6267\u884C\uFF0C\u6240\u4EE5\u5B58\u5728\u6267\u884C\u4E00\u6B21\u4F5C\u4E1A\u6709\u591A\u6761\u4EFB\u52A1\u8BB0\u5F55\u7684\u60C5\u51B5\uFF0C\u6BCF\u6267\u884C\u4E00\u6B21\u4F5C\u4E1A\u4F1A\u4EA7\u751F\u552F\u4E00\u7684\u6267\u884C\u7F16\u53F7\uFF0C\u6709\u4E9B\u8BED\u53E5\u4E0D\u4F1A\u4EA7\u751F\u5B9E\u4F8B\uFF08\u5982 desc \u7B49\uFF09\uFF0C\u4E5F\u5C31\u4E0D\u5B58\u5728\u5B9E\u4F8B id"),bu=B(()=>c("span",{style:{"font-size":"17px"}},[c("b",null,"savepoint\u4FDD\u5B58\u70B9\u5217\u8868")],-1)),gu=B(()=>c("span",{style:{"font-size":"17px"}},[c("b",null,"\u914D\u7F6E\u4FE1\u606F")],-1)),hu={key:2},Bu=B(()=>c("br",null,null,-1)),yu=l("******"),Du=B(()=>c("br",null,null,-1)),vu={key:3},ku=B(()=>c("br",null,null,-1)),wu=B(()=>c("br",null,null,-1)),Au={key:0},Su=B(()=>c("br",null,null,-1)),Iu={key:0},Vu=B(()=>c("span",{style:{"font-size":"17px"}},[c("b",null,"\u5F02\u5E38\u4FE1\u606F")],-1)),xu=B(()=>c("br",null,null,-1)),Nu=B(()=>c("span",{style:{"font-size":"15px"}},[c("b",null,"\u4F5C\u4E1A\u9519\u8BEF\u65E5\u5FD7")],-1)),qu={key:6},Lu=B(()=>c("span",{style:{"font-size":"15px"}},[c("b",null,"flink\u5B9E\u4F8B\u9519\u8BEF\u65E5\u5FD7")],-1)),Tu={key:0},ju={style:{"margin-bottom":"10px"}},Mu=l("tips\uFF1A\u5982\u679C\u5F00\u542F\u4E86 checkpoint \u5E76\u4E14\u91CD\u542F\u7B56\u7565\u4E0D\u662F none\uFF08\u9ED8\u8BA4\u6BCF\u9694\u4E00\u6BB5\u65F6\u95F4\u91CD\u542F\uFF09\uFF0Cflink \u9047\u5230\u9519\u8BEF\u4F1A\u81EA\u884C restart \u6307\u5B9A\u6B21\u6570\u7684\u4EFB\u52A1\uFF0C\u5C31\u7B97\u6700\u7EC8\u72B6\u6001\u4E0D\u662F falied\uFF0C\u6709\u9519\u8BEF\u65E5\u5FD7\u4E5F\u662F\u6B63\u5E38\u7684"),Ru=B(()=>c("span",{style:{"font-size":"17px"}},[c("b",null,"select\u7ED3\u679C")],-1)),zu={key:7},Yu={key:8},Uu=l("tips\uFF1A\u5982\u679C\u5F00\u542F\u4E86 checkpoint \u5E76\u4E14\u91CD\u542F\u7B56\u7565\u4E0D\u662F none\uFF08\u9ED8\u8BA4\u6BCF\u9694\u4E00\u6BB5\u65F6\u95F4\u91CD\u542F\uFF09\uFF0Cflink \u9047\u5230\u9519\u8BEF\u4F1A\u81EA\u884C restart \u6307\u5B9A\u6B21\u6570\u7684\u4EFB\u52A1\uFF0C\u5C31\u7B97\u6700\u7EC8\u72B6\u6001\u4E0D\u662F falied\uFF0C\u6709\u9519\u8BEF\u65E5\u5FD7\u4E5F\u662F\u6B63\u5E38\u7684"),$u={style:{padding:"15px"}},Ju=be({name:"Data-developmentTask-historyIndex"}),Ou=be({...Ju,props:{ifChild:{type:Boolean,required:!1,default:()=>!1},ifSearch:{type:Boolean,required:!1,default:()=>!0},nodeRecordId:{type:[Number,String],required:!1,default:()=>""},recordId:{type:[Number,String],required:!1,default:()=>""}},setup(j){const z=j,Y=I(!1),G=I(!1),K=I(""),T=I(),W=I();Te(()=>{ee($),ge(),he(),Be()});const ge=()=>{He().then(s=>{n.databaseList=s.data})},he=()=>{Oe().then(s=>{n.clusterList=s.data})},Be=()=>{Pe().then(s=>{n.clusterConfiguratioList=s.data})},n=H({createdIsNeed:!1,dataListUrl:"/data-development/task/history/page",deleteUrl:"/data-development/task/history",databaseList:[],clusterList:[],clusterConfiguratioList:[],queryForm:{nodeRecordId:z.nodeRecordId,recordId:z.recordId,taskId:"",jobName:"",status:"",instanceStatus:"",dialect:"",type:"",sqlDbType:"",databaseId:"",clusterId:"",clusterConfigurationId:"",startTime:"",endTime:"",finishTime:""}}),ye=()=>{ee($)},De=s=>{Se(s,$)},ve=s=>{Ie(s,$)};let U={};const $=s=>{let a={};for(let F in s){let D={},S=s[F].executeNo;a[S]?(D=a[S],D.rowNum+=1):(D.rowIndex=F,D.rowNum=1,a[S]=D)}console.log(a);let m={};for(let F in a){let D=a[F];m[D.rowIndex]=D.rowNum}return U=m,!0},ke=({row:s,column:a,rowIndex:m,columnIndex:F})=>{if(n.dataList.length!=0&&Object.keys(U).length!=0&&(F===1||F===2||F===3||F===5))return U[m]?{rowspan:U[m],colspan:1}:{rowspan:0,colspan:0}},ae=s=>{if(Y.value=!0,K.value="\u4F5C\u4E1A\u9519\u8BEF\u65E5\u5FD7",T.value){T.value.setEditorValue(s);return}setTimeout(()=>{ae(s)},500)},oe=s=>{Ce(s).then(a=>{Y.value=!0,K.value="flink\u5B9E\u4F8B\u9519\u8BEF\u65E5\u5FD7";let m=JSON.parse(a.data);if(T.value){if(m&&m["root-exception"]){T.value.setEditorValue(m["root-exception"]);return}T.value.setEditorValue(`\u6682\u65E0\u9519\u8BEF\u65E5\u5FD7

\u5982\u679C\u662F local \u6A21\u5F0F\u4E0B\u7531\u4E8E miniCluster \u4F1A\u81EA\u52A8\u5173\u95ED\u53EF\u80FD\u5BFC\u81F4\u65E0\u6CD5\u53CA\u65F6\u83B7\u53D6\u5B9E\u4F8B\u72B6\u6001\uFF0C\u5BFC\u81F4\u5931\u8D25\uFF0C\u53EF\u4E0D\u4E88\u7406\u4F1A`);return}setTimeout(()=>{oe(s)},500)})},ne=(s,a)=>{if(G.value=!0,W.value){W.value.init(JSON.parse(a),s,!0);return}setTimeout(()=>{ne(s,a)},500)},X=I(!1),E=H({}),y=H({}),i=H({}),J=I(),C=I(""),Z=I(),we=s=>{X.value=!0,C.value=s.dialect,Object.assign(y,s),Object.assign(E,JSON.parse(s.configJson)),console.log(E),re(C.value,s.result),(C.value==2||C.value==3)&&(s.jid&&se(s.id),Ge(s.id).then(a=>{Object.assign(i,a.data),i.clusterJson?i.cluster=JSON.parse(i.clusterJson):i.cluster=null,i.clusterConfigurationJson?(i.clusterConfiguration=JSON.parse(i.clusterConfigurationJson),i.clusterConfiguration.configInfo=JSON.parse(i.clusterConfiguration.configJson)):i.clusterConfiguration=null}))},se=s=>{Ce(s).then(a=>{let m=JSON.parse(a.data);if(J.value){if(m&&m["root-exception"]){J.value.setEditorValue(m["root-exception"]);return}J.value.setEditorValue(`\u6682\u65E0\u9519\u8BEF\u65E5\u5FD7

\u5982\u679C\u662F local \u6A21\u5F0F\u4E0B\u7531\u4E8E miniCluster \u4F1A\u81EA\u52A8\u5173\u95ED\u53EF\u80FD\u5BFC\u81F4\u65E0\u6CD5\u53CA\u65F6\u83B7\u53D6\u5B9E\u4F8B\u72B6\u6001\uFF0C\u5BFC\u81F4\u5931\u8D25\uFF0C\u53EF\u4E0D\u4E88\u7406\u4F1A`);return}setTimeout(()=>{se(s)},500)})},re=(s,a)=>{if(Z.value){Z.value.init(JSON.parse(a),s,!0);return}setTimeout(()=>{re(s,a)},500)},Q=(s,a,m)=>{ze.confirm("\u786E\u5B9A\u8FDB\u884Csavepoint\u64CD\u4F5C\u5417?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{Ke(s,a,m).then(F=>{Ye.success("\u64CD\u4F5C\u6210\u529F")})})},{getDataList:ee,selectionChangeHandle:Ae,sizeChangeHandle:Se,currentChangeHandle:Ie,deleteBatchHandle:ie}=je(n);return(s,a)=>{const m=_("el-input"),F=_("el-form-item"),D=_("fast-select"),S=_("el-option"),O=_("el-select"),ue=_("el-date-picker"),de=_("el-button"),Ve=_("el-form"),v=_("el-table-column"),b=_("el-tag"),ce=_("fast-table-column"),Fe=_("el-icon"),V=_("el-dropdown-item"),_e=_("el-dropdown-menu"),fe=_("el-dropdown"),xe=_("el-table"),Ne=_("el-pagination"),qe=_("el-card"),x=_("el-divider"),r=_("el-descriptions-item"),L=_("el-descriptions"),M=_("el-result"),Ee=_("el-scrollbar"),te=_("el-dialog"),Le=Me("loading");return d(),h(P,null,[e(qe,{"body-style":z.ifChild?"":"height: calc(100vh - 170px )"},{default:u(()=>[k(e(Ve,{inline:!0,model:n.queryForm,onKeyup:a[14]||(a[14]=Re(t=>f(ee)(),["enter"]))},{default:u(()=>[e(F,null,{default:u(()=>[e(m,{modelValue:n.queryForm.jobName,"onUpdate:modelValue":a[0]||(a[0]=t=>n.queryForm.jobName=t),placeholder:"\u4F5C\u4E1A\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(D,{modelValue:n.queryForm.status,"onUpdate:modelValue":a[1]||(a[1]=t=>n.queryForm.status=t),"dict-type":"task_status",placeholder:"\u4F5C\u4E1A\u72B6\u6001",clearable:"",filterable:""},null,8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(D,{modelValue:n.queryForm.instanceStatus,"onUpdate:modelValue":a[2]||(a[2]=t=>n.queryForm.instanceStatus=t),"dict-type":"instance_status",placeholder:"flink\u5B9E\u4F8B\u72B6\u6001",clearable:"",filterable:""},null,8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(D,{modelValue:n.queryForm.dialect,"onUpdate:modelValue":a[3]||(a[3]=t=>n.queryForm.dialect=t),placeholder:"\u4F5C\u4E1A\u7C7B\u578B","dict-type":"production_task_type",clearable:"",filterable:""},null,8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(D,{modelValue:n.queryForm.type,"onUpdate:modelValue":a[4]||(a[4]=t=>n.queryForm.type=t),"dict-type":"production_cluster_type",placeholder:"flink\u6267\u884C\u6A21\u5F0F",clearable:"",filterable:""},null,8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(O,{modelValue:n.queryForm.clusterId,"onUpdate:modelValue":a[5]||(a[5]=t=>n.queryForm.clusterId=t),clearable:"",filterable:"",placeholder:"Flink\u96C6\u7FA4\u5B9E\u4F8B"},{default:u(()=>[(d(!0),h(P,null,le(n.clusterList,(t,A)=>(d(),g(S,{key:t.id,label:`[${t.id}]${t.name}`,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(O,{modelValue:n.queryForm.clusterConfigurationId,"onUpdate:modelValue":a[6]||(a[6]=t=>n.queryForm.clusterConfigurationId=t),clearable:"",filterable:"",placeholder:"Flink\u96C6\u7FA4\u914D\u7F6E"},{default:u(()=>[(d(!0),h(P,null,le(n.clusterConfiguratioList,(t,A)=>(d(),g(S,{key:t.id,label:`[${t.id}]${t.name}`,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(O,{modelValue:n.queryForm.sqlDbType,"onUpdate:modelValue":a[7]||(a[7]=t=>n.queryForm.sqlDbType=t),clearable:"",filterable:"",placeholder:"sql\u5E93\u7C7B\u578B"},{default:u(()=>[(d(),g(S,{key:1,label:"\u6570\u636E\u5E93",value:1})),(d(),g(S,{key:2,label:"\u4E2D\u53F0\u5E93",value:2}))]),_:1},8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(O,{modelValue:n.queryForm.databaseId,"onUpdate:modelValue":a[8]||(a[8]=t=>n.queryForm.databaseId=t),clearable:"",filterable:"",placeholder:"\u6570\u636E\u5E93"},{default:u(()=>[(d(!0),h(P,null,le(n.databaseList,(t,A)=>(d(),g(S,{key:t.id,label:`[${t.id}]${t.name}`,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(ue,{modelValue:n.queryForm.startTime,"onUpdate:modelValue":a[9]||(a[9]=t=>n.queryForm.startTime=t),type:"datetime",placeholder:"\u5F00\u59CB\u65F6\u95F4",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(ue,{modelValue:n.queryForm.endTime,"onUpdate:modelValue":a[10]||(a[10]=t=>n.queryForm.endTime=t),type:"datetime",placeholder:"\u4F5C\u4E1A\u7ED3\u675F\u65F6\u95F4",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(ue,{modelValue:n.queryForm.finishTime,"onUpdate:modelValue":a[11]||(a[11]=t=>n.queryForm.finishTime=t),type:"datetime",placeholder:"flink\u5B9E\u4F8B\u7ED3\u675F\u65F6\u95F4",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue"])]),_:1}),e(F,null,{default:u(()=>[e(de,{onClick:a[12]||(a[12]=t=>ye())},{default:u(()=>[Xe]),_:1})]),_:1}),e(F,null,{default:u(()=>[e(de,{type:"danger",onClick:a[13]||(a[13]=t=>f(ie)())},{default:u(()=>[Ze]),_:1})]),_:1})]),_:1},8,["model"]),[[w,z.ifSearch]]),k((d(),g(xe,{data:n.dataList,"span-method":ke,border:"",style:{width:"100%"},onSelectionChange:f(Ae)},{default:u(()=>[e(v,{type:"selection","header-align":"center",align:"center",width:"50"}),e(v,{"show-overflow-tooltip":"",prop:"executeNo",label:"\u6267\u884C\u7F16\u53F7","header-align":"center",align:"center"}),e(v,{"show-overflow-tooltip":"",prop:"jobName",label:"\u4F5C\u4E1A\u540D\u79F0","header-align":"center",align:"center"}),e(v,{prop:"dialect",label:"\u4F5C\u4E1A\u7C7B\u578B","header-align":"center",align:"center"},{default:u(t=>[k(e(b,null,{default:u(()=>[l(o(f(N)(f(q).appStore.dictList,"production_task_type",t.row.dialect)),1)]),_:2},1536),[[w,t.row.dialect=="1"]]),k(e(b,{type:"warning"},{default:u(()=>[l(o(f(N)(f(q).appStore.dictList,"production_task_type",t.row.dialect)),1)]),_:2},1536),[[w,t.row.dialect=="2"]]),k(e(b,{type:"success"},{default:u(()=>[l(o(f(N)(f(q).appStore.dictList,"production_task_type",t.row.dialect)),1)]),_:2},1536),[[w,t.row.dialect=="3"]])]),_:1}),e(v,{prop:"status",label:"\u4F5C\u4E1A\u72B6\u6001","header-align":"center",align:"center"},{default:u(t=>[k(e(b,null,{default:u(()=>[l(o(f(N)(f(q).appStore.dictList,"task_status",t.row.status)),1)]),_:2},1536),[[w,t.row.status=="0"||t.row.status=="1"]]),k(e(b,{type:"success"},{default:u(()=>[l(o(f(N)(f(q).appStore.dictList,"task_status",t.row.status)),1)]),_:2},1536),[[w,t.row.status=="2"]]),k(e(b,{type:"danger"},{default:u(()=>[l(o(f(N)(f(q).appStore.dictList,"task_status",t.row.status)),1)]),_:2},1536),[[w,t.row.status=="3"]])]),_:1}),e(ce,{prop:"executeType",label:"\u6267\u884C\u65B9\u5F0F","dict-type":"execute_type","header-align":"center",align:"center"}),e(ce,{"show-overflow-tooltip":"",prop:"type",label:"flink\u6267\u884C\u6A21\u5F0F","dict-type":"production_cluster_type","header-align":"center",align:"center"}),e(v,{"show-overflow-tooltip":"",prop:"jid",label:"flink\u5B9E\u4F8Bid","header-align":"center",align:"center"}),e(v,{prop:"instanceStatus",label:"flink\u5B9E\u4F8B\u72B6\u6001","header-align":"center",align:"center"},{default:u(t=>[k(e(b,null,{default:u(()=>[l(o(t.row.instanceStatus),1)]),_:2},1536),[[w,t.row.instanceStatus=="INITIALIZING"||t.row.instanceStatus=="CREATED"||t.row.instanceStatus=="RUNNING"]]),k(e(b,{type:"danger"},{default:u(()=>[l(o(t.row.instanceStatus),1)]),_:2},1536),[[w,t.row.instanceStatus=="FAILING"||t.row.instanceStatus=="FAILED"]]),k(e(b,{type:"info"},{default:u(()=>[l(o(t.row.instanceStatus),1)]),_:2},1536),[[w,t.row.instanceStatus=="CANCELLING"||t.row.instanceStatus=="CANCELED"]]),k(e(b,{type:"success"},{default:u(()=>[l(o(t.row.instanceStatus),1)]),_:2},1536),[[w,t.row.instanceStatus=="FINISHED"]]),k(e(b,{type:"warning"},{default:u(()=>[l(o(t.row.instanceStatus),1)]),_:2},1536),[[w,t.row.instanceStatus=="RESTARTING"||t.row.instanceStatus=="SUSPENDED"||t.row.instanceStatus=="RECONCILING"||t.row.instanceStatus=="UNKNOWN"]])]),_:1}),e(v,{prop:"duration",label:"\u8FD0\u884C\u65F6\u957F","header-align":"center",align:"center",width:"160"},{default:u(t=>[e(b,null,{default:u(()=>[l(o(t.row.duration),1)]),_:2},1024)]),_:1}),e(v,{"show-overflow-tooltip":"",prop:"startTime",label:"\u5F00\u59CB\u65F6\u95F4","header-align":"center",align:"center"}),e(v,{"show-overflow-tooltip":"",prop:"endTime",label:"\u4F5C\u4E1A\u7ED3\u675F\u65F6\u95F4","header-align":"center",align:"center"}),e(v,{"show-overflow-tooltip":"",prop:"finishTime",label:"flink\u5B9E\u4F8B\u7ED3\u675F\u65F6\u95F4","header-align":"center",align:"center"}),e(v,{"show-overflow-tooltip":"",prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center"}),e(v,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"150"},{default:u(t=>[e(fe,null,{dropdown:u(()=>[e(_e,null,{default:u(()=>[e(V,{onClick:A=>we(t.row)},{default:u(()=>[uu]),_:2},1032,["onClick"]),e(V,{onClick:A=>ne(t.row.dialect,t.row.result),disabled:!t.row.result},{default:u(()=>[tu]),_:2},1032,["onClick","disabled"]),e(V,{onClick:A=>ae(t.row.error),disabled:!t.row.error},{default:u(()=>[lu]),_:2},1032,["onClick","disabled"]),e(V,{onClick:A=>oe(t.row.id),disabled:!t.row.jid},{default:u(()=>[au]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),default:u(()=>[c("span",Qe,[eu,e(Fe,{class:"el-icon--right"},{default:u(()=>[e(f(pe))]),_:1})])]),_:2},1024),ou,e(fe,null,{dropdown:u(()=>[e(_e,null,{default:u(()=>[e(V,{onClick:A=>Q(t.row.taskId,t.row.id,"trigger"),disabled:!t.row.jid},{default:u(()=>[ru]),_:2},1032,["onClick","disabled"]),e(V,{onClick:A=>Q(t.row.taskId,t.row.id,"cancel"),disabled:!t.row.jid},{default:u(()=>[iu]),_:2},1032,["onClick","disabled"]),e(V,{onClick:A=>Q(t.row.taskId,t.row.id,"canceljob"),disabled:!t.row.jid},{default:u(()=>[du]),_:2},1032,["onClick","disabled"]),e(V,{onClick:A=>f(ie)(t.row.id)},{default:u(()=>[cu]),_:2},1032,["onClick"])]),_:2},1024)]),default:u(()=>[c("span",nu,[su,e(Fe,{class:"el-icon--right"},{default:u(()=>[e(f(pe))]),_:1})])]),_:2},1024)]),_:1})]),_:1},8,["data","onSelectionChange"])),[[Le,n.dataListLoading]]),e(Ne,{"current-page":n.page,"page-sizes":n.pageSizes,"page-size":n.limit,total:n.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:De,onCurrentChange:ve},null,8,["current-page","page-sizes","page-size","total"])]),_:1},8,["body-style"]),e(te,{modelValue:X.value,"onUpdate:modelValue":a[15]||(a[15]=t=>X.value=t),title:"\u4F5C\u4E1A\u4FE1\u606F",width:"75%","destroy-on-close":!0},{default:u(()=>[c("div",Fu,[C.value!=3?(d(),h("div",_u,[e(x,null,{default:u(()=>[fu]),_:1}),e(R,{id:"jobStatementId",value:y.statement,style:{height:"300px"}},null,8,["value"])])):p("",!0),C.value==2?(d(),h("div",Eu,[e(x,null,{default:u(()=>[pu]),_:1}),c("p",mu,[e(b,null,{default:u(()=>[Cu]),_:1})]),e(R,{id:"jobExecuteSqlId",value:y.executeSql,style:{height:"150px"}},null,8,["value"]),e(x,null,{default:u(()=>[bu]),_:1}),e(We,{taskId:y.taskId,historyId:y.id},null,8,["taskId","historyId"])])):p("",!0),e(x,null,{default:u(()=>[gu]),_:1}),C.value==1?(d(),h("div",hu,[e(L,{title:"\u6570\u636E\u6765\u6E90",column:1,size:"large",border:""},{default:u(()=>[e(r,{label:"\u6765\u6E90"},{default:u(()=>[l(o(E.sqlDbType==1?"\u5916\u90E8\u6570\u636E\u5E93":"\u4E2D\u53F0\u5E93"),1)]),_:1})]),_:1}),Bu,e(L,{title:"\u6570\u636E\u5E93\u4FE1\u606F",column:1,size:"large",border:""},{default:u(()=>[e(r,{label:"\u540D\u79F0"},{default:u(()=>[l(o(E.database.name),1)]),_:1}),e(r,{label:"\u5E93\u540D"},{default:u(()=>[l(o(E.database.databaseName),1)]),_:1}),e(r,{label:"\u7528\u6237\u540D"},{default:u(()=>[l(o(E.database.userName),1)]),_:1}),e(r,{label:"\u5BC6\u7801"},{default:u(()=>[yu]),_:1}),e(r,{label:"jdbc\u8FDE\u63A5\u4E32"},{default:u(()=>[l(o(E.database.jdbcUrl),1)]),_:1})]),_:1}),Du,e(L,{title:"\u914D\u7F6E\u4FE1\u606F",column:1,size:"large",border:""},{default:u(()=>[e(r,{label:"\u6700\u5927\u9884\u89C8\u884C\u6570"},{default:u(()=>[l(o(E.pvdataNum),1)]),_:1})]),_:1})])):p("",!0),C.value==2||C.value==3?(d(),h("div",vu,[e(L,{title:"\u4F5C\u4E1A\u914D\u7F6E",column:3,size:"large",border:""},{default:u(()=>[e(r,{label:"\u4F5C\u4E1A\u540D\u79F0"},{default:u(()=>[l(o(E.jobName),1)]),_:1}),e(r,{label:"\u6267\u884C\u6A21\u5F0F"},{default:u(()=>[l(o(y.type),1)]),_:1}),C.value==2?(d(),g(r,{key:0,label:"\u662F\u5426\u5F00\u542F\u6279\u6A21\u5F0F"},{default:u(()=>[l(o(E.useBatchModel),1)]),_:1})):p("",!0),C.value==2?(d(),g(r,{key:1,label:"\u662F\u5426\u5F00\u542F\u5168\u5C40\u53D8\u91CF"},{default:u(()=>[l(o(E.useSqlFragment),1)]),_:1})):p("",!0),C.value==2?(d(),g(r,{key:2,label:"\u662F\u5426\u5F00\u542Finsert\u8BED\u53E5\u96C6"},{default:u(()=>[l(o(E.useStatementSet),1)]),_:1})):p("",!0),e(r,{label:"\u4EFB\u52A1\u5E76\u884C\u5EA6"},{default:u(()=>[l(o(E.parallelism),1)]),_:1}),e(r,{label:"SavePoint\u7B56\u7565"},{default:u(()=>[l(o(E.savePointStrategy),1)]),_:1}),e(r,{label:"SavePoint\u5730\u5740"},{default:u(()=>[l(o(E.savePointPath),1)]),_:1})]),_:1}),ku,C.value==2?(d(),g(L,{key:0,title:"\u6267\u884C\u914D\u7F6E",column:3,size:"large",border:""},{default:u(()=>[e(r,{label:"\u9884\u89C8\u7ED3\u679C"},{default:u(()=>[l(o(E.useResult),1)]),_:1}),e(r,{label:"\u6253\u5370changeLog"},{default:u(()=>[l(o(E.useChangeLog),1)]),_:1}),e(r,{label:"\u81EA\u52A8\u505C\u6B62"},{default:u(()=>[l(o(E.useAutoCancel),1)]),_:1}),e(r,{label:"\u6700\u5927\u9884\u89C8\u884C\u6570"},{default:u(()=>[l(o(E.maxRowNum),1)]),_:1})]),_:1})):p("",!0),wu,e(L,{title:"\u96C6\u7FA4\u5B9E\u4F8B",column:3,size:"large",border:""},{default:u(()=>[i.cluster?(d(),h("div",Au,[e(r,{label:"\u540D\u79F0"},{default:u(()=>[l(o(i.cluster.alias),1)]),_:1}),e(r,{label:"jobManager\u5730\u5740"},{default:u(()=>[l(o(i.cluster.jobManagerHost),1)]),_:1}),e(r,{label:"flink\u7248\u672C"},{default:u(()=>[l(o(i.cluster.flinkVersion),1)]),_:1}),e(r,{label:"\u5B9E\u4F8B\u7C7B\u578B"},{default:u(()=>[l(o(f(N)(f(q).appStore.dictList,"production_cluster_type",i.cluster.type)),1)]),_:1}),e(r,{label:"\u662F\u5426\u81EA\u52A8\u6CE8\u518C"},{default:u(()=>[l(o(i.cluster.autoRegisters),1)]),_:1}),e(r,{label:"\u5907\u6CE8"},{default:u(()=>[l(o(i.cluster.note),1)]),_:1})])):p("",!0)]),_:1}),Su,i.cluster?p("",!0):(d(),g(M,{key:1,title:"\u6682\u65E0\u6570\u636E","sub-title":"\u6CA1\u6709\u96C6\u7FA4\u5B9E\u4F8B\u4FE1\u606F"})),e(L,{title:"\u96C6\u7FA4\u914D\u7F6E",column:1,size:"large",border:""},{default:u(()=>[i.clusterConfiguration?(d(),h("div",Iu,[e(r,{label:"\u540D\u79F0"},{default:u(()=>[l(o(i.clusterConfiguration.name),1)]),_:1}),e(r,{label:"\u7C7B\u578B"},{default:u(()=>[l(o(f(N)(f(q).appStore.dictList,"production_cluster_configuration_type",i.clusterConfiguration.type)),1)]),_:1}),e(r,{label:"Hadoop \u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84"},{default:u(()=>[l(o(i.clusterConfiguration.configInfo.hadoopConfigPath),1)]),_:1}),e(r,{label:"flink lib \u8DEF\u5F84"},{default:u(()=>[l(o(i.clusterConfiguration.configInfo.flinkLibPath),1)]),_:1}),e(r,{label:"Flink \u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84"},{default:u(()=>[l(o(i.clusterConfiguration.configInfo.flinkConfigPath),1)]),_:1}),e(r,{label:"taskmanager.numberOfTaskSlots"},{default:u(()=>[l(o(i.clusterConfiguration.configInfo["taskmanager.numberOfTaskSlots"]),1)]),_:1}),e(r,{label:"state.savepoints.dir"},{default:u(()=>[l(o(i.clusterConfiguration.configInfo["state.savepoints.dir"]),1)]),_:1}),e(r,{label:"state.checkpoints.dir"},{default:u(()=>[l(o(i.clusterConfiguration.configInfo["state.checkpoints.dir"]),1)]),_:1}),e(r,{label:"\u5907\u6CE8"},{default:u(()=>[l(o(i.clusterConfiguration.note),1)]),_:1})])):p("",!0)]),_:1}),i.clusterConfiguration?p("",!0):(d(),g(M,{key:2,title:"\u6682\u65E0\u6570\u636E","sub-title":"\u6CA1\u6709\u96C6\u7FA4\u914D\u7F6E\u4FE1\u606F"}))])):p("",!0),e(x,null,{default:u(()=>[Vu]),_:1}),xu,e(x,{"content-position":"left"},{default:u(()=>[Nu]),_:1}),y.error?(d(),g(R,{key:4,id:"jobErrorMsgId",value:y.error,style:{height:"500px"}},null,8,["value"])):p("",!0),y.error?p("",!0):(d(),g(M,{key:5,title:"\u6682\u65E0\u6570\u636E","sub-title":"\u65E0\u9519\u8BEF\u65E5\u5FD7"})),C.value==2||C.value==3?(d(),h("div",qu,[e(x,{"content-position":"left"},{default:u(()=>[Lu]),_:1}),y.jid?(d(),h("div",Tu,[c("p",ju,[e(b,null,{default:u(()=>[Mu]),_:1})]),e(R,{id:"jobErrorMsgId",ref_key:"jobErrorMsgRef",ref:J,style:{height:"500px"}},null,512)])):p("",!0),y.jid?p("",!0):(d(),g(M,{key:1,title:"\u6682\u65E0\u6570\u636E","sub-title":"\u65E0\u9519\u8BEF\u65E5\u5FD7"}))])):p("",!0),e(x,null,{default:u(()=>[Ru]),_:1}),y.result?p("",!0):(d(),h("div",zu,[e(M,{title:"\u6682\u65E0\u6570\u636E","sub-title":"\u6CE8\u610F\uFF1AflinkSql\u53EA\u6709\u5728\u540C\u6B65\u6267\u884C\u6A21\u5F0F\u4E0B\uFF0C\u5F53\u6267\u884C\u914D\u7F6E\u52FE\u9009\u4E86\u9884\u89C8\u7ED3\u679C\u5E76\u4E14\u6700\u540E\u4E00\u6761\u8BED\u53E5\u4E3A\u67E5\u8BE2\u8BED\u53E5\u65F6\u624D\u4F1A\u6709\u7ED3\u679C\uFF01"})])),y.result?(d(),h("div",Yu,[e(Ee,{height:"600px"},{default:u(()=>[e(me,{ref_key:"jobSelectResultRef",ref:Z},null,512)]),_:1})])):p("",!0)])]),_:1},8,["modelValue"]),e(te,{modelValue:Y.value,"onUpdate:modelValue":a[16]||(a[16]=t=>Y.value=t),title:K.value,width:"65%"},{default:u(()=>[c("p",null,[e(b,null,{default:u(()=>[Uu]),_:1})]),c("div",$u,[e(R,{id:"hisErrorMsgId",ref_key:"hisErrorMsgRef",ref:T,style:{height:"500px"}},null,512)])]),_:1},8,["modelValue","title"]),e(te,{modelValue:G.value,"onUpdate:modelValue":a[17]||(a[17]=t=>G.value=t),title:"select\u7ED3\u679C",width:"65%","destroy-on-close":!0},{default:u(()=>[e(Ee,{height:"600px"},{default:u(()=>[e(me,{ref_key:"selectResultRef",ref:W},null,512)]),_:1})]),_:1},8,["modelValue"])],64)}}});const et=Je(Ou,[["__scopeId","data-v-330a9b49"]]);export{et as default};
