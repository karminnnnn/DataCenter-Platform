import{ad as m,d as k,h as i,X as B,r as s,o as L,f as x,w as o,b as a,a1 as w,l as v,al as I,E as T}from"./index.afa5927e.js";const U=n=>m.get("/data-governance/label-type/"+n),h=n=>n.id?m.put("/data-governance/label-type",n):m.post("/data-governance/label-type",n),R=v("\u53D6\u6D88"),$=v("\u786E\u5B9A"),K=k({__name:"add-or-update",emits:["refreshDataList"],setup(n,{expose:b,emit:y}){const r=i(!1),d=i(),c=i([]),t=B({orgId:"",name:"",description:""}),V=u=>{r.value=!0,t.id="",d.value&&d.value.resetFields(),I().then(e=>{c.value=e.data}),u&&E(u)},E=u=>{U(u).then(e=>{Object.assign(t,e.data)})},F=i({orgId:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),f=()=>{d.value.validate(u=>{if(!u)return!1;h(t).then(()=>{T.success({message:"\u64CD\u4F5C\u6210\u529F",duration:500,onClose:()=>{r.value=!1,y("refreshDataList")}})})})};return b({init:V}),(u,e)=>{const A=s("el-tree-select"),p=s("el-form-item"),_=s("el-input"),C=s("el-form"),g=s("el-button"),D=s("el-dialog");return L(),x(D,{modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=l=>r.value=l),title:t.id?"\u4FEE\u6539":"\u65B0\u589E","close-on-click-modal":!1},{footer:o(()=>[a(g,{onClick:e[4]||(e[4]=l=>r.value=!1)},{default:o(()=>[R]),_:1}),a(g,{type:"primary",onClick:e[5]||(e[5]=l=>f())},{default:o(()=>[$]),_:1})]),default:o(()=>[a(C,{ref_key:"dataFormRef",ref:d,model:t,rules:F.value,"label-width":"100px",onKeyup:e[3]||(e[3]=w(l=>f(),["enter"]))},{default:o(()=>[a(p,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784"},{default:o(()=>[a(A,{clearable:"",modelValue:t.orgId,"onUpdate:modelValue":e[0]||(e[0]=l=>t.orgId=l),data:c.value,"check-strictly":"","value-key":"id",props:{label:"name",children:"children"},style:{width:"100%"}},null,8,["modelValue","data"])]),_:1}),a(p,{label:"\u540D\u79F0",prop:"name"},{default:o(()=>[a(_,{modelValue:t.name,"onUpdate:modelValue":e[1]||(e[1]=l=>t.name=l),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(p,{label:"\u8BF4\u660E",prop:"description"},{default:o(()=>[a(_,{type:"textarea",modelValue:t.description,"onUpdate:modelValue":e[2]||(e[2]=l=>t.description=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{K as _};
