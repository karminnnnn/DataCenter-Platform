import{d as C,h as m,X as k,K as A,r as E,o as t,f as o,w as a,b as c,l as r,t as s,c as d,G as l,a6 as T,a7 as h,a as f,e as S,F as I,y as x,z as v,_ as M}from"./index.afa5927e.js";import{u as O}from"./access.d3ea15fb.js";import{c as N}from"./database.e836db09.js";const w=_=>(x("data-v-c4b279bb"),_=_(),v(),_),V={key:0},z={key:1},L={key:0},K={key:1},P={key:2},R={key:0},U={key:1},j=w(()=>f("b",null,"\u6240\u6709\u7269\u7406\u8868",-1)),q=[j],G=C({__name:"info",setup(_,{expose:F}){const p=m(!1),e=k({orgId:"",taskName:"",description:"",projectId:"",sourceDatabaseId:"",sourceDatabase:{},sourceType:"",sourceSql:"",sourcePrimaryKeys:[],taskType:"",cron:"",databases:[],includeOrExclude:1,sourceTables:[],sourceSelectedTables:[],accessMode:1,targetDatabaseId:"",targetDatabase:{},targetTable:"",targetOnlyCreate:!1,targetSyncExit:!0,targetDropTable:!0,targetDataSync:!1,targetIndexCreate:!1,targetLowerCase:!1,targetUpperCase:!1,targetAutoIncrement:!1,batchSize:1e3,tableNameMapper:[],columnNameMapper:[]});A(()=>{N().then(n=>{e.databases=n.data})});const y=n=>{p.value=!0,e.id="",n&&B(n)},B=n=>{O(n).then(i=>{Object.assign(e,i.data),e.sourceDatabaseId&&(e.sourceDatabase=e.databases.find(u=>u.id==e.sourceDatabaseId)),e.targetDatabaseId&&(e.targetDatabase=e.databases.find(u=>u.id==e.targetDatabaseId))})};return F({init:y}),(n,i)=>{const u=E("el-descriptions-item"),D=E("el-descriptions"),g=E("el-dialog");return t(),o(g,{modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=b=>p.value=b),title:"\u8BE6\u60C5"},{default:a(()=>[c(D,{size:"default",column:1,"label-class-name":"el-descriptions-item-label-class",border:""},{default:a(()=>[c(u,{label:"\u4EFB\u52A1\u540D\u79F0"},{default:a(()=>[r(s(e.taskName),1)]),_:1}),c(u,{label:"\u4EFB\u52A1\u63CF\u8FF0"},{default:a(()=>[r(s(e.description),1)]),_:1}),c(u,{label:"\u63A5\u5165\u7C7B\u578B"},{default:a(()=>[e.accessMode=="1"?(t(),d("span",V," \u63A5\u5165ods\u8D34\u6E90\u5C42 ")):l("",!0),e.accessMode=="2"?(t(),d("span",z," \u81EA\u5B9A\u4E49\u63A5\u5165 ")):l("",!0)]),_:1}),c(u,{label:"\u8C03\u5EA6\u7C7B\u578B"},{default:a(()=>[e.taskType=="1"?(t(),d("span",L," \u5B9E\u65F6\u540C\u6B65 ")):l("",!0),e.taskType=="2"?(t(),d("span",K," \u4E00\u6B21\u6027\u5168\u91CF\u540C\u6B65 ")):l("",!0),e.taskType=="3"?(t(),d("span",P," \u4E00\u6B21\u6027\u5168\u91CF\u5468\u671F\u6027\u589E\u91CF ")):l("",!0)]),_:1}),e.taskType=="3"?(t(),o(u,{key:0,label:"cron\u8868\u8FBE\u5F0F"},{default:a(()=>[r(s(e.cron),1)]),_:1})):l("",!0),c(u,{label:"\u6E90\u7AEF\u6570\u636E\u5E93"},{default:a(()=>[r("["+s(e.sourceDatabaseId)+"]"+s(e.sourceDatabase.name),1)]),_:1}),e.sourceType=="2"?(t(),o(u,{key:1,label:"\u6E90\u7AEFSQL"},{default:a(()=>[r(s(e.sourceSql),1)]),_:1})):l("",!0),e.sourceType=="1"?(t(),o(u,{key:2,label:"\u6E90\u7AEF\u8868\u9009\u62E9\u65B9\u5F0F"},{default:a(()=>[e.includeOrExclude=="1"?(t(),d("span",R," \u5305\u542B\u8868 ")):l("",!0),e.includeOrExclude=="0"?(t(),d("span",U," \u6392\u9664\u8868 ")):l("",!0)]),_:1})):l("",!0),e.sourceType=="1"?(t(),o(u,{key:3,label:"\u6E90\u7AEF\u8868\u540D\u5217\u8868"},{default:a(()=>[T(f("span",null,q,512),[[h,e.includeOrExclude=="1"&&(!e.sourceSelectedTables||e.sourceSelectedTables.length==0)]]),(t(!0),d(I,null,S(e.sourceSelectedTables,b=>(t(),d("p",{key:b},s(b),1))),128))]),_:1})):l("",!0),e.accessMode=="2"?(t(),o(u,{key:4,label:"\u76EE\u7684\u7AEF\u6570\u636E\u6E90"},{default:a(()=>[r("["+s(e.targetDatabaseId)+"]"+s(e.targetDatabase.name),1)]),_:1})):l("",!0),e.sourceType=="2"?(t(),o(u,{key:5,label:"\u76EE\u7684\u8868"},{default:a(()=>[r(s(e.targetTable),1)]),_:1})):l("",!0),e.sourceType=="1"?(t(),o(u,{key:6,label:"\u53EA\u521B\u5EFA\u8868"},{default:a(()=>[r(s(e.targetOnlyCreate),1)]),_:1})):l("",!0),c(u,{label:"\u662F\u5426\u540C\u6B65\u5DF2\u5B58\u5728\u7684\u8868"},{default:a(()=>[r(s(e.targetSyncExit),1)]),_:1}),c(u,{label:"\u540C\u6B65\u524D\u662F\u5426\u5148\u5220\u9664\u76EE\u7684\u8868"},{default:a(()=>[r(s(e.targetDropTable),1)]),_:1}),c(u,{label:"\u662F\u5426\u542F\u7528\u589E\u91CF\u53D8\u66F4\u540C\u6B65"},{default:a(()=>[r(s(e.targetDataSync),1)]),_:1}),e.targetDataSync?(t(),o(u,{key:7,label:"\u589E\u91CF\u53D8\u66F4\u540C\u6B65\u7C7B\u578B"},{default:a(()=>[r(s(e.changeDataSyncType=="PK_ORDER_COMPARE"?"\u4E3B\u952E\u6392\u5E8F\u6BD4\u5BF9":"\u589E\u91CF\u5B57\u6BB5"),1)]),_:1})):l("",!0),e.sourceType=="1"?(t(),o(u,{key:8,label:"\u662F\u5426\u521B\u5EFA\u7D22\u5F15"},{default:a(()=>[r(s(e.targetIndexCreate),1)]),_:1})):l("",!0),e.accessMode=="2"?(t(),o(u,{key:9,label:"\u662F\u5426\u8868\u540D\u5B57\u6BB5\u540D\u8F6C\u5C0F\u5199"},{default:a(()=>[r(s(e.targetLowerCase),1)]),_:1})):l("",!0),e.accessMode=="2"?(t(),o(u,{key:10,label:"\u662F\u5426\u8868\u540D\u5B57\u6BB5\u540D\u8F6C\u5927\u5199"},{default:a(()=>[r(s(e.targetUpperCase),1)]),_:1})):l("",!0),c(u,{label:"\u662F\u5426\u4E3B\u952E\u81EA\u52A8\u9012\u589E"},{default:a(()=>[r(s(e.targetAutoIncrement),1)]),_:1}),c(u,{label:"\u6570\u636E\u5904\u7406\u6279\u6B21\u91CF"},{default:a(()=>[r(s(e.batchSize),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const J=M(G,[["__scopeId","data-v-c4b279bb"]]);export{J as default};
