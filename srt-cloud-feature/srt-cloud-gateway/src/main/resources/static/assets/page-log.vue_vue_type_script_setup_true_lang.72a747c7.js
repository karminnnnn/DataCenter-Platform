import{d as q,X as I,h as _,ai as N,r as o,aj as T,o as f,f as C,w as n,b as e,k as u,a1 as U,a6 as H,G as j,a as K,l as d}from"./index.afa5927e.js";import{_ as R}from"./readonly-studio.vue_vue_type_script_setup_true_lang.c5082512.js";const A=d("\u67E5\u8BE2"),G=d("\u5220\u9664"),X=d("\u9519\u8BEF\u65E5\u5FD7"),J=d("\u5220\u9664"),M={style:{padding:"15px"}},W=q({__name:"page-log",setup(O,{expose:v}){const l=I({createdIsNeed:!1,dataListUrl:"/data-governance/master-distribute-log/page",deleteUrl:"/data-governance/master-distribute-log",queryForm:{distributeId:"",runStatus:""}}),c=_(!1),y=i=>{l.queryForm.distributeId=i,c.value=!0,g()},p=_(!1),h=_(),w=i=>{p.value=!0,setTimeout(()=>{h.value.setEditorValue(i)},200)},{getDataList:g,selectionChangeHandle:E,sizeChangeHandle:x,currentChangeHandle:V,deleteBatchHandle:b}=N(l);return v({init:y}),(i,t)=>{const k=o("fast-select"),m=o("el-form-item"),s=o("el-button"),B=o("el-form"),r=o("el-table-column"),D=o("fast-table-column"),L=o("el-table"),z=o("el-pagination"),F=o("el-dialog"),S=T("loading");return f(),C(F,{modelValue:c.value,"onUpdate:modelValue":t[5]||(t[5]=a=>c.value=a),title:"\u6267\u884C\u8BB0\u5F55","close-on-click-modal":!1},{default:n(()=>[e(B,{inline:!0,model:l.queryForm,onKeyup:t[3]||(t[3]=U(a=>u(g)(),["enter"]))},{default:n(()=>[e(m,null,{default:n(()=>[e(k,{modelValue:l.queryForm.runStatus,"onUpdate:modelValue":t[0]||(t[0]=a=>l.queryForm.runStatus=a),placeholder:"\u8FD0\u884C\u72B6\u6001","dict-type":"run_status",clearable:""},null,8,["modelValue"])]),_:1}),e(m,null,{default:n(()=>[e(s,{onClick:t[1]||(t[1]=a=>u(g)())},{default:n(()=>[A]),_:1})]),_:1}),e(m,null,{default:n(()=>[e(s,{type:"danger",onClick:t[2]||(t[2]=a=>u(b)())},{default:n(()=>[G]),_:1})]),_:1})]),_:1},8,["model"]),H((f(),C(L,{data:l.dataList,border:"",style:{width:"100%"},onSelectionChange:u(E)},{default:n(()=>[e(r,{type:"selection","header-align":"center",align:"center",width:"50"}),e(r,{prop:"id",label:"\u6267\u884C\u5E8F\u53F7","header-align":"center",align:"center",width:"100px"}),e(D,{prop:"runStatus",label:"\u8FD0\u884C\u72B6\u6001","header-align":"center",align:"center","dict-type":"run_status",width:"120px"}),e(r,{prop:"startTime",label:"\u5F00\u59CB\u65F6\u95F4","header-align":"center",align:"center",width:"160px"}),e(r,{prop:"endTime",label:"\u7ED3\u675F\u65F6\u95F4","header-align":"center",align:"center",width:"160px"}),e(r,{prop:"dataCount",label:"\u6D3E\u53D1\u6570\u636E\u91CF","header-align":"center",align:"center",width:"160px"}),e(r,{prop:"byteCount",label:"\u6570\u636E\u91CF\u5927\u5C0F","header-align":"center",align:"center",width:"160px"}),e(r,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center",width:"160px"}),e(r,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"150"},{default:n(a=>[a.row.errorInfo?(f(),C(s,{key:0,type:"primary",link:"",onClick:$=>w(a.row.errorInfo)},{default:n(()=>[X]),_:2},1032,["onClick"])):j("",!0),e(s,{type:"primary",link:"",onClick:$=>u(b)(a.row.id)},{default:n(()=>[J]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[S,l.dataListLoading]]),e(z,{"current-page":l.page,"page-sizes":l.pageSizes,"page-size":l.limit,total:l.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:u(x),onCurrentChange:u(V)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"]),e(F,{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=a=>p.value=a),title:"\u9519\u8BEF\u65E5\u5FD7",width:"65%"},{default:n(()=>[K("div",M,[e(R,{id:"distributeErrorLog",ref_key:"distributeErrorLogRef",ref:h,style:{height:"500px"}},null,512)])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}});export{W as _};
