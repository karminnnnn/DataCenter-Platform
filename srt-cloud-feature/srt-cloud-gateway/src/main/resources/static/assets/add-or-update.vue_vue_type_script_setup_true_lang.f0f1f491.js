import{d as k,h as i,X as w,r,o as K,f as S,w as u,b as a,a6 as _,a7 as F,a1 as B,l as V,al as U,E as I}from"./index.afa5927e.js";import{u as L,a as h}from"./app.6975e7a0.js";const q=V("\u53D6\u6D88"),R=V("\u786E\u5B9A"),j=k({__name:"add-or-update",emits:["refreshDataList"],setup($,{expose:b,emit:g}){const d=i(!1),p=i(),m=i([]),l=w({orgId:"",appKey:"",appSecret:"",name:"",note:"",expireDesc:""}),v=i({orgId:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],expireDesc:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),D=o=>{d.value=!0,l.id="",p.value&&p.value.resetFields(),U().then(e=>{m.value=e.data}),o&&A(o)},A=o=>{L(o).then(e=>{Object.assign(l,e.data)})},f=()=>{p.value.validate(o=>{if(!o)return!1;h(l).then(()=>{I.success({message:"\u64CD\u4F5C\u6210\u529F",duration:500,onClose:()=>{d.value=!1,g("refreshDataList")}})})})};return b({init:D}),(o,e)=>{const y=r("el-tree-select"),s=r("el-form-item"),n=r("el-input"),C=r("fast-select"),E=r("el-form"),c=r("el-button"),x=r("el-dialog");return K(),S(x,{modelValue:d.value,"onUpdate:modelValue":e[9]||(e[9]=t=>d.value=t),title:l.id?"\u4FEE\u6539":"\u65B0\u589E","close-on-click-modal":!1},{footer:u(()=>[a(c,{onClick:e[7]||(e[7]=t=>d.value=!1)},{default:u(()=>[q]),_:1}),a(c,{type:"primary",onClick:e[8]||(e[8]=t=>f())},{default:u(()=>[R]),_:1})]),default:u(()=>[a(E,{ref_key:"dataFormRef",ref:p,model:l,rules:v.value,"label-width":"100px",onKeyup:e[6]||(e[6]=B(t=>f(),["enter"]))},{default:u(()=>[a(s,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784"},{default:u(()=>[a(y,{clearable:"",modelValue:l.orgId,"onUpdate:modelValue":e[0]||(e[0]=t=>l.orgId=t),data:m.value,"check-strictly":"","value-key":"id",props:{label:"name",children:"children"},style:{width:"100%"}},null,8,["modelValue","data"])]),_:1}),_(a(s,{label:"appKey",prop:"appKey"},{default:u(()=>[a(n,{disabled:"",modelValue:l.appKey,"onUpdate:modelValue":e[1]||(e[1]=t=>l.appKey=t),placeholder:"appKey"},null,8,["modelValue"])]),_:1},512),[[F,!!l.id]]),_(a(s,{label:"appSecret",prop:"appSecret"},{default:u(()=>[a(n,{disabled:"",modelValue:l.appSecret,"onUpdate:modelValue":e[2]||(e[2]=t=>l.appSecret=t),placeholder:"appSecret"},null,8,["modelValue"])]),_:1},512),[[F,!!l.id]]),a(s,{label:"\u540D\u79F0",prop:"name"},{default:u(()=>[a(n,{modelValue:l.name,"onUpdate:modelValue":e[3]||(e[3]=t=>l.name=t),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(s,{label:"\u63CF\u8FF0",prop:"note"},{default:u(()=>[a(n,{type:"textarea",rows:"2",modelValue:l.note,"onUpdate:modelValue":e[4]||(e[4]=t=>l.note=t),placeholder:"\u63CF\u8FF0"},null,8,["modelValue"])]),_:1}),a(s,{label:"token\u6709\u6548\u671F",prop:"expireDesc"},{default:u(()=>[a(C,{modelValue:l.expireDesc,"onUpdate:modelValue":e[5]||(e[5]=t=>l.expireDesc=t),placeholder:"\u6709\u6548\u671F","dict-type":"api_expire_desc",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{j as _};
