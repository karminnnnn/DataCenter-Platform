import{d as B,X as R,h as b,ai as A,r as i,aj as k,o as c,c as O,a6 as _,a7 as K,a as C,b as e,w as n,k as o,f,a1 as T,l as u,t as y,am as X,F as G}from"./index.afa5927e.js";import{_ as J}from"./add-or-update.vue_vue_type_script_setup_true_lang.eff6a946.js";const M=u("\u67E5\u8BE2"),P=u("\u65B0\u589E"),Q=u("\u5220\u9664"),W=["href"],Y={style:{"margin-left":"20px"}},Z=u("\u4E0B\u8F7D"),ee=u("\u5220\u9664"),te=B({name:"Data-integrateFileIndex"}),oe=B({...te,setup(ae,{expose:E}){const t=R({createdIsNeed:!1,projectId:"",path:"",fileCategoryId:"",dataListUrl:"/data-integrate/file/page",deleteUrl:"/data-integrate/file",queryForm:{name:"",fileCategoryId:"",type:""}}),F=b(!1),z=(s,l,m)=>{t.queryForm.fileCategoryId=s,t.path=l,t.fileCategoryId=s,t.projectId=m,g(),F.value=!0},v=b(),D=s=>{v.value.init(s,t.fileCategoryId,t.path,t.projectId)},{getDataList:g,selectionChangeHandle:x,sizeChangeHandle:I,currentChangeHandle:U,deleteBatchHandle:w,downloadHandle:V}=A(t);return E({init:z}),(s,l)=>{const m=i("el-input"),p=i("el-form-item"),d=i("el-button"),S=i("el-form"),r=i("el-table-column"),q=i("fast-table-org-column"),L=i("fast-creator-column"),$=i("el-table"),H=i("el-pagination"),h=k("auth"),j=k("loading");return c(),O(G,null,[_(C("div",null,[e(S,{inline:!0,model:t.queryForm,onKeyup:l[5]||(l[5]=T(a=>o(g)(),["enter"]))},{default:n(()=>[e(p,null,{default:n(()=>[e(m,{modelValue:t.queryForm.name,"onUpdate:modelValue":l[0]||(l[0]=a=>t.queryForm.name=a),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(p,null,{default:n(()=>[e(m,{modelValue:t.queryForm.type,"onUpdate:modelValue":l[1]||(l[1]=a=>t.queryForm.type=a),placeholder:"\u6587\u4EF6\u7C7B\u578B"},null,8,["modelValue"])]),_:1}),e(p,null,{default:n(()=>[e(d,{type:"primary",onClick:l[2]||(l[2]=a=>o(g)())},{default:n(()=>[M]),_:1})]),_:1}),e(p,null,{default:n(()=>[_((c(),f(d,{type:"primary",onClick:l[3]||(l[3]=a=>D())},{default:n(()=>[P]),_:1})),[[h,"data-integrate:file:save"]])]),_:1}),e(p,null,{default:n(()=>[_((c(),f(d,{type:"danger",onClick:l[4]||(l[4]=a=>o(w)())},{default:n(()=>[Q]),_:1})),[[h,"data-integrate:file:delete"]])]),_:1})]),_:1},8,["model"]),_((c(),f($,{data:t.dataList,border:"",style:{width:"100%"},"max-height":"calc(100vh - 400px )",onSelectionChange:o(x)},{default:n(()=>[e(r,{type:"selection","header-align":"center",align:"center",width:"50"}),e(r,{"show-overflow-tooltip":"",prop:"name",label:"\u540D\u79F0","header-align":"center",align:"center"}),e(q,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784","header-align":"center",align:"center"}),e(r,{"show-overflow-tooltip":"",prop:"fileCategoryId",label:"\u6240\u5C5E\u5206\u7EC4","header-align":"center",align:"center"},{default:n(()=>[u(y(t.path),1)]),_:1}),e(r,{prop:"type",label:"\u6587\u4EF6\u7C7B\u578B","header-align":"center",align:"center"}),e(r,{prop:"fileUrl",label:"\u6587\u4EF6\u5730\u5740","header-align":"center",align:"center"},{default:n(a=>[e(d,{type:"primary",link:""},{default:n(()=>[C("a",{href:a.row.fileUrl,target:"_blank"},"\u70B9\u51FB\u524D\u5F80",8,W)]),_:2},1024)]),_:1}),e(r,{prop:"size",label:"\u6587\u4EF6\u5927\u5C0F","header-align":"center",align:"center"},{default:n(a=>[u(y(a.row.size?o(X)(a.row.size):""),1)]),_:1}),e(r,{type:"expand",label:"\u63CF\u8FF0",width:"80"},{default:n(a=>[C("div",Y,y(a.row.description?a.row.description:"\u65E0\u63CF\u8FF0\u4FE1\u606F\uFF01"),1)]),_:1}),e(L,{prop:"creator",label:"\u521B\u5EFA\u8005","header-align":"center",align:"center"}),e(r,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center"}),e(r,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"180"},{default:n(a=>[e(d,{type:"primary",link:"",onClick:N=>o(V)(a.row.fileUrl,a.row.name)},{default:n(()=>[Z]),_:2},1032,["onClick"]),_((c(),f(d,{type:"primary",link:"",onClick:N=>o(w)(a.row.id)},{default:n(()=>[ee]),_:2},1032,["onClick"])),[[h,"data-integrate:file:delete"]])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[j,t.dataListLoading]]),e(H,{"current-page":t.page,"page-sizes":t.pageSizes,"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:o(I),onCurrentChange:o(U)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"])],512),[[K,F.value]]),e(J,{ref_key:"addOrUpdateRef",ref:v,onRefreshDataList:o(g)},null,8,["onRefreshDataList"])],64)}}});export{oe as _};
