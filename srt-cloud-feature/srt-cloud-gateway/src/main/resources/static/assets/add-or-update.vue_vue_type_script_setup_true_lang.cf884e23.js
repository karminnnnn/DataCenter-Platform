import{d as y,h as i,X as c,r,o as h,f as w,w as t,b as a,a1 as k,l as E,al as x,E as U}from"./index.afa5927e.js";import{u as T,a as q}from"./jar.08aca0ee.js";const I=E("\u53D6\u6D88"),J=E("\u786E\u5B9A"),j=y({__name:"add-or-update",emits:["refreshDataList"],setup(L,{expose:F,emit:g}){const d=i(!1),m=i(),p=i([]),u=c({orgId:"",name:"",submitType:"",path:"",mainClass:"",params:"",note:""}),C=o=>{d.value=!0,u.id="",m.value&&m.value.resetFields(),x().then(e=>{p.value=e.data}),o&&_(o)},_=o=>{T(o).then(e=>{Object.assign(u,e.data)})},V=i({orgId:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],submitType:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],path:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],mainClass:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),f=()=>{m.value.validate(o=>{if(!o)return!1;q(u).then(()=>{U.success({message:"\u64CD\u4F5C\u6210\u529F",duration:500,onClose:()=>{d.value=!1,g("refreshDataList")}})})})};return F({init:C}),(o,e)=>{const B=r("el-tree-select"),s=r("el-form-item"),n=r("el-input"),A=r("fast-select"),D=r("el-form"),b=r("el-button"),v=r("el-dialog");return h(),w(v,{modelValue:d.value,"onUpdate:modelValue":e[10]||(e[10]=l=>d.value=l),title:u.id?"\u4FEE\u6539":"\u65B0\u589E","close-on-click-modal":!1},{footer:t(()=>[a(b,{onClick:e[8]||(e[8]=l=>d.value=!1)},{default:t(()=>[I]),_:1}),a(b,{type:"primary",onClick:e[9]||(e[9]=l=>f())},{default:t(()=>[J]),_:1})]),default:t(()=>[a(D,{ref_key:"dataFormRef",ref:m,model:u,rules:V.value,"label-width":"100px",onKeyup:e[7]||(e[7]=k(l=>f(),["enter"]))},{default:t(()=>[a(s,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784","label-width":"auto"},{default:t(()=>[a(B,{clearable:"",modelValue:u.orgId,"onUpdate:modelValue":e[0]||(e[0]=l=>u.orgId=l),data:p.value,"check-strictly":"","value-key":"id",props:{label:"name",children:"children"},style:{width:"100%"}},null,8,["modelValue","data"])]),_:1}),a(s,{label:"\u540D\u79F0",prop:"name","label-width":"auto"},{default:t(()=>[a(n,{modelValue:u.name,"onUpdate:modelValue":e[1]||(e[1]=l=>u.name=l),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(s,{label:"\u63D0\u4EA4\u65B9\u5F0F",prop:"submitType","label-width":"auto"},{default:t(()=>[a(A,{modelValue:u.submitType,"onUpdate:modelValue":e[2]||(e[2]=l=>u.submitType=l),"dict-type":"submit_type",placeholder:"\u8BF7\u9009\u62E9",clearable:""},null,8,["modelValue"])]),_:1}),a(s,{label:"\u6587\u4EF6\u5730\u5740",prop:"path","label-width":"auto"},{default:t(()=>[a(n,{modelValue:u.path,"onUpdate:modelValue":e[3]||(e[3]=l=>u.path=l),placeholder:"\u6587\u4EF6\u5730\u5740(\u9009\u62E9 standalone \u586B\u5199\u7A0B\u5E8F\u80FD\u8BBF\u95EE\u5230\u7684\u6587\u4EF6\u7EDD\u5BF9\u8DEF\u5F84; \u9009\u62E9 hdfs \u586B\u5199 hdfs \u7684\u6587\u4EF6\u5730\u5740)"},null,8,["modelValue"])]),_:1}),a(s,{label:"\u4E3B\u7C7B(\u542F\u52A8\u7C7B)",prop:"mainClass","label-width":"auto"},{default:t(()=>[a(n,{modelValue:u.mainClass,"onUpdate:modelValue":e[4]||(e[4]=l=>u.mainClass=l),placeholder:"jar\u5305\u7684\u4E3B\u7C7B,\u5982 net.srt.AppJar"},null,8,["modelValue"])]),_:1}),a(s,{label:"\u4E3B\u7C7B\u53C2\u6570",prop:"params","label-width":"auto"},{default:t(()=>[a(n,{modelValue:u.params,"onUpdate:modelValue":e[5]||(e[5]=l=>u.params=l),placeholder:"\u683C\u5F0F:--key1 value1 --key2 value2, \u6BD4\u5982 --id 2 --name xxx"},null,8,["modelValue"])]),_:1}),a(s,{label:"\u5907\u6CE8",prop:"note","label-width":"auto"},{default:t(()=>[a(n,{type:"textarea",rrows:"3",modelValue:u.note,"onUpdate:modelValue":e[6]||(e[6]=l=>u.note=l),placeholder:"\u5907\u6CE8"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{j as _};
