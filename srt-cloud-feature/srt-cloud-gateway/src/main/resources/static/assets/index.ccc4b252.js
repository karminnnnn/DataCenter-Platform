import{d as j,X as A,h as f,ai as I,r as a,aj as D,o as r,f as d,w as e,b as t,k as s,a6 as _,a1 as K,G,l as u,_ as X}from"./index.afa5927e.js";import{_ as J}from"./add-or-update.vue_vue_type_script_setup_true_lang.74124f82.js";import{_ as M}from"./data-scope.vue_vue_type_script_setup_true_lang.b41e08fc.js";import{_ as P}from"./user.vue_vue_type_script_setup_true_name_SysMenuIndex_lang.36e6598e.js";import"./role.e96c1f40.js";const Q=u("\u67E5\u8BE2"),W=u("\u65B0\u589E"),Y=u("\u5220\u9664"),Z=u("\u4FEE\u6539"),ee=u("\u5220\u9664"),te=u("\u66F4\u591A"),ne=u("\u6570\u636E\u6743\u9650"),ae=u("\u5206\u914D\u7528\u6237"),oe=j({__name:"index",setup(le){const l=A({dataListUrl:"/sys/role/page",deleteUrl:"/sys/role",queryForm:{name:""}}),h=f(),w=c=>{h.value.init(c)},k=f(),g=f(!1),b=f(),F=f(),V=(c,n)=>{c==="dataScope"?k.value.init(n.id):c==="user"&&(b.value=n.id,F.value="\u5206\u914D\u7528\u6237 - "+n.name,g.value=!0)},{getDataList:C,selectionChangeHandle:S,sizeChangeHandle:$,currentChangeHandle:E,deleteBatchHandle:x}=I(l);return(c,n)=>{const L=a("el-input"),y=a("el-form-item"),i=a("el-button"),U=a("el-form"),p=a("el-table-column"),z=a("el-dropdown-item"),B=a("el-dropdown-menu"),R=a("el-dropdown"),H=a("el-table"),q=a("el-pagination"),N=a("el-drawer"),O=a("el-card"),m=D("auth"),T=D("loading");return r(),d(O,null,{default:e(()=>[t(U,{inline:!0,model:l.queryForm,onKeyup:n[4]||(n[4]=K(o=>s(C)(),["enter"]))},{default:e(()=>[t(y,null,{default:e(()=>[t(L,{modelValue:l.queryForm.name,"onUpdate:modelValue":n[0]||(n[0]=o=>l.queryForm.name=o),placeholder:"\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),t(y,null,{default:e(()=>[t(i,{onClick:n[1]||(n[1]=o=>s(C)())},{default:e(()=>[Q]),_:1})]),_:1}),t(y,null,{default:e(()=>[_((r(),d(i,{type:"primary",onClick:n[2]||(n[2]=o=>w())},{default:e(()=>[W]),_:1})),[[m,"sys:role:save"]])]),_:1}),t(y,null,{default:e(()=>[_((r(),d(i,{type:"danger",onClick:n[3]||(n[3]=o=>s(x)())},{default:e(()=>[Y]),_:1})),[[m,"sys:role:delete"]])]),_:1})]),_:1},8,["model"]),_((r(),d(H,{data:l.dataList,border:"",style:{width:"100%"},onSelectionChange:s(S)},{default:e(()=>[t(p,{type:"selection","header-align":"center",align:"center",width:"50"}),t(p,{prop:"name",label:"\u540D\u79F0","header-align":"center",align:"center"}),t(p,{prop:"remark",label:"\u5907\u6CE8","header-align":"center",align:"center"}),t(p,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center",width:"180"}),t(p,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"200"},{default:e(o=>[_((r(),d(i,{type:"primary",link:"",onClick:v=>w(o.row.id)},{default:e(()=>[Z]),_:2},1032,["onClick"])),[[m,"sys:role:update"]]),_((r(),d(i,{type:"primary",link:"",onClick:v=>s(x)(o.row.id)},{default:e(()=>[ee]),_:2},1032,["onClick"])),[[m,"sys:role:delete"]]),_((r(),d(R,{onCommand:v=>V(v,o.row)},{dropdown:e(()=>[t(B,null,{default:e(()=>[t(z,{command:"dataScope"},{default:e(()=>[ne]),_:1}),t(z,{command:"user"},{default:e(()=>[ae]),_:1})]),_:1})]),default:e(()=>[t(i,{type:"primary",class:"el-dropdown-link",link:""},{default:e(()=>[te]),_:1})]),_:2},1032,["onCommand"])),[[m,"sys:role:update"]])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[T,l.dataListLoading]]),t(q,{"current-page":l.page,"page-sizes":l.pageSizes,"page-size":l.limit,total:l.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:s($),onCurrentChange:s(E)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"]),t(J,{ref_key:"addOrUpdateRef",ref:h,onRefreshDataList:s(C)},null,8,["onRefreshDataList"]),t(M,{ref_key:"dataScopeRef",ref:k},null,512),g.value?(r(),d(N,{key:0,modelValue:g.value,"onUpdate:modelValue":n[5]||(n[5]=o=>g.value=o),title:F.value,size:1e3,"close-on-press-escape":!1},{default:e(()=>[t(P,{"role-id":b.value},null,8,["role-id"])]),_:1},8,["modelValue","title"])):G("",!0)]),_:1})}}});const _e=X(oe,[["__scopeId","data-v-26b97e97"]]);export{_e as default};
