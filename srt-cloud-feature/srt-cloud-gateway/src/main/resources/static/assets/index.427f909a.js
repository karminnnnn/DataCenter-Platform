import{d as V,X as P,h as k,ai as Q,r as l,aj as x,o as c,f as i,w as a,b as e,k as p,a6 as m,a1 as W,a as T,G as d,l as u,a8 as B,E as v}from"./index.afa5927e.js";import{_ as Y}from"./add-or-update.vue_vue_type_script_setup_true_lang.057099ac.js";import{_ as Z}from"./info.vue_vue_type_script_setup_true_lang.17980bc2.js";import{_ as ee}from"./record.vue_vue_type_script_setup_true_name_SrtRecordIndex_lang.de77dd8c.js";import{r as te,c as ae,h as ne}from"./metadataCollect.53667fb3.js";import"./folder.ea536bf2.js";import"./database.235d7a89.js";import"./table.e1c1b00a.js";import"./column.79595943.js";import"./model.45425835.js";import"./database.e836db09.js";import"./metadata.ec7a05f4.js";import"./readonly-studio.vue_vue_type_script_setup_true_lang.c5082512.js";import"./toggleHighContrast.9f64e070.js";const oe=u("\u67E5\u8BE2"),le=u("\u65B0\u589E"),ue=u("\u5168\u91CF"),re=u("\u589E\u91CF"),ce=u("\u672A\u53D1\u5E03"),ie=u("\u5DF2\u53D1\u5E03"),se=u("\u67E5\u770B"),de=u("\u91C7\u96C6\u8BB0\u5F55"),_e=u("\u6267\u884C"),pe=u("\u53D1\u5E03"),me=u("\u53D6\u6D88\u53D1\u5E03"),fe=u("\u7F16\u8F91"),ge=u("\u5220\u9664"),ye=V({name:"Data-governanceMetadata-collectIndex"}),Re=V({...ye,setup(he){const o=P({dataListUrl:"/data-governance/metadata-collect/page",deleteUrl:"/data-governance/metadata-collect",queryForm:{name:"",strategy:"",taskType:""}}),D=k(),E=r=>{D.value.init(r)},$=r=>{B.confirm("\u786E\u5B9A\u53D1\u5E03\u5417?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{te(r).then(n=>{v.success("\u53D1\u5E03\u6210\u529F"),y()})}).catch(()=>{})},R=r=>{B.confirm("\u786E\u5B9A\u53D6\u6D88\u53D1\u5E03\u5417?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{ae(r).then(n=>{v.success("\u53D6\u6D88\u53D1\u5E03\u6210\u529F"),y()})}).catch(()=>{})},F=k(),z=r=>{F.value.init(r)},b=k(),q=r=>{b.value.init(r)},U=r=>{B.confirm("\u786E\u5B9A\u6267\u884C\u5417?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{ne(r).then(n=>{v.success("\u624B\u52A8\u6267\u884C\u6210\u529F")})}).catch(()=>{})},{getDataList:y,selectionChangeHandle:L,sizeChangeHandle:H,currentChangeHandle:S,deleteBatchHandle:N}=Q(o);return(r,n)=>{const I=l("el-input"),h=l("el-form-item"),w=l("fast-select"),s=l("el-button"),M=l("el-form"),_=l("el-table-column"),O=l("fast-table-org-column"),A=l("fast-table-column"),C=l("el-tag"),j=l("fast-creator-column"),K=l("el-table"),G=l("el-pagination"),X=l("el-card"),f=x("auth"),J=x("loading");return c(),i(X,{"body-style":"height: calc(100vh - 170px )"},{default:a(()=>[e(M,{inline:!0,model:o.queryForm,onKeyup:n[5]||(n[5]=W(t=>p(y)(),["enter"]))},{default:a(()=>[e(h,null,{default:a(()=>[e(I,{modelValue:o.queryForm.name,"onUpdate:modelValue":n[0]||(n[0]=t=>o.queryForm.name=t),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(h,null,{default:a(()=>[e(w,{modelValue:o.queryForm.strategy,"onUpdate:modelValue":n[1]||(n[1]=t=>o.queryForm.strategy=t),"dict-type":"metadata_collect_strategy",placeholder:"\u5165\u5E93\u7B56\u7565",clearable:"",filterable:""},null,8,["modelValue"])]),_:1}),e(h,null,{default:a(()=>[e(w,{modelValue:o.queryForm.taskType,"onUpdate:modelValue":n[2]||(n[2]=t=>o.queryForm.taskType=t),"dict-type":"metadata_collect_type",placeholder:"\u4EFB\u52A1\u7C7B\u578B",clearable:"",filterable:""},null,8,["modelValue"])]),_:1}),e(h,null,{default:a(()=>[e(s,{onClick:n[3]||(n[3]=t=>p(y)())},{default:a(()=>[oe]),_:1})]),_:1}),e(h,null,{default:a(()=>[m((c(),i(s,{type:"primary",onClick:n[4]||(n[4]=t=>E())},{default:a(()=>[le]),_:1})),[[f,"data-governance:metadata-collect:save"]])]),_:1})]),_:1},8,["model"]),m((c(),i(K,{data:o.dataList,border:"",style:{width:"100%"},"max-height":"calc(100vh - 400px )",onSelectionChange:p(L)},{default:a(()=>[e(_,{prop:"name",label:"\u4EFB\u52A1\u540D\u79F0","header-align":"center",align:"center"}),e(O,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784","header-align":"center",align:"center"}),e(A,{prop:"dbType",label:"\u6570\u636E\u5E93\u7C7B\u578B","header-align":"center",align:"center","dict-type":"db_type"}),e(_,{prop:"strategy",label:"\u5165\u5E93\u7B56\u7565","header-align":"center",align:"center"},{default:a(t=>[T("span",null,[t.row.strategy==0?(c(),i(C,{key:0,type:"success"},{default:a(()=>[ue]),_:1})):d("",!0),t.row.strategy==1?(c(),i(C,{key:1,type:"warning"},{default:a(()=>[re]),_:1})):d("",!0)])]),_:1}),e(A,{prop:"taskType",label:"\u4EFB\u52A1\u7C7B\u578B","header-align":"center",align:"center","dict-type":"metadata_collect_type"}),e(_,{prop:"cron",label:"cron\u8868\u8FBE\u5F0F","header-align":"center",align:"center"}),e(_,{prop:"status",label:"\u53D1\u5E03\u72B6\u6001","header-align":"center",align:"center"},{default:a(t=>[T("span",null,[t.row.status==0?(c(),i(C,{key:0,type:"info"},{default:a(()=>[ce]),_:1})):d("",!0),t.row.status==1?(c(),i(C,{key:1,type:"success"},{default:a(()=>[ie]),_:1})):d("",!0)])]),_:1}),e(_,{"show-overflow-tooltip":"",prop:"releaseTime",label:"\u53D1\u5E03\u65F6\u95F4","header-align":"center",align:"center"}),e(j,{prop:"creator",label:"\u521B\u5EFA\u8005","header-align":"center",align:"center"}),e(_,{"show-overflow-tooltip":"",prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center"}),e(_,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"330"},{default:a(t=>[e(s,{type:"primary",link:"",onClick:g=>z(t.row.id)},{default:a(()=>[se]),_:2},1032,["onClick"]),e(s,{type:"primary",link:"",onClick:g=>q(t.row.id)},{default:a(()=>[de]),_:2},1032,["onClick"]),m((c(),i(s,{type:"primary",link:"",onClick:g=>U(t.row.id)},{default:a(()=>[_e]),_:2},1032,["onClick"])),[[f,"data-governance:metadata-collect:hand-run"]]),t.row.status==0?m((c(),i(s,{key:0,type:"primary",link:"",onClick:g=>$(t.row.id)},{default:a(()=>[pe]),_:2},1032,["onClick"])),[[f,"data-governance:metadata-collect:release"]]):d("",!0),t.row.status==1?m((c(),i(s,{key:1,type:"primary",link:"",onClick:g=>R(t.row.id)},{default:a(()=>[me]),_:2},1032,["onClick"])),[[f,"data-governance:metadata-collect:cancel"]]):d("",!0),t.row.status==0?m((c(),i(s,{key:2,type:"primary",link:"",onClick:g=>E(t.row.id)},{default:a(()=>[fe]),_:2},1032,["onClick"])),[[f,"data-governance:metadata-collect:update"]]):d("",!0),t.row.status==0?m((c(),i(s,{key:3,type:"primary",link:"",onClick:g=>p(N)(t.row.id)},{default:a(()=>[ge]),_:2},1032,["onClick"])),[[f,"data-governance:metadata-collect:delete"]]):d("",!0)]),_:1})]),_:1},8,["data","onSelectionChange"])),[[J,o.dataListLoading]]),e(G,{"current-page":o.page,"page-sizes":o.pageSizes,"page-size":o.limit,total:o.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:p(H),onCurrentChange:p(S)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"]),e(Y,{ref_key:"addOrUpdateRef",ref:D,onRefreshDataList:p(y)},null,8,["onRefreshDataList"]),e(Z,{ref_key:"infoRef",ref:F},null,512),e(ee,{ref_key:"recordRef",ref:b},null,512)]),_:1})}}});export{Re as default};
