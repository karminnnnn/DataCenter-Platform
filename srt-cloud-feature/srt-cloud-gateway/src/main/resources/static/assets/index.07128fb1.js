import{d as b,X as A,h as c,ai as R,r as n,aj as S,o as _,f as g,w as o,b as e,k as u,a1 as H,a6 as N,G as j,a as I,l as d}from"./index.afa5927e.js";import{_ as K}from"./readonly-studio.vue_vue_type_script_setup_true_lang.c5082512.js";import{_ as G}from"./task-table.vue_vue_type_script_setup_true_lang.72ecceee.js";import"./toggleHighContrast.9f64e070.js";import"./task-column.vue_vue_type_script_setup_true_lang.a19734c7.js";const P=d("\u67E5\u8BE2"),Q=d("\u5220\u9664"),X=d("\u5220\u9664"),J=d("\u68C0\u6D4B\u8BB0\u5F55"),O=d("\u9519\u8BEF\u65E5\u5FD7"),W={style:{padding:"15px"}},Z=b({name:"Data-governanceQuality-taskIndex"}),re=b({...Z,setup(ee){const a=A({dataListUrl:"/data-governance/quality-task/page",deleteUrl:"/data-governance/quality-task",queryForm:{name:"",status:"",startTime:"",endTime:""}}),p=c(!1),f=c(),k=m=>{p.value=!0,setTimeout(()=>{f.value.setEditorValue(m)},500)},h=c(),w=m=>{h.value.init(m)},{getDataList:y,selectionChangeHandle:D,sizeChangeHandle:V,currentChangeHandle:B,deleteBatchHandle:C}=R(a);return(m,l)=>{const Y=n("el-input"),i=n("el-form-item"),q=n("fast-select"),F=n("el-date-picker"),s=n("el-button"),E=n("el-form"),r=n("el-table-column"),T=n("fast-table-org-column"),x=n("fast-table-column"),L=n("el-table"),z=n("el-pagination"),M=n("el-dialog"),$=n("el-card"),U=S("loading");return _(),g($,{"body-style":"height: calc(100vh - 170px )"},{default:o(()=>[e(E,{inline:!0,model:a.queryForm,onKeyup:l[6]||(l[6]=H(t=>u(y)(),["enter"]))},{default:o(()=>[e(i,null,{default:o(()=>[e(Y,{modelValue:a.queryForm.name,"onUpdate:modelValue":l[0]||(l[0]=t=>a.queryForm.name=t),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(i,null,{default:o(()=>[e(q,{modelValue:a.queryForm.status,"onUpdate:modelValue":l[1]||(l[1]=t=>a.queryForm.status=t),"dict-type":"run_status",placeholder:"\u72B6\u6001",clearable:""},null,8,["modelValue"])]),_:1}),e(i,null,{default:o(()=>[e(F,{modelValue:a.queryForm.startTime,"onUpdate:modelValue":l[2]||(l[2]=t=>a.queryForm.startTime=t),type:"datetime",placeholder:"\u5F00\u59CB\u65F6\u95F4",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue"])]),_:1}),e(i,null,{default:o(()=>[e(F,{modelValue:a.queryForm.endTime,"onUpdate:modelValue":l[3]||(l[3]=t=>a.queryForm.endTime=t),type:"datetime",placeholder:"\u7ED3\u675F\u65F6\u95F4",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue"])]),_:1}),e(i,null,{default:o(()=>[e(s,{onClick:l[4]||(l[4]=t=>u(y)())},{default:o(()=>[P]),_:1})]),_:1}),e(i,null,{default:o(()=>[e(s,{type:"danger",onClick:l[5]||(l[5]=t=>u(C)())},{default:o(()=>[Q]),_:1})]),_:1})]),_:1},8,["model"]),N((_(),g(L,{data:a.dataList,border:"",style:{width:"100%"},"max-height":"calc(100vh - 400px )",onSelectionChange:u(D)},{default:o(()=>[e(r,{type:"selection","header-align":"center",align:"center",width:"50"}),e(r,{prop:"name","show-overflow-tooltip":"",label:"\u540D\u79F0","header-align":"center",align:"center"}),e(T,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784","header-align":"center",align:"center"}),e(x,{prop:"status","show-overflow-tooltip":"",label:"\u72B6\u6001","header-align":"center",align:"center","dict-type":"run_status"}),e(r,{prop:"checkCount",label:"\u68C0\u6D4B\u6761\u6570","header-align":"center",align:"center"}),e(r,{prop:"passCount",label:"\u901A\u8FC7\u6570","header-align":"center",align:"center"}),e(r,{prop:"notPassCount",label:"\u672A\u901A\u8FC7\u6570","header-align":"center",align:"center"}),e(r,{prop:"passRate",label:"\u5408\u683C\u7387","header-align":"center",align:"center"}),e(r,{prop:"startTime","show-overflow-tooltip":"",label:"\u5F00\u59CB\u65F6\u95F4","header-align":"center",align:"center"}),e(r,{prop:"endTime","show-overflow-tooltip":"",label:"\u7ED3\u675F\u65F6\u95F4","header-align":"center",align:"center"}),e(r,{prop:"createTime","show-overflow-tooltip":"",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center"}),e(r,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"250"},{default:o(t=>[e(s,{type:"primary",link:"",onClick:v=>u(C)(t.row.id)},{default:o(()=>[X]),_:2},1032,["onClick"]),e(s,{type:"primary",link:"",onClick:v=>w(t.row.id)},{default:o(()=>[J]),_:2},1032,["onClick"]),t.row.status==4?(_(),g(s,{key:0,type:"primary",link:"",onClick:v=>k(t.row.errorLog)},{default:o(()=>[O]),_:2},1032,["onClick"])):j("",!0)]),_:1})]),_:1},8,["data","onSelectionChange"])),[[U,a.dataListLoading]]),e(z,{"current-page":a.page,"page-sizes":a.pageSizes,"page-size":a.limit,total:a.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:u(V),onCurrentChange:u(B)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"]),e(M,{modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=t=>p.value=t),title:"\u9519\u8BEF\u65E5\u5FD7",width:"55%"},{default:o(()=>[I("div",W,[e(K,{id:"qualityErrorLog",ref_key:"qualityErrorLogRef",ref:f,style:{height:"500px"}},null,512)])]),_:1},8,["modelValue"]),e(G,{ref_key:"taskTableRef",ref:h},null,512)]),_:1})}}});export{re as default};
