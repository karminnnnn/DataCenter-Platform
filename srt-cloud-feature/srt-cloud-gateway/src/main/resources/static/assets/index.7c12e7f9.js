import{d as z,X as Z,h as k,ai as ee,r,aj as R,o as d,f as p,w as a,a as U,b as e,k as l,a6 as i,a1 as te,l as o,t as C,ac as w,s as B,a7 as D,G as F,a8 as E,E as v}from"./index.afa5927e.js";import ae from"./add-or-update.4568a9cd.js";import ne from"./info.73e4aea2.js";import{_ as ue}from"./access-task.vue_vue_type_script_setup_true_name_SrtTaskIndex_lang.9333d5de.js";import{c as le,h as oe,d as re}from"./access.d3ea15fb.js";import"./database.e836db09.js";import"./sql-studio.cd646879.js";import"./ts.worker.921d436c.js";import"./toggleHighContrast.9f64e070.js";import"./sqlFormatter.e0a34ad5.js";import"./sql.4f48b9c1.js";import"./access-task-detail.vue_vue_type_script_setup_true_name_SrtAccessTaskDetailIndex_lang.71f28008.js";import"./readonly-studio.vue_vue_type_script_setup_true_lang.c5082512.js";const se={class:"accessDivClass"},ie=o("\u67E5\u8BE2"),ce=o("\u65B0\u589E"),de=o("\u5220\u9664"),pe=o("\u67E5\u770B"),_e=o("\u7F16\u8F91"),me=o("\u53D1\u5E03"),ge=o("\u53D6\u6D88\u53D1\u5E03"),fe=o("\u6267\u884C"),he=o("\u6267\u884C\u8BB0\u5F55"),ye=o("\u5220\u9664"),Ce={class:"drawerClass",style:{height:"100%"}},Fe=z({name:"Data-integrateAccessIndex"}),Re=z({...Fe,setup(ke){const u=Z({dataListUrl:"/data-integrate/access/page",deleteUrl:"/data-integrate/access",queryForm:{taskName:"",projectId:"",dataDatabaseId:"",status:"",runStatus:""}}),b=k(),A=s=>{b.value.init(s)},T=k(),q=s=>{T.value.init(s)},x=k(),H=s=>{x.value.init(s)},N=s=>{E.confirm("\u786E\u5B9A\u53D1\u5E03\u5417?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{le(s).then(n=>{v({message:"\u53D1\u5E03\u6210\u529F",type:"success"}),g()})}).catch(()=>{})},I=s=>{E.confirm("\u786E\u8BA4\u6267\u884C\u5417\uFF0C\u5982\u679C\u6709\u6B63\u5728\u6267\u884C\u7684\u4EFB\u52A1\u53EF\u80FD\u4F1A\u5EF6\u8FDF\u6267\u884C\uFF01","\u8B66\u544A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{oe(s).then(n=>{v({message:"\u624B\u52A8\u8C03\u5EA6\u6267\u884C\u6210\u529F\uFF0C\u8C03\u5EA6\u5668\u6267\u884C\u5B8C\u6BD5\u540E\u53EF\u4EE5\u53BB\u6267\u884C\u8BB0\u5F55\u67E5\u770B\u6267\u884C\u7ED3\u679C",type:"success"}),g()})}).catch(()=>{})},O=s=>{E.confirm("\u786E\u8BA4\u53D6\u6D88\u53D1\u5E03\u5417\uFF1F","\u8B66\u544A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{re(s).then(n=>{v({message:"\u53D6\u6D88\u53D1\u5E03\u6210\u529F",type:"success"}),g()})}).catch(()=>{})},{getDataList:g,selectionChangeHandle:j,sizeChangeHandle:K,currentChangeHandle:M,deleteBatchHandle:S}=ee(u);return(s,n)=>{const G=r("el-input"),f=r("el-form-item"),V=r("fast-select"),c=r("el-button"),X=r("el-form"),_=r("el-table-column"),y=r("el-tag"),$=r("fast-table-column"),L=r("fast-creator-column"),J=r("fast-table-org-column"),P=r("el-table"),Q=r("el-pagination"),W=r("el-card"),m=R("auth"),Y=R("loading");return d(),p(W,null,{default:a(()=>[U("div",se,[e(X,{inline:!0,model:u.queryForm,onKeyup:n[6]||(n[6]=te(t=>l(g)(),["enter"]))},{default:a(()=>[e(f,null,{default:a(()=>[e(G,{modelValue:u.queryForm.taskName,"onUpdate:modelValue":n[0]||(n[0]=t=>u.queryForm.taskName=t),placeholder:"\u4EFB\u52A1\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(f,null,{default:a(()=>[e(V,{modelValue:u.queryForm.status,"onUpdate:modelValue":n[1]||(n[1]=t=>u.queryForm.status=t),"dict-type":"release_status",placeholder:"\u53D1\u5E03\u72B6\u6001",clearable:""},null,8,["modelValue"])]),_:1}),e(f,null,{default:a(()=>[e(V,{modelValue:u.queryForm.runStatus,"onUpdate:modelValue":n[2]||(n[2]=t=>u.queryForm.runStatus=t),"dict-type":"run_status",placeholder:"\u6700\u8FD1\u8FD0\u884C\u72B6\u6001",clearable:""},null,8,["modelValue"])]),_:1}),e(f,null,{default:a(()=>[e(c,{onClick:n[3]||(n[3]=t=>l(g)())},{default:a(()=>[ie]),_:1})]),_:1}),e(f,null,{default:a(()=>[i((d(),p(c,{type:"primary",onClick:n[4]||(n[4]=t=>A())},{default:a(()=>[ce]),_:1})),[[m,"data-integrate:access:save"]])]),_:1}),e(f,null,{default:a(()=>[i((d(),p(c,{type:"danger",onClick:n[5]||(n[5]=t=>l(S)())},{default:a(()=>[de]),_:1})),[[m,"data-integrate:access:delete"]])]),_:1})]),_:1},8,["model"]),i((d(),p(P,{data:u.dataList,border:"",style:{width:"100%"},"max-height":"calc(100vh - 400px )",onSelectionChange:l(j)},{default:a(()=>[e(_,{type:"selection","header-align":"center",align:"center",width:"50"}),e(_,{prop:"taskName",label:"\u540D\u79F0","header-align":"center",align:"center","show-overflow-tooltip":""}),e(_,{prop:"taskType",label:"\u7C7B\u578B","header-align":"center",align:"center",width:"160"},{default:a(t=>[i(e(y,{type:"success"},{default:a(()=>[o(C(l(w)(l(B).appStore.dictList,"task_type",t.row.taskType)),1)]),_:2},1536),[[D,t.row.taskType==1]]),i(e(y,null,{default:a(()=>[o(C(l(w)(l(B).appStore.dictList,"task_type",t.row.taskType)),1)]),_:2},1536),[[D,t.row.taskType==2]]),i(e(y,{type:"warning"},{default:a(()=>[o(C(l(w)(l(B).appStore.dictList,"task_type",t.row.taskType)),1)]),_:2},1536),[[D,t.row.taskType==3]])]),_:1}),e(_,{prop:"cron",label:"cron\u8868\u8FBE\u5F0F","header-align":"center",align:"center",width:"120"},{default:a(t=>[e(y,null,{default:a(()=>[o(C(t.row.cron?t.row.cron:"\u65E0"),1)]),_:2},1024)]),_:1}),e($,{prop:"status",label:"\u53D1\u5E03\u72B6\u6001","header-align":"center",align:"center","dict-type":"release_status"}),e($,{prop:"runStatus","show-overflow-tooltip":"",label:"\u6700\u65B0\u72B6\u6001","header-align":"center",align:"center","dict-type":"run_status"}),e(_,{prop:"startTime",label:"\u6700\u8FD1\u5F00\u59CB\u65F6\u95F4","header-align":"center",align:"center",width:"160","show-overflow-tooltip":""}),e(_,{prop:"endTime",label:"\u6700\u8FD1\u7ED3\u675F\u65F6\u95F4","header-align":"center",align:"center",width:"160","show-overflow-tooltip":""}),e(_,{prop:"releaseTime",label:"\u53D1\u5E03\u65F6\u95F4","header-align":"center",align:"center",width:"160","show-overflow-tooltip":""}),e(L,{prop:"releaseUserId",label:"\u53D1\u5E03\u4EBA","header-align":"center",align:"center"}),e(J,{prop:"orgId",label:"\u6240\u5C5E\u673A\u6784","header-align":"center",align:"center"}),e(L,{prop:"creator",label:"\u521B\u5EFA\u8005","header-align":"center",align:"center"}),e(_,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","header-align":"center",align:"center",width:"160","show-overflow-tooltip":""}),e(_,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"320"},{default:a(t=>[i((d(),p(c,{type:"primary",link:"",onClick:h=>q(t.row.id)},{default:a(()=>[pe]),_:2},1032,["onClick"])),[[m,"data-integrate:access:info"]]),t.row.status=="0"?i((d(),p(c,{key:0,type:"primary",link:"",onClick:h=>A(t.row.id)},{default:a(()=>[_e]),_:2},1032,["onClick"])),[[m,"data-integrate:access:update"]]):F("",!0),t.row.status=="0"?i((d(),p(c,{key:1,type:"primary",link:"",onClick:h=>N(t.row.id)},{default:a(()=>[me]),_:2},1032,["onClick"])),[[m,"data-integrate:access:release"]]):F("",!0),t.row.status=="1"?i((d(),p(c,{key:2,type:"primary",link:"",onClick:h=>O(t.row.id)},{default:a(()=>[ge]),_:2},1032,["onClick"])),[[m,"data-integrate:access:cancle"]]):F("",!0),i((d(),p(c,{type:"primary",link:"",onClick:h=>I(t.row.id)},{default:a(()=>[fe]),_:2},1032,["onClick"])),[[m,"data-integrate:access:selfhandler"]]),e(c,{type:"primary",link:"",onClick:h=>H(t.row.id)},{default:a(()=>[he]),_:2},1032,["onClick"]),t.row.status=="0"?i((d(),p(c,{key:3,type:"primary",link:"",onClick:h=>l(S)(t.row.id)},{default:a(()=>[ye]),_:2},1032,["onClick"])),[[m,"data-integrate:access:delete"]]):F("",!0)]),_:1})]),_:1},8,["data","onSelectionChange"])),[[Y,u.dataListLoading]]),e(Q,{"current-page":u.page,"page-sizes":u.pageSizes,"page-size":u.limit,total:u.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l(K),onCurrentChange:l(M)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"]),U("div",Ce,[e(ae,{ref_key:"addOrUpdateRef",ref:b,onRefreshDataList:l(g)},null,8,["onRefreshDataList"])]),e(ne,{ref_key:"infoRef",ref:T},null,512),e(ue,{ref_key:"accessTaskRef",ref:x},null,512)])]),_:1})}}});export{Re as default};
