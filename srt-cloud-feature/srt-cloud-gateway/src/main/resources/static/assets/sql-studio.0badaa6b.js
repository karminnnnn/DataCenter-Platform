import{W as h,a as _,b as v,c as k}from"./ts.worker.921d436c.js";import{l as n,W as x,e as l}from"./toggleHighContrast.9f64e070.js";import{f as y}from"./sqlFormatter.e0a34ad5.js";import{language as r}from"./sql.4f48b9c1.js";import{d,h as s,ag as E,K as W,C,o as I,c as V,_ as S}from"./index.afa5927e.js";const T=["id"],w=d({name:"DataStudioIndex"}),B=d({...w,props:{id:{type:String,required:!1,default:()=>"codeEditBox"}},setup(a,{expose:u}){const c=a,p=s(""),m=s("sql"),i=s("vs-dark");E(()=>{o.dispose(),f.dispose(),console.log("editor dispose")}),W(()=>{g(),console.log("editor init")});const f=n.registerCompletionItemProvider("sql",{provideCompletionItems:function(){let t=[];return r.keywords.forEach(e=>{t.push({label:e,kind:n.CompletionItemKind.Keyword,insertText:e})}),r.operators.forEach(e=>{t.push({label:e,kind:n.CompletionItemKind.Operator,insertText:e})}),r.builtinFunctions.forEach(e=>{t.push({label:e,kind:n.CompletionItemKind.Function,insertText:e})}),r.builtinVariables.forEach(e=>{t.push({label:e,kind:n.CompletionItemKind.Variable,insertText:e})}),{suggestions:t}}});self.MonacoEnvironment={getWorker(t,e){return e==="json"?new h:e==="css"||e==="scss"||e==="less"?new _:e==="html"||e==="handlebars"||e==="razor"?new v:["typescript","javascript"].includes(e)?new k:new x}};let o=null;const g=()=>{C(()=>{o?o.setValue(""):o=l.create(document.getElementById(c.id),{value:p.value,language:m.value,automaticLayout:!0,theme:i.value,foldingStrategy:"indentation",renderLineHighlight:"all",selectOnLineNumbers:!0,minimap:{enabled:!0},cursorStyle:"line",readOnly:!1,fontSize:16,autoIndent:!0,useTabStops:!1,quickSuggestionsDelay:100,scrollBeyondLastLine:!1,overviewRulerBorder:!1}),o.onDidChangeModelContent(t=>{})})};return u({setEditorValue:t=>{o.setValue(t)},getEditorValue:()=>o.getValue(),handleFormat:()=>{o.setValue(y(o.getValue()))},handleTheme:()=>{l.setTheme(i.value)}}),(t,e)=>(I(),V("div",{id:a.id,class:"codeEditBox"},null,8,T))}});const j=S(B,[["__scopeId","data-v-11657e8a"]]);export{j as default};
