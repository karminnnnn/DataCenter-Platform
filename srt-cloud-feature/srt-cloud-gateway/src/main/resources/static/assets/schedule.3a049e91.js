import{aq as lC,W as fC,ar as cC,ad as Hn}from"./index.afa5927e.js";import dC from"./TaskNode.a5cbfb21.js";var Ue={exports:{}};(function(m,v){(function(c,i){m.exports=i()})(window,function(){return function(u){var c={};function i(s){if(c[s])return c[s].exports;var f=c[s]={i:s,l:!1,exports:{}};return u[s].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(s,f,y){i.o(s,f)||Object.defineProperty(s,f,{enumerable:!0,get:y})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,f){if(f&1&&(s=i(s)),f&8||f&4&&typeof s=="object"&&s&&s.__esModule)return s;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:s}),f&2&&typeof s!="string")for(var b in s)i.d(y,b,function(S){return s[S]}.bind(null,b));return y},i.n=function(s){var f=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(f,"a",f),f},i.o=function(s,f){return Object.prototype.hasOwnProperty.call(s,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(s,f){i.d(c,"a",function(){return R}),i.d(c,"b",function(){return ei}),i.d(c,"c",function(){return un}),i.d(c,"d",function(){return sr}),i.d(c,"e",function(){return Xe}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return Ci}),i.d(c,"h",function(){return Kn}),i.d(c,"i",function(){return ot}),i.d(c,"j",function(){return xr}),i.d(c,"k",function(){return kr}),i.d(c,"l",function(){return Nr}),i.d(c,"m",function(){return Er}),i.d(c,"n",function(){return ul}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return pl}),i.d(c,"q",function(){return qo}),i.d(c,"r",function(){return ll}),i.d(c,"s",function(){return Mr}),i.d(c,"t",function(){return Xi}),i.d(c,"u",function(){return nl}),i.d(c,"v",function(){return fl}),i.d(c,"w",function(){return cl}),i.d(c,"x",function(){return On}),i.d(c,"y",function(){return jr}),i.d(c,"z",function(){return kt}),i.d(c,"A",function(){return vr}),i.d(c,"B",function(){return En}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return hl}),i.d(c,"E",function(){return Qo}),i.d(c,"F",function(){return il}),i.d(c,"G",function(){return rl}),i.d(c,"H",function(){return Fi}),i.d(c,"I",function(){return gl}),i.d(c,"J",function(){return Sr}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return dl}),i.d(c,"M",function(){return Sn});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var S={};Object.freeze(S);function x(){return++Ge.mobxGuid}function P(d){throw A(!1,d),"X"}function A(d,h){if(!d)throw new Error("[mobx] "+(h||y))}function M(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var D=function(){};function C(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function B(d){return d!==null&&typeof d=="object"}function L(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function X(d){if(J(d)||kt(d))return d;if(Array.isArray(d))return new Map(d);if(L(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return P("Cannot convert to map from '"+d+"'")}function U(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ae(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function ne(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function Q(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(N){return B(N)&&N[O]===!0}}function J(d){return d instanceof Map}function le(d){return d instanceof Set}function z(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(N){Object.getOwnPropertyDescriptor(d,N).enumerable&&h.add(N)}),Array.from(h)}function $(d){return d&&d.toString?d.toString():new String(d).toString()}function I(d){return d===null?null:typeof d=="object"?""+d:d}var w=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function d(h){h===void 0&&(h="Atom@"+x()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=qe.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return _i(this)},d.prototype.reportChanged=function(){Tt(),Ks(this),pr()},d.prototype.toString=function(){return this.name},d}(),q=Q("Atom",W);function ce(d,h,O){h===void 0&&(h=D),O===void 0&&(O=D);var N=new W(d);return h!==D&&al(N,h),O!==D&&Qo(N,O),N}function Me(d,h){return d===h}function me(d,h){return go(d,h)}function Oe(d,h){return go(d,h,1)}function Pe(d,h){return Object.is(d,h)}var Ee={identity:Me,structural:me,default:Pe,shallow:Oe};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ne=function(d,h){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var F in N)N.hasOwnProperty(F)&&(O[F]=N[F])},Ne(d,h)};function Le(d,h){Ne(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Ve=function(){return Ve=Object.assign||function(h){for(var O,N=1,F=arguments.length;N<F;N++){O=arguments[N];for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(h[K]=O[K])}return h},Ve.apply(this,arguments)};function Be(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Se(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var N=O.call(d),F,K=[],fe;try{for(;(h===void 0||h-- >0)&&!(F=N.next()).done;)K.push(F.value)}catch(Te){fe={error:Te}}finally{try{F&&!F.done&&(O=N.return)&&O.call(N)}finally{if(fe)throw fe.error}}return K}function Ie(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Se(arguments[h]));return d}var ke=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),Y={},ee={};function he(d,h){var O=h?Y:ee;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(N){xe(this),this[d]=N}})}function xe(d){var h,O;if(d[ke]!==!0){var N=d[k];if(N){U(d,ke,!0);var F=Ie(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var K=Be(F),fe=K.next();!fe.done;fe=K.next()){var Te=fe.value,$e=N[Te];$e.propertyCreator(d,$e.prop,$e.descriptor,$e.decoratorTarget,$e.decoratorArguments)}}catch(ft){h={error:ft}}finally{try{fe&&!fe.done&&(O=K.return)&&O.call(K)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var N,F=function(fe,Te,$e,ft){if(ft===!0)return h(fe,Te,$e,fe,N),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var ct=fe[k];U(fe,k,Ve({},ct))}return fe[k][Te]={prop:Te,propertyCreator:h,descriptor:$e,decoratorTarget:fe,decoratorArguments:N},he(Te,d)};return ze(arguments)?(N=b,F.apply(null,arguments)):(N=Array.prototype.slice.call(arguments),F)}}function ze(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function tt(d,h,O){return On(d)?d:Array.isArray(d)?mt.array(d,{name:O}):L(d)?mt.object(d,void 0,{name:O}):J(d)?mt.map(d,{name:O}):le(d)?mt.set(d,{name:O}):d}function We(d,h,O){return d==null||vr(d)||jr(d)||kt(d)||lr(d)?d:Array.isArray(d)?mt.array(d,{name:O,deep:!1}):L(d)?mt.object(d,void 0,{name:O,deep:!1}):J(d)?mt.map(d,{name:O,deep:!1}):le(d)?mt.set(d,{name:O,deep:!1}):P(!1)}function nt(d){return d}function ve(d,h,O){return go(d,h)?h:d}function ut(d){A(d);var h=pe(!0,function(N,F,K,fe,Te){var $e=K?K.initializer?K.initializer.call(N):K.value:void 0;ti(N).addObservableProp(F,$e,d)}),O=(typeof s<"u"&&s.env,h);return O.enhancer=d,O}var rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rt);function _e(d){return d==null?rt:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var Qe=ut(tt),wt=ut(We),dt=ut(nt),bt=ut(ve);function oe(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?nt:tt}function Ct(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Qe.apply(null,arguments);if(On(d))return d;var N=L(d)?mt.object(d,h,O):Array.isArray(d)?mt.array(d,h):J(d)?mt.map(d,h):le(d)?mt.set(d,h):d;if(N!==d)return N;P(!1)}var St={box:function(d,h){arguments.length>2&&Yt("box");var O=_e(h);return new an(d,oe(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Yt("array");var O=_e(h);return Sl(d,oe(O),O.name)},map:function(d,h){arguments.length>2&&Yt("map");var O=_e(h);return new ei(d,oe(O),O.name)},set:function(d,h){arguments.length>2&&Yt("set");var O=_e(h);return new ea(d,oe(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Yt("object");var N=_e(O);if(N.proxy===!1)return qo({},d,h,N);var F=$i(N),K=qo({},void 0,void 0,N),fe=Tn(K);return ki(fe,d,h,F),fe},ref:dt,shallow:wt,deep:Qe,struct:bt},mt=Ct;Object.keys(St).forEach(function(d){return mt[d]=St[d]});function Yt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var dr=pe(!1,function(d,h,O,N,F){var K=O.get,fe=O.set,Te=F[0]||{};ti(d).addComputedProp(d,h,Ve({get:K,set:fe,context:d},Te))}),Vt=dr({equals:Ee.structural}),Er=function(h,O,N){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return dr.apply(null,arguments);var F=typeof O=="object"?O:{};return F.get=h,F.set=typeof O=="function"?O:F.set,F.name=F.name||h.name||"",new yn(F)};Er.struct=Vt;var qe;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(qe||(qe={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var rr=function(){function d(h){this.cause=h}return d}();function je(d){return d instanceof rr}function Ye(d){switch(d.dependenciesState){case qe.UP_TO_DATE:return!1;case qe.NOT_TRACKING:case qe.STALE:return!0;case qe.POSSIBLY_STALE:{for(var h=De(!0),O=re(),N=d.observing,F=N.length,K=0;K<F;K++){var fe=N[K];if(gn(fe)){if(Ge.disableErrorBoundaries)fe.get();else try{fe.get()}catch{return Ae(O),Xe(h),!0}if(d.dependenciesState===qe.STALE)return Ae(O),Xe(h),!0}}return vt(d),Ae(O),Xe(h),!1}}}function ot(){return Ge.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;Ge.computationDepth>0&&h&&P(!1),!Ge.allowStateChanges&&(h||Ge.enforceActions==="strict")&&P(!1)}function lt(d,h,O){var N=De(!0);vt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++Ge.runId;var F=Ge.trackingDerivation;Ge.trackingDerivation=d;var K;if(Ge.disableErrorBoundaries===!0)K=h.call(O);else try{K=h.call(O)}catch(fe){K=new rr(fe)}return Ge.trackingDerivation=F,H(d),Xe(N),K}function H(d){for(var h=d.observing,O=d.observing=d.newObserving,N=qe.UP_TO_DATE,F=0,K=d.unboundDepsCount,fe=0;fe<K;fe++){var Te=O[fe];Te.diffValue===0&&(Te.diffValue=1,F!==fe&&(O[F]=Te),F++),Te.dependenciesState>N&&(N=Te.dependenciesState)}for(O.length=F,d.newObserving=null,K=h.length;K--;){var Te=h[K];Te.diffValue===0&&$r(Te,d),Te.diffValue=0}for(;F--;){var Te=O[F];Te.diffValue===1&&(Te.diffValue=0,Ws(Te,d))}N!==qe.UP_TO_DATE&&(d.dependenciesState=N,d.onBecomeStale())}function V(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)$r(h[O],d);d.dependenciesState=qe.NOT_TRACKING}function te(d){var h=re();try{return d()}finally{Ae(h)}}function re(){var d=Ge.trackingDerivation;return Ge.trackingDerivation=null,d}function Ae(d){Ge.trackingDerivation=d}function De(d){var h=Ge.allowStateReads;return Ge.allowStateReads=d,h}function Xe(d){Ge.allowStateReads=d}function vt(d){if(d.dependenciesState!==qe.UP_TO_DATE){d.dependenciesState=qe.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=qe.UP_TO_DATE}}var Zt=0,Jt=1,Gn=Object.getOwnPropertyDescriptor(function(){},"name");Gn&&Gn.configurable;function Gr(d,h,O){var N=function(){return ji(d,h,O||this,arguments)};return N.isMobxAction=!0,N}function ji(d,h,O,N){var F=xr();try{return h.apply(O,N)}catch(K){throw F.error=K,K}finally{Ci(F)}}function xr(d,h,O){var N=Rt(),F=0,K=re();Tt();var fe=vn(!0),Te=De(!0),$e={prevDerivation:K,prevAllowStateChanges:fe,prevAllowStateReads:Te,notifySpy:N,startTime:F,actionId:Jt++,parentActionId:Zt};return Zt=$e.actionId,$e}function Ci(d){Zt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),Zt=d.parentActionId,d.error!==void 0&&(Ge.suppressReactionErrors=!0),$n(d.prevAllowStateChanges),Xe(d.prevAllowStateReads),pr(),Ae(d.prevDerivation),d.notifySpy,Ge.suppressReactionErrors=!1}function sr(d,h){var O=vn(d),N;try{N=h()}finally{$n(O)}return N}function vn(d){var h=Ge.allowStateChanges;return Ge.allowStateChanges=d,h}function $n(d){Ge.allowStateChanges=d}var an=function(d){Le(h,d);function h(O,N,F,K,fe){F===void 0&&(F="ObservableValue@"+x()),K===void 0&&(K=!0),fe===void 0&&(fe=Ee.default);var Te=d.call(this,F)||this;return Te.enhancer=N,Te.name=F,Te.equals=fe,Te.hasUnreportedChange=!1,Te.value=N(O,void 0,F),K&&Rt(),Te}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var N=this.value;if(O=this.prepareNewValue(O),O!==Ge.UNCHANGED){var F=Rt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(Je(this),Pr(this)){var N=Tr(this,{object:this,type:"update",newValue:O});if(!N)return Ge.UNCHANGED;O=N.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?Ge.UNCHANGED:O},h.prototype.setNewValue=function(O){var N=this.value;this.value=O,this.reportChanged(),hr(this)&&Qt(this,{type:"update",object:this,newValue:O,oldValue:N})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Yn(this,O)},h.prototype.observe=function(O,N){return N&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Wn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return I(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(W),kn=Q("ObservableValue",an),yn=function(){function d(h){this.dependenciesState=qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+x(),this.value=new rr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,A(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+x(),h.set&&(this.setter=Gr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Ee.structural:Ee.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){Zs(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),Ge.inBatch===0&&this.observers.size===0&&!this.keepAlive?Ye(this)&&(this.warnAboutUntrackedRead(),Tt(),this.value=this.computeValue(!1),pr()):(_i(this),Ye(this)&&this.trackAndCompute()&&Vs(this));var h=this.value;if(je(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(je(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){A(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else A(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===qe.NOT_TRACKING,N=this.computeValue(!0),F=O||je(h)||je(N)||!this.equals(h,N);return F&&(this.value=N),F},d.prototype.computeValue=function(h){this.isComputing=!0,Ge.computationDepth++;var O;if(h)O=lt(this,this.derivation,this.scope);else if(Ge.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(N){O=new rr(N)}return Ge.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(V(this),this.value=void 0)},d.prototype.observe=function(h,O){var N=this,F=!0,K=void 0;return Nr(function(){var fe=N.get();if(!F||O){var Te=re();h({type:"update",object:N,newValue:fe,oldValue:K}),Ae(Te)}F=!1,K=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return I(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),gn=Q("ComputedValue",yn),so=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),Ys={};function lo(){return typeof window<"u"?window:typeof f<"u"?f:typeof self<"u"?self:Ys}var fo=!0,Ri=!1,Ge=function(){var d=lo();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(fo=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new so().version&&(fo=!1),fo?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new so):(setTimeout(function(){Ri||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new so)}();function Ii(){(Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Ri=!0,fo&&(--lo().__mobxInstanceCount===0&&(lo().__mobxGlobals=void 0),Ge=new so)}function Ws(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function $r(d,h){d.observers.delete(h),d.observers.size===0&&Bi(d)}function Bi(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,Ge.pendingUnobservations.push(d))}function Tt(){Ge.inBatch++}function pr(){if(--Ge.inBatch===0){zi();for(var d=Ge.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof yn&&O.suspend())}Ge.pendingUnobservations=[]}}function _i(d){var h=Ge.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&Ge.inBatch>0&&Bi(d),!1)}function Ks(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.isTracing!==Pt.NONE&&co(h,d),h.onBecomeStale()),h.dependenciesState=qe.STALE}))}function Vs(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.POSSIBLY_STALE?h.dependenciesState=qe.STALE:h.dependenciesState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.UP_TO_DATE)}))}function Zs(d){d.lowestObserverState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.dependenciesState=qe.POSSIBLY_STALE,h.isTracing!==Pt.NONE&&co(h,d),h.onBecomeStale())}))}function co(d,h){if(console.log("[mobx.trace] '"+d.name+"' is invalidated due to a change in: '"+h.name+"'"),d.isTracing===Pt.BREAK){var O=[];Li(Xi(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof yn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function Li(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(N){return Li(N,h,O+1)})}var un=function(){function d(h,O,N,F){h===void 0&&(h="Reaction@"+x()),F===void 0&&(F=!1),this.name=h,this.onInvalidate=O,this.errorHandler=N,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+x(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),zi())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(Tt(),this._isScheduled=!1,Ye(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rt()}catch(h){this.reportExceptionInDerivation(h)}}pr()}},d.prototype.track=function(h){if(!this.isDisposed){Tt(),this._isRunning=!0;var O=lt(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&V(this),je(O)&&this.reportExceptionInDerivation(O.cause),pr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(Ge.disableErrorBoundaries)throw h;var N="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(N,h),Ge.globalReactionErrorHandlers.forEach(function(F){return F(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Tt(),V(this),pr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[R]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),ml(this,h)},d}(),Vo=100,Zo=function(d){return d()};function zi(){Ge.inBatch>0||Ge.isRunningReactions||Zo(Js)}function Js(){Ge.isRunningReactions=!0;for(var d=Ge.pendingReactions,h=0;d.length>0;){++h===Vo&&(console.error("Reaction doesn't converge to a stable state after "+Vo+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var O=d.splice(0),N=0,F=O.length;N<F;N++)O[N].runReaction()}Ge.isRunningReactions=!1}var po=Q("Reaction",un);function Qs(d){var h=Zo;Zo=function(O){return d(function(){return h(O)})}}function Rt(){return!1}function td(d){}function rd(d){}function nd(d){}function Fi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function qs(){P(!1)}function Hi(d){return function(h,O,N){if(N){if(N.value)return{value:Gr(d,N.value),enumerable:!1,configurable:!0,writable:!0};var F=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Gr(d,F.call(this))}}}return el(d).apply(this,arguments)}}function el(d){return function(h,O,N){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(F){U(this,O,kr(d,F))}})}}function tl(d,h,O,N){return N===!0?(Jo(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return Jo(this,h,O.value||O.initializer.call(this)),this[h]},set:qs}:{enumerable:!1,configurable:!0,set:function(F){Jo(this,h,F)},get:function(){}}}var kr=function(h,O,N,F){if(arguments.length===1&&typeof h=="function")return Gr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return Gr(h,O);if(arguments.length===1&&typeof h=="string")return Hi(h);if(F===!0)U(h,O,Gr(h.name||O,N.value,this));else return Hi(O).apply(null,arguments)};kr.bound=tl;function rl(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",N=typeof d=="function"?d:h;return ji(O,N,this,void 0)}function nl(d){return typeof d=="function"&&d.isMobxAction===!0}function Jo(d,h,O){U(d,h,Gr(h,O.bind(d)))}function Nr(d,h){h===void 0&&(h=S);var O=h&&h.name||d.name||"Autorun@"+x(),N=!h.scheduler&&!h.delay,F;if(N)F=new un(O,function(){this.track(Te)},h.onError,h.requiresObservable);else{var K=mn(h),fe=!1;F=new un(O,function(){fe||(fe=!0,K(function(){fe=!1,F.isDisposed||F.track(Te)}))},h.onError,h.requiresObservable)}function Te(){d(F)}return F.schedule(),F.getDisposer()}var ol=function(d){return d()};function mn(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:ol}function il(d,h,O){O===void 0&&(O=S);var N=O.name||"Reaction@"+x(),F=kr(N,O.onError?Xn(O.onError,h):h),K=!O.scheduler&&!O.delay,fe=mn(O),Te=!0,$e=!1,ft,ct=O.compareStructural?Ee.structural:O.equals||Ee.default,Ot=new un(N,function(){Te||K?xt():$e||($e=!0,fe(xt))},O.onError,O.requiresObservable);function xt(){if($e=!1,!Ot.isDisposed){var Bt=!1;Ot.track(function(){var Xt=d(Ot);Bt=Te||!ct(ft,Xt),ft=Xt}),Te&&O.fireImmediately&&F(ft,Ot),!Te&&Bt===!0&&F(ft,Ot),Te&&(Te=!1)}}return Ot.schedule(),Ot.getDisposer()}function Xn(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function al(d,h,O){return Gi("onBecomeObserved",d,h,O)}function Qo(d,h,O){return Gi("onBecomeUnobserved",d,h,O)}function Gi(d,h,O,N){var F=typeof N=="function"?Mr(h,O):Mr(h),K=typeof N=="function"?N:O,fe=d+"Listeners";F[fe]?F[fe].add(K):F[fe]=new Set([K]);var Te=F[d];return typeof Te!="function"?P(!1):function(){var $e=F[fe];$e&&($e.delete(K),$e.size===0&&delete F[fe])}}function ul(d){var h=d.enforceActions,O=d.computedRequiresReaction,N=d.computedConfigurable,F=d.disableErrorBoundaries,K=d.reactionScheduler,fe=d.reactionRequiresObservable,Te=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Ii(),h!==void 0){var $e=void 0;switch(h){case!0:case"observed":$e=!0;break;case!1:case"never":$e=!1;break;case"strict":case"always":$e="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=$e,Ge.allowStateChanges=!($e===!0||$e==="strict")}O!==void 0&&(Ge.computedRequiresReaction=!!O),fe!==void 0&&(Ge.reactionRequiresObservable=!!fe),Te!==void 0&&(Ge.observableRequiresReaction=!!Te,Ge.allowStateReads=!Ge.observableRequiresReaction),N!==void 0&&(Ge.computedConfigurable=!!N),F!==void 0&&(F===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ge.disableErrorBoundaries=!!F),K&&Qs(K)}function qo(d,h,O,N){N=_e(N);var F=$i(N);return xe(d),ti(d,N.name,F.enhancer),h&&ki(d,h,O,F),d}function $i(d){return d.defaultDecorator||(d.deep===!1?dt:Qe)}function ki(d,h,O,N){var F,K,fe,Te;Tt();try{var Te=w(h);try{for(var $e=Be(Te),ft=$e.next();!ft.done;ft=$e.next()){var fe=ft.value,ct=Object.getOwnPropertyDescriptor(h,fe),Ot=O&&fe in O?O[fe]:ct.get?dr:N,xt=Ot(d,fe,ct,!0);xt&&Object.defineProperty(d,fe,xt)}}catch(Xt){F={error:Xt}}finally{try{ft&&!ft.done&&(K=$e.return)&&K.call($e)}finally{if(F)throw F.error}}}finally{pr()}}function Xi(d,h){return Ui(Mr(d,h))}function Ui(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=C(d.observing).map(Ui)),h}var sl=0;function Yi(){this.message="FLOW_CANCELLED"}Yi.prototype=Object.create(Error.prototype);function ll(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,N=arguments,F=++sl,K=kr(h+" - runid: "+F+" - init",d).apply(O,N),fe,Te=void 0,$e=new Promise(function(ft,ct){var Ot=0;fe=ct;function xt(Mt){Te=void 0;var yr;try{yr=kr(h+" - runid: "+F+" - yield "+Ot++,K.next).call(K,Mt)}catch(Mn){return ct(Mn)}Xt(yr)}function Bt(Mt){Te=void 0;var yr;try{yr=kr(h+" - runid: "+F+" - yield "+Ot++,K.throw).call(K,Mt)}catch(Mn){return ct(Mn)}Xt(yr)}function Xt(Mt){if(Mt&&typeof Mt.then=="function"){Mt.then(Xt,ct);return}return Mt.done?ft(Mt.value):(Te=Promise.resolve(Mt.value),Te.then(xt,Bt))}xt(void 0)});return $e.cancel=kr(h+" - runid: "+F+" - cancel",function(){try{Te&&Wi(Te);var ft=K.return(void 0),ct=Promise.resolve(ft.value);ct.then(D,D),Wi(ct),fe(new Yi)}catch(Ot){fe(Ot)}}),$e}}function Wi(d){typeof d.cancel=="function"&&d.cancel()}function Ki(d,h){if(d==null)return!1;if(h!==void 0){if(vr(d)===!1||!d[R].values.has(h))return!1;var O=Mr(d,h);return gn(O)}return gn(d)}function fl(d){return arguments.length>1?P(!1):Ki(d)}function cl(d,h){return typeof h!="string"?P(!1):Ki(d,h)}function bn(d,h){return d==null?!1:h!==void 0?vr(d)?d[R].values.has(h):!1:vr(d)||!!d[R]||q(d)||po(d)||gn(d)}function On(d){return arguments.length!==1&&P(!1),bn(d)}function En(d){return vr(d)?d[R].getKeys():kt(d)||lr(d)?Array.from(d.keys()):jr(d)?d.map(function(h,O){return O}):P(!1)}function dl(d){return vr(d)?En(d).map(function(h){return d[h]}):kt(d)?En(d).map(function(h){return d.get(h)}):lr(d)?Array.from(d.values()):jr(d)?d.slice():P(!1)}function pl(d){return vr(d)?En(d).map(function(h){return[h,d[h]]}):kt(d)?En(d).map(function(h){return[h,d.get(h)]}):lr(d)?Array.from(d.entries()):jr(d)?d.map(function(h,O){return[O,h]}):P(!1)}function Vi(d,h,O){if(arguments.length===2&&!lr(d)){Tt();var N=h;try{for(var F in N)Vi(d,F,N[F])}finally{pr()}return}if(vr(d)){var K=d[R],fe=K.values.get(h);fe?K.write(h,O):K.addObservableProp(h,O,K.defaultEnhancer)}else if(kt(d))d.set(h,O);else if(lr(d))d.add(h);else if(jr(d))typeof h!="number"&&(h=parseInt(h,10)),A(h>=0,"Not a valid index: '"+h+"'"),Tt(),h>=d.length&&(d.length=h+1),d[h]=O,pr();else return P(!1)}function hl(d,h,O,N){return typeof O=="function"?vl(d,h,O,N):ho(d,h,O)}function ho(d,h,O){return Kn(d).observe(h,O)}function vl(d,h,O,N){return Kn(d,h).observe(O,N)}var yl={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function xn(d,h,O,N){return N.detectCycles&&d.set(h,O),O}function Xr(d,h,O){if(!h.recurseEverything&&!On(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(kn(d))return Xr(d.get(),h,O);On(d)&&En(d);var N=h.detectCycles===!0;if(N&&d!==null&&O.has(d))return O.get(d);if(jr(d)||Array.isArray(d)){var F=xn(O,d,[],h),K=d.map(function(Bt){return Xr(Bt,h,O)});F.length=K.length;for(var fe=0,Te=K.length;fe<Te;fe++)F[fe]=K[fe];return F}if(lr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var $e=xn(O,d,new Set,h);return d.forEach(function(Bt){$e.add(Xr(Bt,h,O))}),$e}else{var ft=xn(O,d,[],h);return d.forEach(function(Bt){ft.push(Xr(Bt,h,O))}),ft}if(kt(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var ct=xn(O,d,new Map,h);return d.forEach(function(Bt,Xt){ct.set(Xt,Xr(Bt,h,O))}),ct}else{var Ot=xn(O,d,{},h);return d.forEach(function(Bt,Xt){Ot[Xt]=Xr(Bt,h,O)}),Ot}var xt=xn(O,d,{},h);return z(d).forEach(function(Bt){xt[Bt]=Xr(d[Bt],h,O)}),xt}function gl(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=yl),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Xr(d,h,O)}function ml(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var N=bl(d);if(!N)return P(!1);N.isTracing===Pt.NONE&&console.log("[mobx.trace] '"+N.name+"' tracing enabled"),N.isTracing=O?Pt.BREAK:Pt.LOG}function bl(d){switch(d.length){case 0:return Ge.trackingDerivation;case 1:return Mr(d[0]);case 2:return Mr(d[0],d[1])}}function Sr(d,h){h===void 0&&(h=void 0),Tt();try{return d.apply(h)}finally{pr()}}function Sn(d,h,O){return arguments.length===1||h&&typeof h=="object"?Ol(d,h):Un(d,h,O||{})}function Un(d,h,O){var N;typeof O.timeout=="number"&&(N=setTimeout(function(){if(!K[R].isDisposed){K();var fe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(fe);else throw fe}},O.timeout)),O.name=O.name||"When@"+x();var F=Gr(O.name+"-effect",h),K=Nr(function(fe){d()&&(fe.dispose(),N&&clearTimeout(N),F())},O);return K}function Ol(d,h){var O,N=new Promise(function(F,K){var fe=Un(d,F,Ve(Ve({},h),{onError:K}));O=function(){fe(),K("WHEN_CANCELLED")}});return N.cancel=O,N}function vo(d){return d[R]}function yo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var Pn={has:function(d,h){if(h===R||h==="constructor"||h===ke)return!0;var O=vo(d);return yo(h)?O.has(h):h in d},get:function(d,h){if(h===R||h==="constructor"||h===ke)return d[h];var O=vo(d),N=O.values.get(h);if(N instanceof W){var F=N.get();return F===void 0&&O.has(h),F}return yo(h)&&O.has(h),d[h]},set:function(d,h,O){return yo(h)?(Vi(d,h,O),!0):!1},deleteProperty:function(d,h){if(!yo(h))return!1;var O=vo(d);return O.remove(h),!0},ownKeys:function(d){var h=vo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function Tn(d){var h=new Proxy(d,Pn);return d[R].proxy=h,h}function Pr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Yn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),M(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Tr(d,h){var O=re();try{for(var N=Ie(d.interceptors||[]),F=0,K=N.length;F<K&&(h=N[F](h),A(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);F++);return h}finally{Ae(O)}}function hr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Wn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),M(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Qt(d,h){var O=re(),N=d.changeListeners;if(!!N){N=N.slice();for(var F=0,K=N.length;F<K;F++)N[F](h);Ae(O)}}var El=1e4,xl={get:function(d,h){return h===R?d[R]:h==="length"?d[R].getArrayLength():typeof h=="number"?Dr.get.call(d,h):typeof h=="string"&&!isNaN(h)?Dr.get.call(d,parseInt(h)):Dr.hasOwnProperty(h)?Dr[h]:d[h]},set:function(d,h,O){return h==="length"&&d[R].setArrayLength(O),typeof h=="number"&&Dr.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:Dr.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function Sl(d,h,O,N){O===void 0&&(O="ObservableArray@"+x()),N===void 0&&(N=!1);var F=new Zi(O,h,N);ae(F.values,R,F);var K=new Proxy(F.values,xl);if(F.proxy=K,d&&d.length){var fe=vn(!0);F.spliceWithArray(0,0,d),$n(fe)}return K}var Zi=function(){function d(h,O,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(h||"ObservableArray@"+x()),this.enhancer=function(F,K){return O(F,K,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Yn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Wn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var N=new Array(h-O),F=0;F<h-O;F++)N[F]=void 0;this.spliceWithArray(O,0,N)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,N){var F=this;Je(this.atom);var K=this.values.length;if(h===void 0?h=0:h>K?h=K:h<0&&(h=Math.max(0,K+h)),arguments.length===1?O=K-h:O==null?O=0:O=Math.max(0,Math.min(O,K-h)),N===void 0&&(N=b),Pr(this)){var fe=Tr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:N});if(!fe)return b;O=fe.removedCount,N=fe.added}N=N.length===0?N:N.map(function($e){return F.enhancer($e,void 0)});var Te=this.spliceItemsIntoValues(h,O,N);return(O!==0||N.length!==0)&&this.notifyArraySplice(h,N,Te),this.dehanceValues(Te)},d.prototype.spliceItemsIntoValues=function(h,O,N){var F;if(N.length<El)return(F=this.values).splice.apply(F,Ie([h,O],N));var K=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(N,this.values.slice(h+O)),K},d.prototype.notifyArrayChildUpdate=function(h,O,N){var F=!this.owned&&Rt(),K=hr(this),fe=K||F?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:N}:null;this.atom.reportChanged(),K&&Qt(this,fe)},d.prototype.notifyArraySplice=function(h,O,N){var F=!this.owned&&Rt(),K=hr(this),fe=K||F?{object:this.proxy,type:"splice",index:h,removed:N,added:O,removedCount:N.length,addedCount:O.length}:null;this.atom.reportChanged(),K&&Qt(this,fe)},d}(),Dr={intercept:function(d){return this[R].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[R];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[R];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],N=2;N<arguments.length;N++)O[N-2]=arguments[N];var F=this[R];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,h)}return F.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var N=this[R];return N.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[R],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[R];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var O=this[R],N=O.values;if(d<N.length){Je(O.atom);var F=N[d];if(Pr(O)){var K=Tr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!K)return;h=K.newValue}h=O.enhancer(h,F);var fe=h!==F;fe&&(N[d]=h,O.notifyArrayChildUpdate(d,h,F))}else if(d===N.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+N.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Dr[d]=function(){var h=this[R];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Dr[d]=function(h,O){var N=this,F=this[R];F.atom.reportObserved();var K=F.dehanceValues(F.values);return K[d](function(fe,Te){return h.call(O,fe,Te,N)},O)})}),["reduce","reduceRight"].forEach(function(d){Dr[d]=function(){var h=this,O=this[R];O.atom.reportObserved();var N=arguments[0];return arguments[0]=function(F,K,fe){return K=O.dehanceValue(K),N(F,K,fe,h)},O.values[d].apply(O.values,arguments)}});var Pl=Q("ObservableArrayAdministration",Zi);function jr(d){return B(d)&&Pl(d[R])}var Ji,Qi={},ei=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableMap@"+x()),this.enhancer=O,this.name=N,this[Ji]=Qi,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!Ge.trackingDerivation)return this._has(h);var N=this._hasMap.get(h);if(!N){var F=N=new an(this._has(h),nt,this.name+"."+$(h)+"?",!1);this._hasMap.set(h,F),Qo(F,function(){return O._hasMap.delete(h)})}return N.get()},d.prototype.set=function(h,O){var N=this._has(h);if(Pr(this)){var F=Tr(this,{type:N?"update":"add",object:this,newValue:O,name:h});if(!F)return this;O=F.newValue}return N?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(Je(this._keysAtom),Pr(this)){var N=Tr(this,{type:"delete",object:this,name:h});if(!N)return!1}if(this._has(h)){var F=Rt(),K=hr(this),N=K||F?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Sr(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Te=O._data.get(h);Te.setNewValue(void 0),O._data.delete(h)}),K&&Qt(this,N),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var N=this._hasMap.get(h);N&&N.setNewValue(O)},d.prototype._updateValue=function(h,O){var N=this._data.get(h);if(O=N.prepareNewValue(O),O!==Ge.UNCHANGED){var F=Rt(),K=hr(this),fe=K||F?{type:"update",object:this,oldValue:N.value,name:h,newValue:O}:null;N.setNewValue(O),K&&Qt(this,fe)}},d.prototype._addValue=function(h,O){var N=this;Je(this._keysAtom),Sr(function(){var Te=new an(O,N.enhancer,N.name+"."+$(h),!1);N._data.set(h,Te),O=Te.value,N._updateHasMapEntry(h,!0),N._keysAtom.reportChanged()});var F=Rt(),K=hr(this),fe=K||F?{type:"add",object:this,name:h,newValue:O}:null;K&&Qt(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return mo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:h.get(K)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return mo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:[K,h.get(K)]}}})},d.prototype[Ji=R,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var N,F;try{for(var K=Be(this),fe=K.next();!fe.done;fe=K.next()){var Te=Se(fe.value,2),$e=Te[0],ft=Te[1];h.call(O,ft,$e,this)}}catch(ct){N={error:ct}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},d.prototype.merge=function(h){var O=this;return kt(h)&&(h=h.toJS()),Sr(function(){var N=vn(!0);try{L(h)?z(h).forEach(function(F){return O.set(F,h[F])}):Array.isArray(h)?h.forEach(function(F){var K=Se(F,2),fe=K[0],Te=K[1];return O.set(fe,Te)}):J(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(F,K){return O.set(K,F)})):h!=null&&P("Cannot initialize map from "+h)}finally{$n(N)}}),this},d.prototype.clear=function(){var h=this;Sr(function(){te(function(){var O,N;try{for(var F=Be(h.keys()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Te){O={error:Te}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Sr(function(){var N,F,K,fe,Te=X(h),$e=new Map,ft=!1;try{for(var ct=Be(O._data.keys()),Ot=ct.next();!Ot.done;Ot=ct.next()){var xt=Ot.value;if(!Te.has(xt)){var Bt=O.delete(xt);if(Bt)ft=!0;else{var Xt=O._data.get(xt);$e.set(xt,Xt)}}}}catch(sn){N={error:sn}}finally{try{Ot&&!Ot.done&&(F=ct.return)&&F.call(ct)}finally{if(N)throw N.error}}try{for(var Mt=Be(Te.entries()),yr=Mt.next();!yr.done;yr=Mt.next()){var Mn=Se(yr.value,2),xt=Mn[0],Xt=Mn[1],sa=O._data.has(xt);if(O.set(xt,Xt),O._data.has(xt)){var la=O._data.get(xt);$e.set(xt,la),sa||(ft=!0)}}}catch(sn){K={error:sn}}finally{try{yr&&!yr.done&&(fe=Mt.return)&&fe.call(Mt)}finally{if(K)throw K.error}}if(!ft)if(O._data.size!==$e.size)O._keysAtom.reportChanged();else for(var fa=O._data.keys(),ca=$e.keys(),ni=fa.next(),An=ca.next();!ni.done;){if(ni.value!==An.value){O._keysAtom.reportChanged();break}ni=fa.next(),An=ca.next()}O._data=$e}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,N={};try{for(var F=Be(this),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Te=fe[0],$e=fe[1];N[typeof Te=="symbol"?Te:$(Te)]=$e}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return $(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Wn(this,h)},d.prototype.intercept=function(h){return Yn(this,h)},d}(),kt=Q("ObservableMap",ei),qi,Tl={},ea=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableSet@"+x()),this.name=N,this[qi]=Tl,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,K){return O(F,K,N)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Sr(function(){te(function(){var O,N;try{for(var F=Be(h._data.values()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Te){O={error:Te}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var N,F;try{for(var K=Be(this),fe=K.next();!fe.done;fe=K.next()){var Te=fe.value;h.call(O,Te,Te,this)}}catch($e){N={error:$e}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(Je(this._atom),Pr(this)){var N=Tr(this,{type:"add",object:this,newValue:h});if(!N)return this}if(!this.has(h)){Sr(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var F=Rt(),K=hr(this),N=K||F?{type:"add",object:this,newValue:h}:null;K&&Qt(this,N)}return this},d.prototype.delete=function(h){var O=this;if(Pr(this)){var N=Tr(this,{type:"delete",object:this,oldValue:h});if(!N)return!1}if(this.has(h)){var F=Rt(),K=hr(this),N=K||F?{type:"delete",object:this,oldValue:h}:null;return Sr(function(){O._atom.reportChanged(),O._data.delete(h)}),K&&Qt(this,N),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),N=Array.from(this.values());return mo({next:function(){var F=h;return h+=1,F<N.length?{value:[O[F],N[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,N=Array.from(this._data.values());return mo({next:function(){return O<N.length?{value:h.dehanceValue(N[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return lr(h)&&(h=h.toJS()),Sr(function(){var N=vn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):le(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):h!=null&&P("Cannot initialize set from "+h)}finally{$n(N)}}),this},d.prototype.observe=function(h,O){return Wn(this,h)},d.prototype.intercept=function(h){return Yn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[qi=R,Symbol.iterator]=function(){return this.values()},d}(),lr=Q("ObservableSet",ea),ta=function(){function d(h,O,N,F){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=N,this.defaultEnhancer=F,this.keysAtom=new W(N+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var N=this.target,F=this.values.get(h);if(F instanceof yn){F.set(O);return}if(Pr(this)){var K=Tr(this,{type:"update",object:this.proxy||N,name:h,newValue:O});if(!K)return;O=K.newValue}if(O=F.prepareNewValue(O),O!==Ge.UNCHANGED){var fe=hr(this),Te=Rt(),K=fe||Te?{type:"update",object:this.proxy||N,oldValue:F.value,name:h,newValue:O}:null;F.setNewValue(O),fe&&Qt(this,K)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),N=O.get(h);if(N)return N.get();var F=!!this.values.get(h);return N=new an(F,nt,this.name+"."+$(h)+"?",!1),O.set(h,N),N.get()},d.prototype.addObservableProp=function(h,O,N){N===void 0&&(N=this.defaultEnhancer);var F=this.target;if(Pr(this)){var K=Tr(this,{object:this.proxy||F,name:h,type:"add",newValue:O});if(!K)return;O=K.newValue}var fe=new an(O,N,this.name+"."+$(h),!1);this.values.set(h,fe),O=fe.value,Object.defineProperty(F,h,Ml(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,N){var F=this.target;N.name=N.name||this.name+"."+$(O),this.values.set(O,new yn(N)),(h===F||ne(h,O))&&Object.defineProperty(h,O,Al(O))},d.prototype.remove=function(h){if(!!this.values.has(h)){var O=this.target;if(Pr(this)){var N=Tr(this,{object:this.proxy||O,name:h,type:"remove"});if(!N)return}try{Tt();var F=hr(this),K=Rt(),fe=this.values.get(h),Te=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var $e=this.pendingKeys.get(h);$e&&$e.set(!1)}delete this.target[h];var N=F||K?{type:"remove",object:this.proxy||O,oldValue:Te,name:h}:null;F&&Qt(this,N)}finally{pr()}}},d.prototype.illegalAccess=function(h,O){console.warn("Property '"+O+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,O){return Wn(this,h)},d.prototype.intercept=function(h){return Yn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var N=hr(this),F=Rt(),K=N||F?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(N&&Qt(this,K),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var N=[];try{for(var F=Be(this.values),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Te=fe[0],$e=fe[1];$e instanceof an&&N.push(Te)}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d}();function ti(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=tt),Object.prototype.hasOwnProperty.call(d,R))return d[R];L(d)||(h=(d.constructor.name||"ObservableObject")+"@"+x()),h||(h="ObservableObject@"+x());var N=new ta(d,new Map,$(h),O);return U(d,R,N),N}var ra=Object.create(null),na=Object.create(null);function Ml(d){return ra[d]||(ra[d]={configurable:!0,enumerable:!0,get:function(){return this[R].read(d)},set:function(h){this[R].write(d,h)}})}function oa(d){var h=d[R];return h||(xe(d),d[R])}function Al(d){return na[d]||(na[d]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return oa(this).read(d)},set:function(h){oa(this).write(d,h)}})}var wl=Q("ObservableObjectAdministration",ta);function vr(d){return B(d)?(xe(d),wl(d[R])):!1}function Mr(d,h){if(typeof d=="object"&&d!==null){if(jr(d))return h!==void 0&&P(!1),d[R].atom;if(lr(d))return d[R];if(kt(d)){var O=d;if(h===void 0)return O._keysAtom;var N=O._data.get(h)||O._hasMap.get(h);return N||P(!1),N}if(xe(d),h&&!d[R]&&d[h],vr(d)){if(!h)return P(!1);var N=d[R].values.get(h);return N||P(!1),N}if(q(d)||gn(d)||po(d))return d}else if(typeof d=="function"&&po(d[R]))return d[R];return P(!1)}function Kn(d,h){if(d||P("Expecting some object"),h!==void 0)return Kn(Mr(d,h));if(q(d)||gn(d)||po(d)||kt(d)||lr(d))return d;if(xe(d),d[R])return d[R];P(!1)}function Nl(d,h){var O;return h!==void 0?O=Mr(d,h):vr(d)||kt(d)||lr(d)?O=Kn(d):O=Mr(d),O.name}var ia=Object.prototype.toString;function go(d,h,O){return O===void 0&&(O=-1),Vn(d,h,O)}function Vn(d,h,O,N,F){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var K=typeof d;if(K!=="function"&&K!=="object"&&typeof h!="object")return!1;var fe=ia.call(d);if(fe!==ia.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=aa(d),h=aa(h);var Te=fe==="[object Array]";if(!Te){if(typeof d!="object"||typeof h!="object")return!1;var $e=d.constructor,ft=h.constructor;if($e!==ft&&!(typeof $e=="function"&&$e instanceof $e&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),N=N||[],F=F||[];for(var ct=N.length;ct--;)if(N[ct]===d)return F[ct]===h;if(N.push(d),F.push(h),Te){if(ct=d.length,ct!==h.length)return!1;for(;ct--;)if(!Vn(d[ct],h[ct],O-1,N,F))return!1}else{var Ot=Object.keys(d),xt=void 0;if(ct=Ot.length,Object.keys(h).length!==ct)return!1;for(;ct--;)if(xt=Ot[ct],!(Dl(h,xt)&&Vn(d[xt],h[xt],O-1,N,F)))return!1}return N.pop(),F.pop(),!0}function aa(d){return jr(d)?d.slice():J(d)||kt(d)||le(d)||lr(d)?Array.from(d.entries()):d}function Dl(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function mo(d){return d[Symbol.iterator]=ri,d}function ri(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch{var ua=lo();typeof s>"u"&&(ua.process={}),ua.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Fi,extras:{getDebugName:Nl},$mobx:R})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return ne}),i.d(c,"b",function(){return ae}),i.d(c,"c",function(){return Ie}),i.d(c,"d",function(){return ke}),i.d(c,"e",function(){return L}),i.d(c,"f",function(){return U}),i.d(c,"g",function(){return L}),i.d(c,"h",function(){return Se}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return Be}),i.d(c,"k",function(){return w});var s,f,y,b,S,x,P,A={},M=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(k,Y){for(var ee in Y)k[ee]=Y[ee];return k}function B(k){var Y=k.parentNode;Y&&Y.removeChild(k)}function L(k,Y,ee){var he,xe,pe,ze={};for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];if(arguments.length>2&&(ze.children=arguments.length>3?s.call(arguments,2):ee),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)ze[pe]===void 0&&(ze[pe]=k.defaultProps[pe]);return X(k,ze,he,xe,null)}function X(k,Y,ee,he,xe){var pe={type:k,props:Y,key:ee,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe==null?++y:xe};return xe==null&&f.vnode!=null&&f.vnode(pe),pe}function U(){return{current:null}}function ae(k){return k.children}function ne(k,Y){this.props=k,this.context=Y}function Q(k,Y){if(Y==null)return k.__?Q(k.__,k.__.__k.indexOf(k)+1):null;for(var ee;Y<k.__k.length;Y++)if((ee=k.__k[Y])!=null&&ee.__e!=null)return ee.__e;return typeof k.type=="function"?Q(k):null}function J(k){var Y,ee;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,Y=0;Y<k.__k.length;Y++)if((ee=k.__k[Y])!=null&&ee.__e!=null){k.__e=k.__c.base=ee.__e;break}return J(k)}}function le(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!z.__r++||x!==f.debounceRendering)&&((x=f.debounceRendering)||S)(z)}function z(){for(var k;z.__r=b.length;)k=b.sort(function(Y,ee){return Y.__v.__b-ee.__v.__b}),b=[],k.some(function(Y){var ee,he,xe,pe,ze,tt;Y.__d&&(ze=(pe=(ee=Y).__v).__e,(tt=ee.__P)&&(he=[],(xe=C({},pe)).__v=pe.__v+1,Oe(tt,pe,xe,ee.__n,tt.ownerSVGElement!==void 0,pe.__h!=null?[ze]:null,he,ze==null?Q(pe):ze,pe.__h),Pe(he,pe),pe.__e!=ze&&J(pe)))})}function $(k,Y,ee,he,xe,pe,ze,tt,We,nt){var ve,ut,rt,_e,Qe,wt,dt,bt=he&&he.__k||M,oe=bt.length;for(ee.__k=[],ve=0;ve<Y.length;ve++)if((_e=ee.__k[ve]=(_e=Y[ve])==null||typeof _e=="boolean"?null:typeof _e=="string"||typeof _e=="number"||typeof _e=="bigint"?X(null,_e,null,null,_e):Array.isArray(_e)?X(ae,{children:_e},null,null,null):_e.__b>0?X(_e.type,_e.props,_e.key,null,_e.__v):_e)!=null){if(_e.__=ee,_e.__b=ee.__b+1,(rt=bt[ve])===null||rt&&_e.key==rt.key&&_e.type===rt.type)bt[ve]=void 0;else for(ut=0;ut<oe;ut++){if((rt=bt[ut])&&_e.key==rt.key&&_e.type===rt.type){bt[ut]=void 0;break}rt=null}Oe(k,_e,rt=rt||A,xe,pe,ze,tt,We,nt),Qe=_e.__e,(ut=_e.ref)&&rt.ref!=ut&&(dt||(dt=[]),rt.ref&&dt.push(rt.ref,null,_e),dt.push(ut,_e.__c||Qe,_e)),Qe!=null?(wt==null&&(wt=Qe),typeof _e.type=="function"&&_e.__k===rt.__k?_e.__d=We=I(_e,We,k):We=R(k,_e,rt,bt,Qe,We),typeof ee.type=="function"&&(ee.__d=We)):We&&rt.__e==We&&We.parentNode!=k&&(We=Q(rt))}for(ee.__e=wt,ve=oe;ve--;)bt[ve]!=null&&(typeof ee.type=="function"&&bt[ve].__e!=null&&bt[ve].__e==ee.__d&&(ee.__d=Q(he,ve+1)),Le(bt[ve],bt[ve]));if(dt)for(ve=0;ve<dt.length;ve++)Ne(dt[ve],dt[++ve],dt[++ve])}function I(k,Y,ee){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,Y=typeof he.type=="function"?I(he,Y,ee):R(ee,he,he,xe,he.__e,Y));return Y}function w(k,Y){return Y=Y||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(ee){w(ee,Y)}):Y.push(k)),Y}function R(k,Y,ee,he,xe,pe){var ze,tt,We;if(Y.__d!==void 0)ze=Y.__d,Y.__d=void 0;else if(ee==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),ze=null;else{for(tt=pe,We=0;(tt=tt.nextSibling)&&We<he.length;We+=2)if(tt==xe)break e;k.insertBefore(xe,pe),ze=pe}return ze!==void 0?ze:xe.nextSibling}function W(k,Y,ee,he,xe){var pe;for(pe in ee)pe==="children"||pe==="key"||pe in Y||ce(k,pe,null,ee[pe],he);for(pe in Y)xe&&typeof Y[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||ee[pe]===Y[pe]||ce(k,pe,Y[pe],ee[pe],he)}function q(k,Y,ee){Y[0]==="-"?k.setProperty(Y,ee):k[Y]=ee==null?"":typeof ee!="number"||D.test(Y)?ee:ee+"px"}function ce(k,Y,ee,he,xe){var pe;e:if(Y==="style")if(typeof ee=="string")k.style.cssText=ee;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for(Y in he)ee&&Y in ee||q(k.style,Y,"");if(ee)for(Y in ee)he&&ee[Y]===he[Y]||q(k.style,Y,ee[Y])}else if(Y[0]==="o"&&Y[1]==="n")pe=Y!==(Y=Y.replace(/Capture$/,"")),Y=Y.toLowerCase()in k?Y.toLowerCase().slice(2):Y.slice(2),k.l||(k.l={}),k.l[Y+pe]=ee,ee?he||k.addEventListener(Y,pe?me:Me,pe):k.removeEventListener(Y,pe?me:Me,pe);else if(Y!=="dangerouslySetInnerHTML"){if(xe)Y=Y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Y!=="href"&&Y!=="list"&&Y!=="form"&&Y!=="tabIndex"&&Y!=="download"&&Y in k)try{k[Y]=ee==null?"":ee;break e}catch{}typeof ee=="function"||(ee!=null&&(ee!==!1||Y[0]==="a"&&Y[1]==="r")?k.setAttribute(Y,ee):k.removeAttribute(Y))}}function Me(k){this.l[k.type+!1](f.event?f.event(k):k)}function me(k){this.l[k.type+!0](f.event?f.event(k):k)}function Oe(k,Y,ee,he,xe,pe,ze,tt,We){var nt,ve,ut,rt,_e,Qe,wt,dt,bt,oe,Ct,St=Y.type;if(Y.constructor!==void 0)return null;ee.__h!=null&&(We=ee.__h,tt=Y.__e=ee.__e,Y.__h=null,pe=[tt]),(nt=f.__b)&&nt(Y);try{e:if(typeof St=="function"){if(dt=Y.props,bt=(nt=St.contextType)&&he[nt.__c],oe=nt?bt?bt.props.value:nt.__:he,ee.__c?wt=(ve=Y.__c=ee.__c).__=ve.__E:("prototype"in St&&St.prototype.render?Y.__c=ve=new St(dt,oe):(Y.__c=ve=new ne(dt,oe),ve.constructor=St,ve.render=Ve),bt&&bt.sub(ve),ve.props=dt,ve.state||(ve.state={}),ve.context=oe,ve.__n=he,ut=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),St.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=C({},ve.__s)),C(ve.__s,St.getDerivedStateFromProps(dt,ve.__s))),rt=ve.props,_e=ve.state,ut)St.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(St.getDerivedStateFromProps==null&&dt!==rt&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(dt,oe),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(dt,ve.__s,oe)===!1||Y.__v===ee.__v){ve.props=dt,ve.state=ve.__s,Y.__v!==ee.__v&&(ve.__d=!1),ve.__v=Y,Y.__e=ee.__e,Y.__k=ee.__k,Y.__k.forEach(function(mt){mt&&(mt.__=Y)}),ve.__h.length&&ze.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(dt,ve.__s,oe),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(rt,_e,Qe)})}ve.context=oe,ve.props=dt,ve.state=ve.__s,(nt=f.__r)&&nt(Y),ve.__d=!1,ve.__v=Y,ve.__P=k,nt=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=C(C({},he),ve.getChildContext())),ut||ve.getSnapshotBeforeUpdate==null||(Qe=ve.getSnapshotBeforeUpdate(rt,_e)),Ct=nt!=null&&nt.type===ae&&nt.key==null?nt.props.children:nt,$(k,Array.isArray(Ct)?Ct:[Ct],Y,ee,he,xe,pe,ze,tt,We),ve.base=Y.__e,Y.__h=null,ve.__h.length&&ze.push(ve),wt&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&Y.__v===ee.__v?(Y.__k=ee.__k,Y.__e=ee.__e):Y.__e=Ee(ee.__e,Y,ee,he,xe,pe,ze,We);(nt=f.diffed)&&nt(Y)}catch(mt){Y.__v=null,(We||pe!=null)&&(Y.__e=tt,Y.__h=!!We,pe[pe.indexOf(tt)]=null),f.__e(mt,Y,ee)}}function Pe(k,Y){f.__c&&f.__c(Y,k),k.some(function(ee){try{k=ee.__h,ee.__h=[],k.some(function(he){he.call(ee)})}catch(he){f.__e(he,ee.__v)}})}function Ee(k,Y,ee,he,xe,pe,ze,tt){var We,nt,ve,ut=ee.props,rt=Y.props,_e=Y.type,Qe=0;if(_e==="svg"&&(xe=!0),pe!=null){for(;Qe<pe.length;Qe++)if((We=pe[Qe])&&"setAttribute"in We==!!_e&&(_e?We.localName===_e:We.nodeType===3)){k=We,pe[Qe]=null;break}}if(k==null){if(_e===null)return document.createTextNode(rt);k=xe?document.createElementNS("http://www.w3.org/2000/svg",_e):document.createElement(_e,rt.is&&rt),pe=null,tt=!1}if(_e===null)ut===rt||tt&&k.data===rt||(k.data=rt);else{if(pe=pe&&s.call(k.childNodes),nt=(ut=ee.props||A).dangerouslySetInnerHTML,ve=rt.dangerouslySetInnerHTML,!tt){if(pe!=null)for(ut={},Qe=0;Qe<k.attributes.length;Qe++)ut[k.attributes[Qe].name]=k.attributes[Qe].value;(ve||nt)&&(ve&&(nt&&ve.__html==nt.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,rt,ut,xe,tt),ve)Y.__k=[];else if(Qe=Y.props.children,$(k,Array.isArray(Qe)?Qe:[Qe],Y,ee,he,xe&&_e!=="foreignObject",pe,ze,pe?pe[0]:ee.__k&&Q(ee,0),tt),pe!=null)for(Qe=pe.length;Qe--;)pe[Qe]!=null&&B(pe[Qe]);tt||("value"in rt&&(Qe=rt.value)!==void 0&&(Qe!==ut.value||Qe!==k.value||_e==="progress"&&!Qe)&&ce(k,"value",Qe,ut.value,!1),"checked"in rt&&(Qe=rt.checked)!==void 0&&Qe!==k.checked&&ce(k,"checked",Qe,ut.checked,!1))}return k}function Ne(k,Y,ee){try{typeof k=="function"?k(Y):k.current=Y}catch(he){f.__e(he,ee)}}function Le(k,Y,ee){var he,xe;if(f.unmount&&f.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||Ne(he,null,Y)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){f.__e(pe,Y)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&Le(he[xe],Y,typeof k.type!="function");ee||k.__e==null||B(k.__e),k.__e=k.__d=void 0}function Ve(k,Y,ee){return this.constructor(k,ee)}function Be(k,Y,ee){var he,xe,pe;f.__&&f.__(k,Y),xe=(he=typeof ee=="function")?null:ee&&ee.__k||Y.__k,pe=[],Oe(Y,k=(!he&&ee||Y).__k=L(ae,null,[k]),xe||A,A,Y.ownerSVGElement!==void 0,!he&&ee?[ee]:xe?null:Y.firstChild?s.call(Y.childNodes):null,pe,!he&&ee?ee:xe?xe.__e:Y.firstChild,he),Pe(pe,k)}function Se(k,Y){Be(k,Y,Se)}function Ie(k,Y,ee){var he,xe,pe,ze=C({},k.props);for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];return arguments.length>2&&(ze.children=arguments.length>3?s.call(arguments,2):ee),X(k.type,ze,he||k.key,xe||k.ref,null)}function ke(k,Y){var ee={__c:Y="__cC"+P++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[Y]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(ze){this.props.value!==ze.value&&xe.some(le)},this.sub=function(ze){xe.push(ze);var tt=ze.componentWillUnmount;ze.componentWillUnmount=function(){xe.splice(xe.indexOf(ze),1),tt&&tt.call(ze)}}),he.children}};return ee.Provider.__=ee.Consumer.contextType=ee}s=M.slice,f={__e:function(k,Y){for(var ee,he,xe;Y=Y.__;)if((ee=Y.__c)&&!ee.__)try{if((he=ee.constructor)&&he.getDerivedStateFromError!=null&&(ee.setState(he.getDerivedStateFromError(k)),xe=ee.__d),ee.componentDidCatch!=null&&(ee.componentDidCatch(k),xe=ee.__d),xe)return ee.__E=ee}catch(pe){k=pe}throw k}},y=0,ne.prototype.setState=function(k,Y){var ee;ee=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof k=="function"&&(k=k(C({},ee),this.props)),k&&C(ee,k),k!=null&&this.__v&&(Y&&this.__h.push(Y),le(this))},ne.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),le(this))},ne.prototype.render=ae,b=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,P=0},function(u,c,i){var s=i(116),f=i(44),y=i(178);s||f(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var s=i(39),f=i(83),y=i(70),b=i(56),S=i(111),x="Array Iterator",P=b.set,A=b.getterFor(x);u.exports=S(Array,"Array",function(M,D){P(this,{type:x,target:s(M),index:0,kind:D})},function(){var M=A(this),D=M.target,C=M.kind,B=M.index++;return!D||B>=D.length?(M.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:B,done:!1}:C=="values"?{value:D[B],done:!1}:{value:[B,D[B]],done:!1}},"values"),y.Arguments=y.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var s=i(7),f=i(147),y=i(148),b=i(3),S=i(57),x=i(27),P=x("iterator"),A=x("toStringTag"),M=b.values,D=function(B,L){if(B){if(B[P]!==M)try{S(B,P,M)}catch{B[P]=M}if(B[A]||S(B,A,L),f[L]){for(var X in b)if(B[X]!==b[X])try{S(B,X,b[X])}catch{B[X]=b[X]}}}};for(var C in f)D(s[C]&&s[C].prototype,C);D(y,"DOMTokenList")},function(u,c,i){var s=i(16),f=i(7),y=i(46),b=i(76),S=i(35),x=i(15),P=i(64),A=i(36),M=i(109),D=i(18),C=i(34),B=i(99),L=i(28),X=i(33),U=i(58),ae=i(88),ne=i(32),Q=i(38),J=i(39),le=i(87),z=i(40),$=i(71),I=i(54),w=i(66),R=i(72),W=i(139),q=i(112),ce=i(51),Me=i(37),me=i(93),Oe=i(101),Pe=i(44),Ee=i(84),Ne=i(91),Le=i(69),Ve=i(85),Be=i(27),Se=i(149),Ie=i(150),ke=i(73),k=i(56),Y=i(74).forEach,ee=Ne("hidden"),he="Symbol",xe="prototype",pe=Be("toPrimitive"),ze=k.set,tt=k.getterFor(he),We=Object[xe],nt=f.Symbol,ve=nt&&nt[xe],ut=f.TypeError,rt=f.QObject,_e=y("JSON","stringify"),Qe=ce.f,wt=Me.f,dt=W.f,bt=me.f,oe=x([].push),Ct=Ee("symbols"),St=Ee("op-symbols"),mt=Ee("string-to-symbol-registry"),Yt=Ee("symbol-to-string-registry"),dr=Ee("wks"),Vt=!rt||!rt[xe]||!rt[xe].findChild,Er=A&&D(function(){return I(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a!=7})?function(te,re,Ae){var De=Qe(We,re);De&&delete We[re],wt(te,re,Ae),De&&te!==We&&wt(We,re,De)}:wt,qe=function(te,re){var Ae=Ct[te]=I(ve);return ze(Ae,{type:he,tag:te,description:re}),A||(Ae.description=re),Ae},Pt=function(re,Ae,De){re===We&&Pt(St,Ae,De),ne(re);var Xe=le(Ae);return ne(De),C(Ct,Xe)?(De.enumerable?(C(re,ee)&&re[ee][Xe]&&(re[ee][Xe]=!1),De=I(De,{enumerable:$(0,!1)})):(C(re,ee)||wt(re,ee,$(1,{})),re[ee][Xe]=!0),Er(re,Xe,De)):wt(re,Xe,De)},rr=function(re,Ae){ne(re);var De=J(Ae),Xe=w(De).concat(lt(De));return Y(Xe,function(vt){(!A||S(Ye,De,vt))&&Pt(re,vt,De[vt])}),re},je=function(re,Ae){return Ae===void 0?I(re):rr(I(re),Ae)},Ye=function(re){var Ae=le(re),De=S(bt,this,Ae);return this===We&&C(Ct,Ae)&&!C(St,Ae)?!1:De||!C(this,Ae)||!C(Ct,Ae)||C(this,ee)&&this[ee][Ae]?De:!0},ot=function(re,Ae){var De=J(re),Xe=le(Ae);if(!(De===We&&C(Ct,Xe)&&!C(St,Xe))){var vt=Qe(De,Xe);return vt&&C(Ct,Xe)&&!(C(De,ee)&&De[ee][Xe])&&(vt.enumerable=!0),vt}},Je=function(re){var Ae=dt(J(re)),De=[];return Y(Ae,function(Xe){!C(Ct,Xe)&&!C(Le,Xe)&&oe(De,Xe)}),De},lt=function(re){var Ae=re===We,De=dt(Ae?St:J(re)),Xe=[];return Y(De,function(vt){C(Ct,vt)&&(!Ae||C(We,vt))&&oe(Xe,Ct[vt])}),Xe};if(M||(nt=function(){if(U(ve,this))throw ut("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:z(arguments[0]),Ae=Ve(re),De=function(Xe){this===We&&S(De,St,Xe),C(this,ee)&&C(this[ee],Ae)&&(this[ee][Ae]=!1),Er(this,Ae,$(1,Xe))};return A&&Vt&&Er(We,Ae,{configurable:!0,set:De}),qe(Ae,re)},ve=nt[xe],Pe(ve,"toString",function(){return tt(this).tag}),Pe(nt,"withoutSetter",function(te){return qe(Ve(te),te)}),me.f=Ye,Me.f=Pt,ce.f=ot,R.f=W.f=Je,q.f=lt,Se.f=function(te){return qe(Be(te),te)},A&&(wt(ve,"description",{configurable:!0,get:function(){return tt(this).description}}),P||Pe(We,"propertyIsEnumerable",Ye,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!M,sham:!M},{Symbol:nt}),Y(w(dr),function(te){Ie(te)}),s({target:he,stat:!0,forced:!M},{for:function(te){var re=z(te);if(C(mt,re))return mt[re];var Ae=nt(re);return mt[re]=Ae,Yt[Ae]=re,Ae},keyFor:function(re){if(!ae(re))throw ut(re+" is not a symbol");if(C(Yt,re))return Yt[re]},useSetter:function(){Vt=!0},useSimple:function(){Vt=!1}}),s({target:"Object",stat:!0,forced:!M,sham:!A},{create:je,defineProperty:Pt,defineProperties:rr,getOwnPropertyDescriptor:ot}),s({target:"Object",stat:!0,forced:!M},{getOwnPropertyNames:Je,getOwnPropertySymbols:lt}),s({target:"Object",stat:!0,forced:D(function(){q.f(1)})},{getOwnPropertySymbols:function(re){return q.f(Q(re))}}),_e){var H=!M||D(function(){var te=nt();return _e([te])!="[null]"||_e({a:te})!="{}"||_e(Object(te))!="{}"});s({target:"JSON",stat:!0,forced:H},{stringify:function(re,Ae,De){var Xe=Oe(arguments),vt=Ae;if(!(!X(Ae)&&re===void 0||ae(re)))return B(Ae)||(Ae=function(Zt,Jt){if(L(vt)&&(Jt=S(vt,this,Zt,Jt)),!ae(Jt))return Jt}),Xe[1]=Ae,b(_e,null,Xe)}})}if(!ve[pe]){var V=ve.valueOf;Pe(ve,pe,function(te){return S(V,this)})}ke(nt,he),Le[ee]=!0},function(u,c,i){var s=i(146).charAt,f=i(40),y=i(56),b=i(111),S="String Iterator",x=y.set,P=y.getterFor(S);b(String,"String",function(A){x(this,{type:S,string:f(A),index:0})},function(){var M=P(this),D=M.string,C=M.index,B;return C>=D.length?{value:void 0,done:!0}:(B=s(D,C),M.index+=B.length,{value:B,done:!1})})},function(u,c,i){(function(s){var f=function(y){return y&&y.Math==Math&&y};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof s=="object"&&s)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var s=i(16),f=i(36),y=i(7),b=i(15),S=i(34),x=i(28),P=i(58),A=i(40),M=i(37).f,D=i(134),C=y.Symbol,B=C&&C.prototype;if(f&&x(C)&&(!("description"in B)||C().description!==void 0)){var L={},X=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:A(arguments[0]),I=P(B,this)?new C($):$===void 0?C():C($);return $===""&&(L[I]=!0),I};D(X,C),X.prototype=B,B.constructor=X;var U=String(C("test"))=="Symbol(test)",ae=b(B.toString),ne=b(B.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,J=b("".replace),le=b("".slice);M(B,"description",{configurable:!0,get:function(){var $=ne(this),I=ae($);if(S(L,$))return"";var w=U?le(I,7,-1):J(I,Q,"$1");return w===""?void 0:w}}),s({global:!0,forced:!0},{Symbol:X})}},function(u,c,i){var s=i(150);s("iterator")},function(u,c,i){i.d(c,"a",function(){return s.a}),i.d(c,"c",function(){return s.e}),i.d(c,"h",function(){return le}),i.d(c,"i",function(){return U}),i.d(c,"j",function(){return L}),i.d(c,"b",function(){return Pe}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Ee}),i.d(c,"g",function(){return Ye});var s=i(1),f,y,b,S=0,x=[],P=s.i.__b,A=s.i.__r,M=s.i.diffed,D=s.i.__c,C=s.i.unmount;function B(H,V){s.i.__h&&s.i.__h(y,H,S||V),S=0;var te=y.__H||(y.__H={__:[],__h:[]});return H>=te.__.length&&te.__.push({}),te.__[H]}function L(H){return S=1,X(Me,H)}function X(H,V,te){var re=B(f++,2);return re.t=H,re.__c||(re.__=[te?te(V):Me(void 0,V),function(Ae){var De=re.t(re.__[0],Ae);re.__[0]!==De&&(re.__=[De,re.__[1]],re.__c.setState({}))}],re.__c=y),re.__}function U(H,V){var te=B(f++,3);!s.i.__s&&ce(te.__H,V)&&(te.__=H,te.__H=V,y.__H.__h.push(te))}function ae(H,V){var te=B(f++,4);!s.i.__s&&ce(te.__H,V)&&(te.__=H,te.__H=V,y.__h.push(te))}function ne(H){return S=5,J(function(){return{current:H}},[])}function Q(H,V,te){S=6,ae(function(){typeof H=="function"?H(V()):H&&(H.current=V())},te==null?te:te.concat(H))}function J(H,V){var te=B(f++,7);return ce(te.__H,V)&&(te.__=H(),te.__H=V,te.__h=H),te.__}function le(H,V){return S=8,J(function(){return H},V)}function z(H){var V=y.context[H.__c],te=B(f++,9);return te.c=H,V?(te.__==null&&(te.__=!0,V.sub(y)),V.props.value):H.__}function $(H,V){s.i.useDebugValue&&s.i.useDebugValue(V?V(H):H)}function I(){var H;for(x.sort(function(V,te){return V.__v.__b-te.__v.__b});H=x.pop();)if(H.__P)try{H.__H.__h.forEach(W),H.__H.__h.forEach(q),H.__H.__h=[]}catch(V){H.__H.__h=[],s.i.__e(V,H.__v)}}s.i.__b=function(H){y=null,P&&P(H)},s.i.__r=function(H){A&&A(H),f=0;var V=(y=H.__c).__H;V&&(V.__h.forEach(W),V.__h.forEach(q),V.__h=[])},s.i.diffed=function(H){M&&M(H);var V=H.__c;V&&V.__H&&V.__H.__h.length&&(x.push(V)!==1&&b===s.i.requestAnimationFrame||((b=s.i.requestAnimationFrame)||R)(I)),y=null},s.i.__c=function(H,V){V.some(function(te){try{te.__h.forEach(W),te.__h=te.__h.filter(function(re){return!re.__||q(re)})}catch(re){V.some(function(Ae){Ae.__h&&(Ae.__h=[])}),V=[],s.i.__e(re,te.__v)}}),D&&D(H,V)},s.i.unmount=function(H){C&&C(H);var V,te=H.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{W(re)}catch(Ae){V=Ae}}),V&&s.i.__e(V,te.__v))};var w=typeof requestAnimationFrame=="function";function R(H){var V,te=function(){clearTimeout(re),w&&cancelAnimationFrame(V),setTimeout(H)},re=setTimeout(te,100);w&&(V=requestAnimationFrame(te))}function W(H){var V=y,te=H.__c;typeof te=="function"&&(H.__c=void 0,te()),y=V}function q(H){var V=y;H.__c=H.__(),y=V}function ce(H,V){return!H||H.length!==V.length||V.some(function(te,re){return te!==H[re]})}function Me(H,V){return typeof V=="function"?V(H):V}function me(H,V){for(var te in V)H[te]=V[te];return H}function Oe(H,V){for(var te in H)if(te!=="__source"&&!(te in V))return!0;for(var re in V)if(re!=="__source"&&H[re]!==V[re])return!0;return!1}function Pe(H){this.props=H}function Ee(H,V){function te(Ae){var De=this.props.ref,Xe=De==Ae.ref;return!Xe&&De&&(De.call?De(null):De.current=null),V?!V(this.props,Ae)||!Xe:Oe(this.props,Ae)}function re(Ae){return this.shouldComponentUpdate=te,Object(s.e)(H,Ae)}return re.displayName="Memo("+(H.displayName||H.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Pe.prototype=new s.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(H,V){return Oe(this.props,H)||Oe(this.state,V)};var Ne=s.i.__b;s.i.__b=function(H){H.type&&H.type.__f&&H.ref&&(H.props.ref=H.ref,H.ref=null),Ne&&Ne(H)};var Le=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(H){function V(te,re){var Ae=me({},te);return delete Ae.ref,H(Ae,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return V.$$typeof=Le,V.render=V,V.prototype.isReactComponent=V.__f=!0,V.displayName="ForwardRef("+(H.displayName||H.name)+")",V}var Be=function(H,V){return H==null?null:Object(s.k)(Object(s.k)(H).map(V))},Se={map:Be,forEach:Be,count:function(H){return H?Object(s.k)(H).length:0},only:function(H){var V=Object(s.k)(H);if(V.length!==1)throw"Children.only";return V[0]},toArray:s.k},Ie=s.i.__e;s.i.__e=function(H,V,te){if(H.then){for(var re,Ae=V;Ae=Ae.__;)if((re=Ae.__c)&&re.__c)return V.__e==null&&(V.__e=te.__e,V.__k=te.__k),re.__c(H,V)}Ie(H,V,te)};var ke=s.i.unmount;function k(H,V,te){return H&&(H.__c&&H.__c.__H&&(H.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),H.__c.__H=null),(H=me({},H)).__c!=null&&(H.__c.__P===te&&(H.__c.__P=V),H.__c=null),H.__k=H.__k&&H.__k.map(function(re){return k(re,V,te)})),H}function Y(H,V,te){return H&&(H.__v=null,H.__k=H.__k&&H.__k.map(function(re){return Y(re,V,te)}),H.__c&&H.__c.__P===V&&(H.__e&&te.insertBefore(H.__e,H.__d),H.__c.__e=!0,H.__c.__P=te)),H}function ee(){this.__u=0,this.t=null,this.__b=null}function he(H){var V=H.__.__c;return V&&V.__e&&V.__e(H)}function xe(H){var V,te,re;function Ae(De){if(V||(V=H()).then(function(Xe){te=Xe.default||Xe},function(Xe){re=Xe}),re)throw re;if(!te)throw V;return Object(s.e)(te,De)}return Ae.displayName="Lazy",Ae.__f=!0,Ae}function pe(){this.u=null,this.o=null}s.i.unmount=function(H){var V=H.__c;V&&V.__R&&V.__R(),V&&H.__h===!0&&(H.type=null),ke&&ke(H)},(ee.prototype=new s.a).__c=function(H,V){var te=V.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var Ae=he(re.__v),De=!1,Xe=function(){De||(De=!0,te.__R=null,Ae?Ae(vt):vt())};te.__R=Xe;var vt=function(){if(!--re.__u){if(re.state.__e){var Jt=re.state.__e;re.__v.__k[0]=Y(Jt,Jt.__c.__P,Jt.__c.__O)}var Gn;for(re.setState({__e:re.__b=null});Gn=re.t.pop();)Gn.forceUpdate()}},Zt=V.__h===!0;re.__u++||Zt||re.setState({__e:re.__b=re.__v.__k[0]}),H.then(Xe,Xe)},ee.prototype.componentWillUnmount=function(){this.t=[]},ee.prototype.render=function(H,V){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,te,re.__O=re.__P)}this.__b=null}var Ae=V.__e&&Object(s.e)(s.b,null,H.fallback);return Ae&&(Ae.__h=null),[Object(s.e)(s.b,null,V.__e?null:H.children),Ae]};var ze=function(H,V,te){if(++te[1]===te[0]&&H.o.delete(V),H.props.revealOrder&&(H.props.revealOrder[0]!=="t"||!H.o.size))for(te=H.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;H.u=te=te[2]}};function tt(H){return this.getChildContext=function(){return H.context},H.children}function We(H){var V=this,te=H.i;V.componentWillUnmount=function(){Object(s.j)(null,V.l),V.l=null,V.i=null},V.i&&V.i!==te&&V.componentWillUnmount(),H.__v?(V.l||(V.i=te,V.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),V.i.appendChild(re)},insertBefore:function(re,Ae){this.childNodes.push(re),V.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),V.i.removeChild(re)}}),Object(s.j)(Object(s.e)(tt,{context:V.context},H.__v),V.l)):V.l&&V.componentWillUnmount()}function nt(H,V){return Object(s.e)(We,{__v:H,i:V})}(pe.prototype=new s.a).__e=function(H){var V=this,te=he(V.__v),re=V.o.get(H);return re[0]++,function(Ae){var De=function(){V.props.revealOrder?(re.push(Ae),ze(V,H,re)):Ae()};te?te(De):De()}},pe.prototype.render=function(H){this.u=null,this.o=new Map;var V=Object(s.k)(H.children);H.revealOrder&&H.revealOrder[0]==="b"&&V.reverse();for(var te=V.length;te--;)this.o.set(V[te],this.u=[1,0,this.u]);return H.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var H=this;this.o.forEach(function(V,te){ze(H,te,V)})};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rt=typeof document<"u",_e=function(H){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(H)};function Qe(H,V,te){return V.__k==null&&(V.textContent=""),Object(s.j)(H,V),typeof te=="function"&&te(),H?H.__c:null}function wt(H,V,te){return Object(s.h)(H,V),typeof te=="function"&&te(),H?H.__c:null}s.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(H){Object.defineProperty(s.a.prototype,H,{configurable:!0,get:function(){return this["UNSAFE_"+H]},set:function(V){Object.defineProperty(this,H,{configurable:!0,writable:!0,value:V})}})});var dt=s.i.event;function bt(){}function oe(){return this.cancelBubble}function Ct(){return this.defaultPrevented}s.i.event=function(H){return dt&&(H=dt(H)),H.persist=bt,H.isPropagationStopped=oe,H.isDefaultPrevented=Ct,H.nativeEvent=H};var St,mt={configurable:!0,get:function(){return this.class}},Yt=s.i.vnode;s.i.vnode=function(H){var V=H.type,te=H.props,re=te;if(typeof V=="string"){var Ae=V.indexOf("-")===-1;for(var De in re={},te){var Xe=te[De];rt&&De==="children"&&V==="noscript"||De==="value"&&"defaultValue"in te&&Xe==null||(De==="defaultValue"&&"value"in te&&te.value==null?De="value":De==="download"&&Xe===!0?Xe="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+V)&&!_e(te.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():Ae&&ut.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Xe===null&&(Xe=void 0),re[De]=Xe)}V=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(s.k)(te.children).forEach(function(vt){vt.props.selected=re.value.indexOf(vt.props.value)!=-1})),V=="select"&&re.defaultValue!=null&&(re.value=Object(s.k)(te.children).forEach(function(vt){vt.props.selected=re.multiple?re.defaultValue.indexOf(vt.props.value)!=-1:re.defaultValue==vt.props.value})),H.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}H.$$typeof=ve,Yt&&Yt(H)};var dr=s.i.__r;s.i.__r=function(H){dr&&dr(H),St=H.__c};var Vt={ReactCurrentDispatcher:{current:{readContext:function(H){return St.__n[H.__c].props.value}}}};function Er(H){return s.e.bind(null,H)}function qe(H){return!!H&&H.$$typeof===ve}function Pt(H){return qe(H)?s.c.apply(null,arguments):H}function rr(H){return!!H.__k&&(Object(s.j)(null,H),!0)}function je(H){return H&&(H.base||H.nodeType===1&&H)||null}var Ye=function(H,V){return H(V)},ot=function(H,V){return H(V)},Je=s.b,lt={useState:L,useReducer:X,useEffect:U,useLayoutEffect:ae,useRef:ne,useImperativeHandle:Q,useMemo:J,useCallback:le,useContext:z,useDebugValue:$,version:"17.0.2",Children:Se,render:Qe,hydrate:wt,unmountComponentAtNode:rr,createPortal:nt,createElement:s.e,createContext:s.d,createFactory:Er,cloneElement:Pt,createRef:s.f,Fragment:s.b,isValidElement:qe,findDOMNode:je,Component:s.a,PureComponent:Pe,memo:Ee,forwardRef:Ve,flushSync:ot,unstable_batchedUpdates:Ye,StrictMode:Je,Suspense:ee,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Vt};c.d=lt},function(u,c,i){var s=i(7),f=i(147),y=i(148),b=i(179),S=i(57),x=function(A){if(A&&A.forEach!==b)try{S(A,"forEach",b)}catch{A.forEach=b}};for(var P in f)f[P]&&x(s[P]&&s[P].prototype);x(y)},function(u,c,i){var s=i(16),f=i(97);s({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var s=i(16),f=i(18),y=i(38),b=i(96),S=i(137),x=f(function(){b(1)});s({target:"Object",stat:!0,forced:x,sham:!S},{getPrototypeOf:function(A){return b(y(A))}})},function(u,c,i){var s=i(16),f=i(46),y=i(76),b=i(199),S=i(157),x=i(32),P=i(33),A=i(54),M=i(18),D=f("Reflect","construct"),C=Object.prototype,B=[].push,L=M(function(){function ae(){}return!(D(function(){},[],ae)instanceof ae)}),X=!M(function(){D(function(){})}),U=L||X;s({target:"Reflect",stat:!0,forced:U,sham:U},{construct:function(ne,Q){S(ne),x(Q);var J=arguments.length<3?ne:S(arguments[2]);if(X&&!L)return D(ne,Q,J);if(ne==J){switch(Q.length){case 0:return new ne;case 1:return new ne(Q[0]);case 2:return new ne(Q[0],Q[1]);case 3:return new ne(Q[0],Q[1],Q[2]);case 4:return new ne(Q[0],Q[1],Q[2],Q[3])}var le=[null];return y(B,le,Q),new(y(b,ne,le))}var z=J.prototype,$=A(P(z)?z:C),I=y(ne,$,Q);return P(I)?I:$}})},function(u,c){var i=Function.prototype,s=i.bind,f=i.call,y=s&&s.bind(f);u.exports=s?function(b){return b&&y(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var s=i(7),f=i(51).f,y=i(57),b=i(44),S=i(108),x=i(134),P=i(95);u.exports=function(A,M){var D=A.target,C=A.global,B=A.stat,L,X,U,ae,ne,Q;if(C?X=s:B?X=s[D]||S(D,{}):X=(s[D]||{}).prototype,X)for(U in M){if(ne=M[U],A.noTargetGet?(Q=f(X,U),ae=Q&&Q.value):ae=X[U],L=P(C?U:D+(B?".":"#")+U,A.forced),!L&&ae!==void 0){if(typeof ne==typeof ae)continue;x(ne,ae)}(A.sham||ae&&ae.sham)&&y(ne,"sham",!0),b(X,U,ne,A)}}},function(u,c,i){var s=i(16),f=i(7),y=i(99),b=i(100),S=i(33),x=i(67),P=i(43),A=i(39),M=i(61),D=i(27),C=i(75),B=i(101),L=C("slice"),X=D("species"),U=f.Array,ae=Math.max;s({target:"Array",proto:!0,forced:!L},{slice:function(Q,J){var le=A(this),z=P(le),$=x(Q,z),I=x(J===void 0?z:J,z),w,R,W;if(y(le)&&(w=le.constructor,b(w)&&(w===U||y(w.prototype))?w=void 0:S(w)&&(w=w[X],w===null&&(w=void 0)),w===U||w===void 0))return B(le,$,I);for(R=new(w===void 0?U:w)(ae(I-$,0)),W=0;$<I;$++,W++)$ in le&&M(R,W,le[$]);return R.length=W,R}})},function(u,c){u.exports=function(i){try{return!!i()}catch{return!0}}},function(u,c,i){var s=i(16),f=i(102);s({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var s=i(16),f=i(38),y=i(66),b=i(18),S=b(function(){y(1)});s({target:"Object",stat:!0,forced:S},{keys:function(P){return y(f(P))}})},function(u,c,i){var s=i(16),f=i(18),y=i(39),b=i(51).f,S=i(36),x=f(function(){b(1)}),P=!S||x;s({target:"Object",stat:!0,forced:P,sham:!S},{getOwnPropertyDescriptor:function(M,D){return b(y(M),D)}})},function(u,c,i){var s=i(16),f=i(74).filter,y=i(75),b=y("filter");s({target:"Array",proto:!0,forced:!b},{filter:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(16),f=i(36),y=i(135),b=i(39),S=i(51),x=i(61);s({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(A){for(var M=b(A),D=S.f,C=y(M),B={},L=0,X,U;C.length>L;)U=D(M,X=C[L++]),U!==void 0&&x(B,X,U);return B}})},function(u,c,i){var s=i(36),f=i(94).EXISTS,y=i(15),b=i(37).f,S=Function.prototype,x=y(S.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,A=y(P.exec),M="name";s&&!f&&b(S,M,{configurable:!0,get:function(){try{return A(P,x(this))[1]}catch{return""}}})},function(u,c,i){var s=i(16),f=i(182),y=i(118),b=!y(function(S){Array.from(S)});s({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var s=i(7),f=i(84),y=i(34),b=i(85),S=i(109),x=i(128),P=f("wks"),A=s.Symbol,M=A&&A.for,D=x?A:A&&A.withoutSetter||b;u.exports=function(C){if(!y(P,C)||!(S||typeof P[C]=="string")){var B="Symbol."+C;S&&y(A,C)?P[C]=A[C]:x&&M?P[C]=M(B):P[C]=D(B)}return P[C]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var s=i(16),f=i(7),y=i(18),b=i(99),S=i(33),x=i(38),P=i(43),A=i(61),M=i(119),D=i(75),C=i(27),B=i(65),L=C("isConcatSpreadable"),X=9007199254740991,U="Maximum allowed index exceeded",ae=f.TypeError,ne=B>=51||!y(function(){var z=[];return z[L]=!1,z.concat()[0]!==z}),Q=D("concat"),J=function(z){if(!S(z))return!1;var $=z[L];return $!==void 0?!!$:b(z)},le=!ne||!Q;s({target:"Array",proto:!0,forced:le},{concat:function($){var I=x(this),w=M(I,0),R=0,W,q,ce,Me,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?I:arguments[W],J(me)){if(Me=P(me),R+Me>X)throw ae(U);for(q=0;q<Me;q++,R++)q in me&&A(w,R,me[q])}else{if(R>=X)throw ae(U);A(w,R++,me)}return w.length=R,w}})},function(u,c,i){var s=i(16),f=i(198);s({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var s=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,y=s.a||f||Function("return this")();c.a=y},function(u,c,i){var s=i(7),f=i(33),y=s.String,b=s.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not an object")}},function(u,c,i){var s=i(28);u.exports=function(f){return typeof f=="object"?f!==null:s(f)}},function(u,c,i){var s=i(15),f=i(38),y=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(S,x){return y(f(S),x)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var s=i(7),f=i(36),y=i(129),b=i(32),S=i(87),x=s.TypeError,P=Object.defineProperty;c.f=f?P:function(M,D,C){if(b(M),D=S(D),b(C),y)try{return P(M,D,C)}catch{}if("get"in C||"set"in C)throw x("Accessors not supported");return"value"in C&&(M[D]=C.value),M}},function(u,c,i){var s=i(7),f=i(45),y=s.Object;u.exports=function(b){return y(f(b))}},function(u,c,i){var s=i(81),f=i(45);u.exports=function(y){return s(f(y))}},function(u,c,i){var s=i(7),f=i(98),y=s.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var s=i(16),f=i(74).map,y=i(75),b=y("map");s({target:"Array",proto:!0,forced:!b},{map:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(s){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return S}),i.d(c,"b",function(){return x}),i.d(c,"a",function(){return A});var f=i(10),y=function(M,D){var C=typeof Symbol=="function"&&M[Symbol.iterator];if(!C)return M;var B=C.call(M),L,X=[],U;try{for(;(D===void 0||D-- >0)&&!(L=B.next()).done;)X.push(L.value)}catch(ae){U={error:ae}}finally{try{L&&!L.done&&(C=B.return)&&C.call(B)}finally{if(U)throw U.error}}return X};function b(){var M=y(Object(f.j)(0),2),D=M[1],C=Object(f.h)(function(){D(function(B){return B+1})},[]);return C}function S(M){if(!M||typeof M!="object")return!1;var D=Object.getPrototypeOf(M);return!D||D===Object.prototype}function x(M){return typeof Symbol=="function"?Symbol.for(M):"__$mobx-react "+M+"__"}var P={};function A(){return typeof window<"u"?window:typeof s<"u"?s:typeof self<"u"?self:P}}).call(this,i(82))},function(u,c,i){var s=i(90);u.exports=function(f){return s(f.length)}},function(u,c,i){var s=i(7),f=i(28),y=i(34),b=i(57),S=i(108),x=i(92),P=i(56),A=i(94).CONFIGURABLE,M=P.get,D=P.enforce,C=String(String).split("String");(u.exports=function(B,L,X,U){var ae=U?!!U.unsafe:!1,ne=U?!!U.enumerable:!1,Q=U?!!U.noTargetGet:!1,J=U&&U.name!==void 0?U.name:L,le;if(f(X)&&(String(J).slice(0,7)==="Symbol("&&(J="["+String(J).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(X,"name")||A&&X.name!==J)&&b(X,"name",J),le=D(X),le.source||(le.source=C.join(typeof J=="string"?J:""))),B===s){ne?B[L]=X:S(L,X);return}else ae?!Q&&B[L]&&(ne=!0):delete B[L];ne?B[L]=X:b(B,L,X)})(Function.prototype,"toString",function(){return f(this)&&M(this).source||x(this)})},function(u,c,i){var s=i(7),f=s.TypeError;u.exports=function(y){if(y==null)throw f("Can't call method on "+y);return y}},function(u,c,i){var s=i(7),f=i(28),y=function(b){return f(b)?b:void 0};u.exports=function(b,S){return arguments.length<2?y(s[b]):s[b]&&s[b][S]}},function(u,c,i){var s=i(16),f=i(35),y=i(33),b=i(32),S=i(200),x=i(51),P=i(96);function A(M,D){var C=arguments.length<3?M:arguments[2],B,L;if(b(M)===C)return M[D];if(B=x.f(M,D),B)return S(B)?B.value:B.get===void 0?void 0:f(B.get,C);if(y(L=P(M)))return A(L,D,C)}s({target:"Reflect",stat:!0},{get:A})},function(u,c,i){(function(s){var f=i(31),y=i(165),b=v&&!v.nodeType&&v,S=b&&typeof s=="object"&&s&&!s.nodeType&&s,x=S&&S.exports===b,P=x?f.a.Buffer:void 0,A=P?P.isBuffer:void 0,M=A||y.a;c.a=M}).call(this,i(121)(u))},function(u,c,i){(function(s){var f=i(105),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,S=b&&b.exports===y,x=S&&f.a.process,P=function(){try{var A=b&&b.require&&b.require("util").types;return A||x&&x.binding&&x.binding("util")}catch{}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var s=i(15),f=s({}.toString),y=s("".slice);u.exports=function(b){return y(f(b),8,-1)}},function(u,c,i){var s=i(36),f=i(35),y=i(93),b=i(71),S=i(39),x=i(87),P=i(34),A=i(129),M=Object.getOwnPropertyDescriptor;c.f=s?M:function(C,B){if(C=S(C),B=x(B),A)try{return M(C,B)}catch{}if(P(C,B))return b(!f(y.f,C,B),C[B])}},function(u,c,i){var s=i(16),f=i(213).entries;s({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var s=i(46);u.exports=s("navigator","userAgent")||""},function(u,c,i){var s=i(32),f=i(168),y=i(110),b=i(69),S=i(133),x=i(86),P=i(91),A=">",M="<",D="prototype",C="script",B=P("IE_PROTO"),L=function(){},X=function(J){return M+C+A+J+M+"/"+C+A},U=function(J){J.write(X("")),J.close();var le=J.parentWindow.Object;return J=null,le},ae=function(){var J=x("iframe"),le="java"+C+":",z;return J.style.display="none",S.appendChild(J),J.src=String(le),z=J.contentWindow.document,z.open(),z.write(X("document.F=Object")),z.close(),z.F},ne,Q=function(){try{ne=new ActiveXObject("htmlfile")}catch{}Q=typeof document<"u"?document.domain&&ne?U(ne):ae():U(ne);for(var J=y.length;J--;)delete Q[D][y[J]];return Q()};b[B]=!0,u.exports=Object.create||function(le,z){var $;return le!==null?(L[D]=s(le),$=new L,L[D]=null,$[B]=le):$=Q(),z===void 0?$:f($,z)}},function(u,c,i){var s=i(7),f=i(28),y=i(89),b=s.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not a function")}},function(u,c,i){var s=i(170),f=i(7),y=i(15),b=i(33),S=i(57),x=i(34),P=i(107),A=i(91),M=i(69),D="Object already initialized",C=f.TypeError,B=f.WeakMap,L,X,U,ae=function(I){return U(I)?X(I):L(I,{})},ne=function(I){return function(w){var R;if(!b(w)||(R=X(w)).type!==I)throw C("Incompatible receiver, "+I+" required");return R}};if(s||P.state){var Q=P.state||(P.state=new B),J=y(Q.get),le=y(Q.has),z=y(Q.set);L=function(I,w){if(le(Q,I))throw new C(D);return w.facade=I,z(Q,I,w),w},X=function(I){return J(Q,I)||{}},U=function(I){return le(Q,I)}}else{var $=A("state");M[$]=!0,L=function(I,w){if(x(I,$))throw new C(D);return w.facade=I,S(I,$,w),w},X=function(I){return x(I,$)?I[$]:{}},U=function(I){return x(I,$)}}u.exports={set:L,get:X,has:U,enforce:ae,getterFor:ne}},function(u,c,i){var s=i(36),f=i(37),y=i(71);u.exports=s?function(b,S,x){return f.f(b,S,y(1,x))}:function(b,S,x){return b[S]=x,b}},function(u,c,i){var s=i(15);u.exports=s({}.isPrototypeOf)},function(u,c,i){var s=i(55);u.exports=function(f,y){var b=f[y];return b==null?void 0:s(b)}},function(u,c,i){var s=i(173),f=i(177);s("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var s=i(87),f=i(37),y=i(71);u.exports=function(b,S,x){var P=s(S);P in b?f.f(b,P,y(0,x)):b[P]=x}},function(u,c,i){var s=i(15),f=i(55),y=s(s.bind);u.exports=function(b,S){return f(b),S===void 0?b:y?y(b,S):function(){return b.apply(S,arguments)}}},function(u,c,i){var s=i(16),f=i(214),y=i(83);s({target:"Array",proto:!0},{fill:f}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var s=i(7),f=i(53),y=s.process,b=s.Deno,S=y&&y.versions||b&&b.version,x=S&&S.v8,P,A;x&&(P=x.split("."),A=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!A&&f&&(P=f.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=f.match(/Chrome\/(\d+)/),P&&(A=+P[1]))),u.exports=A},function(u,c,i){var s=i(131),f=i(110);u.exports=Object.keys||function(b){return s(b,f)}},function(u,c,i){var s=i(68),f=Math.max,y=Math.min;u.exports=function(b,S){var x=s(b);return x<0?f(x+S,0):y(x,S)}},function(u,c){var i=Math.ceil,s=Math.floor;u.exports=function(f){var y=+f;return y!==y||y===0?0:(y>0?s:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,s){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:s}}},function(u,c,i){var s=i(131),f=i(110),y=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(S){return s(S,y)}},function(u,c,i){var s=i(37).f,f=i(34),y=i(27),b=y("toStringTag");u.exports=function(S,x,P){S&&!f(S=P?S:S.prototype,b)&&s(S,b,{configurable:!0,value:x})}},function(u,c,i){var s=i(62),f=i(15),y=i(81),b=i(38),S=i(43),x=i(119),P=f([].push),A=function(M){var D=M==1,C=M==2,B=M==3,L=M==4,X=M==6,U=M==7,ae=M==5||X;return function(ne,Q,J,le){for(var z=b(ne),$=y(z),I=s(Q,J),w=S($),R=0,W=le||x,q=D?W(ne,w):C||U?W(ne,0):void 0,ce,Me;w>R;R++)if((ae||R in $)&&(ce=$[R],Me=I(ce,R,z),M))if(D)q[R]=Me;else if(Me)switch(M){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(q,ce)}else switch(M){case 4:return!1;case 7:P(q,ce)}return X?-1:B||L?L:q}};u.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},function(u,c,i){var s=i(18),f=i(27),y=i(65),b=f("species");u.exports=function(S){return y>=51||!s(function(){var x=[],P=x.constructor={};return P[b]=function(){return{foo:1}},x[S](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,s=i.apply,f=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?y.bind(s):function(){return y.apply(s,arguments)})},function(u,c,i){var s=i(16),f=i(15),y=i(81),b=i(39),S=i(120),x=f([].join),P=y!=Object,A=S("join",",");s({target:"Array",proto:!0,forced:P||!A},{join:function(D){return x(b(this),D===void 0?",":D)}})},function(u,c,i){var s=i(76),f=i(35),y=i(15),b=i(122),S=i(154),x=i(32),P=i(45),A=i(156),M=i(123),D=i(90),C=i(40),B=i(59),L=i(113),X=i(124),U=i(102),ae=i(151),ne=i(18),Q=ae.UNSUPPORTED_Y,J=4294967295,le=Math.min,z=[].push,$=y(/./.exec),I=y(z),w=y("".slice),R=!ne(function(){var W=/(?:)/,q=W.exec;W.exec=function(){return q.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,q,ce){var Me;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Me=function(me,Oe){var Pe=C(P(this)),Ee=Oe===void 0?J:Oe>>>0;if(Ee===0)return[];if(me===void 0)return[Pe];if(!S(me))return f(q,Pe,me,Ee);for(var Ne=[],Le=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,Be=new RegExp(me.source,Le+"g"),Se,Ie,ke;(Se=f(U,Be,Pe))&&(Ie=Be.lastIndex,!(Ie>Ve&&(I(Ne,w(Pe,Ve,Se.index)),Se.length>1&&Se.index<Pe.length&&s(z,Ne,L(Se,1)),ke=Se[0].length,Ve=Ie,Ne.length>=Ee)));)Be.lastIndex===Se.index&&Be.lastIndex++;return Ve===Pe.length?(ke||!$(Be,""))&&I(Ne,""):I(Ne,w(Pe,Ve)),Ne.length>Ee?L(Ne,0,Ee):Ne}:"0".split(void 0,0).length?Me=function(me,Oe){return me===void 0&&Oe===0?[]:f(q,this,me,Oe)}:Me=q,[function(Oe,Pe){var Ee=P(this),Ne=Oe==null?void 0:B(Oe,W);return Ne?f(Ne,Oe,Ee,Pe):f(Me,C(Ee),Oe,Pe)},function(me,Oe){var Pe=x(this),Ee=C(me),Ne=ce(Me,Pe,Ee,Oe,Me!==q);if(Ne.done)return Ne.value;var Le=A(Pe,RegExp),Ve=Pe.unicode,Be=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(Q?"g":"y"),Se=new Le(Q?"^(?:"+Pe.source+")":Pe,Be),Ie=Oe===void 0?J:Oe>>>0;if(Ie===0)return[];if(Ee.length===0)return X(Se,Ee)===null?[Ee]:[];for(var ke=0,k=0,Y=[];k<Ee.length;){Se.lastIndex=Q?0:k;var ee=X(Se,Q?w(Ee,k):Ee),he;if(ee===null||(he=le(D(Se.lastIndex+(Q?k:0)),Ee.length))===ke)k=M(Ee,k,Ve);else{if(I(Y,w(Ee,ke,k)),Y.length===Ie)return Y;for(var xe=1;xe<=ee.length-1;xe++)if(I(Y,ee[xe]),Y.length===Ie)return Y;k=ke=he}}return I(Y,w(Ee,ke)),Y}]},!R,Q)},function(u,c,i){var s=i(36),f=i(7),y=i(15),b=i(95),S=i(44),x=i(34),P=i(143),A=i(58),M=i(88),D=i(130),C=i(18),B=i(72).f,L=i(51).f,X=i(37).f,U=i(196),ae=i(159).trim,ne="Number",Q=f[ne],J=Q.prototype,le=f.TypeError,z=y("".slice),$=y("".charCodeAt),I=function(Me){var me=D(Me,"number");return typeof me=="bigint"?me:w(me)},w=function(Me){var me=D(Me,"number"),Oe,Pe,Ee,Ne,Le,Ve,Be,Se;if(M(me))throw le("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ae(me),Oe=$(me,0),Oe===43||Oe===45){if(Pe=$(me,2),Pe===88||Pe===120)return NaN}else if(Oe===48){switch($(me,1)){case 66:case 98:Ee=2,Ne=49;break;case 79:case 111:Ee=8,Ne=55;break;default:return+me}for(Le=z(me,2),Ve=Le.length,Be=0;Be<Ve;Be++)if(Se=$(Le,Be),Se<48||Se>Ne)return NaN;return parseInt(Le,Ee)}}return+me};if(b(ne,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var R=function(me){var Oe=arguments.length<1?0:Q(I(me)),Pe=this;return A(J,Pe)&&C(function(){U(Pe)})?P(Object(Oe),Pe,R):Oe},W=s?B(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),q=0,ce;W.length>q;q++)x(Q,ce=W[q])&&!x(R,ce)&&X(R,ce,L(Q,ce));R.prototype=J,J.constructor=R,S(f,ne,R)}},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var s=i(7),f=i(15),y=i(18),b=i(50),S=s.Object,x=f("".split);u.exports=y(function(){return!S("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?x(P,""):S(P)}:S},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var s=i(27),f=i(54),y=i(37),b=s("unscopables"),S=Array.prototype;S[b]==null&&y.f(S,b,{configurable:!0,value:f(null)}),u.exports=function(x){S[b][x]=!0}},function(u,c,i){var s=i(64),f=i(107);(u.exports=function(y,b){return f[y]||(f[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var s=i(15),f=0,y=Math.random(),b=s(1 .toString);u.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+b(++f+y,36)}},function(u,c,i){var s=i(7),f=i(33),y=s.document,b=f(y)&&f(y.createElement);u.exports=function(S){return b?y.createElement(S):{}}},function(u,c,i){var s=i(130),f=i(88);u.exports=function(y){var b=s(y,"string");return f(b)?b:b+""}},function(u,c,i){var s=i(7),f=i(46),y=i(28),b=i(58),S=i(128),x=s.Object;u.exports=S?function(P){return typeof P=="symbol"}:function(P){var A=f("Symbol");return y(A)&&b(A.prototype,x(P))}},function(u,c,i){var s=i(7),f=s.String;u.exports=function(y){try{return f(y)}catch{return"Object"}}},function(u,c,i){var s=i(68),f=Math.min;u.exports=function(y){return y>0?f(s(y),9007199254740991):0}},function(u,c,i){var s=i(84),f=i(85),y=s("keys");u.exports=function(b){return y[b]||(y[b]=f(b))}},function(u,c,i){var s=i(15),f=i(28),y=i(107),b=s(Function.toString);f(y.inspectSource)||(y.inspectSource=function(S){return b(S)}),u.exports=y.inspectSource},function(u,c,i){var s={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,y=f&&!s.call({1:2},1);c.f=y?function(S){var x=f(this,S);return!!x&&x.enumerable}:s},function(u,c,i){var s=i(36),f=i(34),y=Function.prototype,b=s&&Object.getOwnPropertyDescriptor,S=f(y,"name"),x=S&&function(){}.name==="something",P=S&&(!s||s&&b(y,"name").configurable);u.exports={EXISTS:S,PROPER:x,CONFIGURABLE:P}},function(u,c,i){var s=i(18),f=i(28),y=/#|\.prototype\./,b=function(M,D){var C=x[S(M)];return C==A?!0:C==P?!1:f(D)?s(D):!!D},S=b.normalize=function(M){return String(M).replace(y,".").toLowerCase()},x=b.data={},P=b.NATIVE="N",A=b.POLYFILL="P";u.exports=b},function(u,c,i){var s=i(7),f=i(34),y=i(28),b=i(38),S=i(91),x=i(137),P=S("IE_PROTO"),A=s.Object,M=A.prototype;u.exports=x?A.getPrototypeOf:function(D){var C=b(D);if(f(C,P))return C[P];var B=C.constructor;return y(B)&&C instanceof B?B.prototype:C instanceof A?M:null}},function(u,c,i){var s=i(15),f=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,S={},x;try{x=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),x(S,[]),b=S instanceof Array}catch{}return function(A,M){return f(A),y(M),b?x(A,M):A.__proto__=M,A}}():void 0)},function(u,c,i){var s=i(7),f=i(116),y=i(28),b=i(50),S=i(27),x=S("toStringTag"),P=s.Object,A=b(function(){return arguments}())=="Arguments",M=function(D,C){try{return D[C]}catch{}};u.exports=f?b:function(D){var C,B,L;return D===void 0?"Undefined":D===null?"Null":typeof(B=M(C=P(D),x))=="string"?B:A?b(C):(L=b(C))=="Object"&&y(C.callee)?"Arguments":L}},function(u,c,i){var s=i(50);u.exports=Array.isArray||function(y){return s(y)=="Array"}},function(u,c,i){var s=i(15),f=i(18),y=i(28),b=i(98),S=i(46),x=i(92),P=function(){},A=[],M=S("Reflect","construct"),D=/^\s*(?:class|function)\b/,C=s(D.exec),B=!D.exec(P),L=function(U){if(!y(U))return!1;try{return M(P,A,U),!0}catch{return!1}},X=function(U){if(!y(U))return!1;switch(b(U)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return B||!!C(D,x(U))};u.exports=!M||f(function(){var U;return L(L.call)||!L(Object)||!L(function(){U=!0})||U})?X:L},function(u,c,i){var s=i(15);u.exports=s([].slice)},function(u,c,i){var s=i(35),f=i(15),y=i(40),b=i(184),S=i(151),x=i(84),P=i(54),A=i(56).get,M=i(185),D=i(186),C=x("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,L=B,X=f("".charAt),U=f("".indexOf),ae=f("".replace),ne=f("".slice),Q=function(){var $=/a/,I=/b*/g;return s(B,$,"a"),s(B,I,"a"),$.lastIndex!==0||I.lastIndex!==0}(),J=S.BROKEN_CARET,le=/()??/.exec("")[1]!==void 0,z=Q||le||J||M||D;z&&(L=function(I){var w=this,R=A(w),W=y(I),q=R.raw,ce,Me,me,Oe,Pe,Ee,Ne;if(q)return q.lastIndex=w.lastIndex,ce=s(L,q,W),w.lastIndex=q.lastIndex,ce;var Le=R.groups,Ve=J&&w.sticky,Be=s(b,w),Se=w.source,Ie=0,ke=W;if(Ve&&(Be=ae(Be,"y",""),U(Be,"g")===-1&&(Be+="g"),ke=ne(W,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&X(W,w.lastIndex-1)!==`
`)&&(Se="(?: "+Se+")",ke=" "+ke,Ie++),Me=new RegExp("^(?:"+Se+")",Be)),le&&(Me=new RegExp("^"+Se+"$(?!\\s)",Be)),Q&&(me=w.lastIndex),Oe=s(B,Ve?Me:w,ke),Ve?Oe?(Oe.input=ne(Oe.input,Ie),Oe[0]=ne(Oe[0],Ie),Oe.index=w.lastIndex,w.lastIndex+=Oe[0].length):w.lastIndex=0:Q&&Oe&&(w.lastIndex=w.global?Oe.index+Oe[0].length:me),le&&Oe&&Oe.length>1&&s(C,Oe[0],Me,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(Oe[Pe]=void 0)}),Oe&&Le)for(Oe.groups=Ee=P(null),Pe=0;Pe<Le.length;Pe++)Ne=Le[Pe],Ee[Ne[0]]=Oe[Ne[1]];return Oe}),u.exports=L},function(u,c,i){var s=i(16),f=i(7),y=i(67),b=i(68),S=i(43),x=i(38),P=i(119),A=i(61),M=i(75),D=M("splice"),C=f.TypeError,B=Math.max,L=Math.min,X=9007199254740991,U="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!D},{splice:function(ne,Q){var J=x(this),le=S(J),z=y(ne,le),$=arguments.length,I,w,R,W,q,ce;if($===0?I=w=0:$===1?(I=0,w=le-z):(I=$-2,w=L(B(b(Q),0),le-z)),le+I-w>X)throw C(U);for(R=P(J,w),W=0;W<w;W++)q=z+W,q in J&&A(R,W,J[q]);if(R.length=w,I<w){for(W=z;W<le-w;W++)q=W+w,ce=W+I,q in J?J[ce]=J[q]:delete J[ce];for(W=le;W>le-w+I;W--)delete J[W-1]}else if(I>w)for(W=le-w;W>z;W--)q=W+w-1,ce=W+I-1,q in J?J[ce]=J[q]:delete J[ce];for(W=0;W<I;W++)J[W+z]=arguments[W+2];return J.length=le-w+I,R}})},function(u,c,i){var s=i(16),f=i(201),y=i(202);s({target:"String",proto:!0,forced:y("anchor")},{anchor:function(S){return f(this,"a","name",S)}})},function(u,c,i){(function(s){var f=typeof s=="object"&&s&&s.Object===Object&&s;c.a=f}).call(this,i(82))},function(u,c,i){(function(s){var f=i(31),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,S=b&&b.exports===y,x=S?f.a.Buffer:void 0,P=x?x.allocUnsafe:void 0;function A(M,D){if(D)return M.slice();var C=M.length,B=P?P(C):new M.constructor(C);return M.copy(B),B}c.a=A}).call(this,i(121)(u))},function(u,c,i){var s=i(7),f=i(108),y="__core-js_shared__",b=s[y]||f(y,{});u.exports=b},function(u,c,i){var s=i(7),f=Object.defineProperty;u.exports=function(y,b){try{f(s,y,{value:b,configurable:!0,writable:!0})}catch{s[y]=b}return b}},function(u,c,i){var s=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&s&&s<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var s=i(16),f=i(35),y=i(64),b=i(94),S=i(28),x=i(171),P=i(96),A=i(97),M=i(73),D=i(57),C=i(44),B=i(27),L=i(70),X=i(136),U=b.PROPER,ae=b.CONFIGURABLE,ne=X.IteratorPrototype,Q=X.BUGGY_SAFARI_ITERATORS,J=B("iterator"),le="keys",z="values",$="entries",I=function(){return this};u.exports=function(w,R,W,q,ce,Me,me){x(W,R,q);var Oe=function(k){if(k===ce&&Ve)return Ve;if(!Q&&k in Ne)return Ne[k];switch(k){case le:return function(){return new W(this,k)};case z:return function(){return new W(this,k)};case $:return function(){return new W(this,k)}}return function(){return new W(this)}},Pe=R+" Iterator",Ee=!1,Ne=w.prototype,Le=Ne[J]||Ne["@@iterator"]||ce&&Ne[ce],Ve=!Q&&Le||Oe(ce),Be=R=="Array"&&Ne.entries||Le,Se,Ie,ke;if(Be&&(Se=P(Be.call(new w)),Se!==Object.prototype&&Se.next&&(!y&&P(Se)!==ne&&(A?A(Se,ne):S(Se[J])||C(Se,J,I)),M(Se,Pe,!0,!0),y&&(L[Pe]=I))),U&&ce==z&&Le&&Le.name!==z&&(!y&&ae?D(Ne,"name",z):(Ee=!0,Ve=function(){return f(Le,this)})),ce)if(Ie={values:Oe(z),keys:Me?Ve:Oe(le),entries:Oe($)},me)for(ke in Ie)(Q||Ee||!(ke in Ne))&&C(Ne,ke,Ie[ke]);else s({target:R,proto:!0,forced:Q||Ee},Ie);return(!y||me)&&Ne[J]!==Ve&&C(Ne,J,Ve,{name:ce}),L[R]=Ve,Ie}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var s=i(7),f=i(67),y=i(43),b=i(61),S=s.Array,x=Math.max;u.exports=function(P,A,M){for(var D=y(P),C=f(A,D),B=f(M===void 0?D:M,D),L=S(x(B-C,0)),X=0;C<B;C++,X++)b(L,X,P[C]);return L.length=X,L}},function(u,c,i){var s=i(7),f=i(62),y=i(35),b=i(32),S=i(89),x=i(140),P=i(43),A=i(58),M=i(141),D=i(115),C=i(142),B=s.TypeError,L=function(U,ae){this.stopped=U,this.result=ae},X=L.prototype;u.exports=function(U,ae,ne){var Q=ne&&ne.that,J=!!(ne&&ne.AS_ENTRIES),le=!!(ne&&ne.IS_ITERATOR),z=!!(ne&&ne.INTERRUPTED),$=f(ae,Q),I,w,R,W,q,ce,Me,me=function(Pe){return I&&C(I,"normal",Pe),new L(!0,Pe)},Oe=function(Pe){return J?(b(Pe),z?$(Pe[0],Pe[1],me):$(Pe[0],Pe[1])):z?$(Pe,me):$(Pe)};if(le)I=U;else{if(w=D(U),!w)throw B(S(U)+" is not iterable");if(x(w)){for(R=0,W=P(U);W>R;R++)if(q=Oe(U[R]),q&&A(X,q))return q;return new L(!1)}I=M(U,w)}for(ce=I.next;!(Me=y(ce,I)).done;){try{q=Oe(Me.value)}catch(Pe){C(I,"throw",Pe)}if(typeof q=="object"&&q&&A(X,q))return q}return new L(!1)}},function(u,c,i){var s=i(98),f=i(59),y=i(70),b=i(27),S=b("iterator");u.exports=function(x){if(x!=null)return f(x,S)||f(x,"@@iterator")||y[s(x)]}},function(u,c,i){var s=i(27),f=s("toStringTag"),y={};y[f]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var s=i(7),f=i(58),y=s.TypeError;u.exports=function(b,S){if(f(S,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var s=i(27),f=s("iterator"),y=!1;try{var b=0,S={next:function(){return{done:!!b++}},return:function(){y=!0}};S[f]=function(){return this},Array.from(S,function(){throw 2})}catch{}u.exports=function(x,P){if(!P&&!y)return!1;var A=!1;try{var M={};M[f]=function(){return{next:function(){return{done:A=!0}}}},x(M)}catch{}return A}},function(u,c,i){var s=i(180);u.exports=function(f,y){return new(s(f))(y===0?0:y)}},function(u,c,i){var s=i(18);u.exports=function(f,y){var b=[][f];return!!b&&s(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var s=Object.create(i);s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),Object.defineProperty(s,"exports",{enumerable:!0}),s.webpackPolyfill=1}return s}},function(u,c,i){i(19);var s=i(15),f=i(44),y=i(102),b=i(18),S=i(27),x=i(57),P=S("species"),A=RegExp.prototype;u.exports=function(M,D,C,B){var L=S(M),X=!b(function(){var Q={};return Q[L]=function(){return 7},""[M](Q)!=7}),U=X&&!b(function(){var Q=!1,J=/a/;return M==="split"&&(J={},J.constructor={},J.constructor[P]=function(){return J},J.flags="",J[L]=/./[L]),J.exec=function(){return Q=!0,null},J[L](""),!Q});if(!X||!U||C){var ae=s(/./[L]),ne=D(L,""[M],function(Q,J,le,z,$){var I=s(Q),w=J.exec;return w===y||w===A.exec?X&&!$?{done:!0,value:ae(J,le,z)}:{done:!0,value:I(le,J,z)}:{done:!1}});f(String.prototype,M,ne[0]),f(A,L,ne[1])}B&&x(A[L],"sham",!0)}},function(u,c,i){var s=i(146).charAt;u.exports=function(f,y,b){return y+(b?s(f,y).length:1)}},function(u,c,i){var s=i(7),f=i(35),y=i(32),b=i(28),S=i(50),x=i(102),P=s.TypeError;u.exports=function(A,M){var D=A.exec;if(b(D)){var C=f(D,A,M);return C!==null&&y(C),C}if(S(A)==="RegExp")return f(x,A,M);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var s=i(76),f=i(35),y=i(15),b=i(122),S=i(18),x=i(32),P=i(28),A=i(68),M=i(90),D=i(40),C=i(45),B=i(123),L=i(59),X=i(197),U=i(124),ae=i(27),ne=ae("replace"),Q=Math.max,J=Math.min,le=y([].concat),z=y([].push),$=y("".indexOf),I=y("".slice),w=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[ne]?/./[ne]("a","$0")==="":!1}(),q=!S(function(){var ce=/./;return ce.exec=function(){var Me=[];return Me.groups={a:"7"},Me},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Me,me){var Oe=W?"$":"$0";return[function(Ee,Ne){var Le=C(this),Ve=Ee==null?void 0:L(Ee,ne);return Ve?f(Ve,Ee,Le,Ne):f(Me,D(Le),Ee,Ne)},function(Pe,Ee){var Ne=x(this),Le=D(Pe);if(typeof Ee=="string"&&$(Ee,Oe)===-1&&$(Ee,"$<")===-1){var Ve=me(Me,Ne,Le,Ee);if(Ve.done)return Ve.value}var Be=P(Ee);Be||(Ee=D(Ee));var Se=Ne.global;if(Se){var Ie=Ne.unicode;Ne.lastIndex=0}for(var ke=[];;){var k=U(Ne,Le);if(k===null||(z(ke,k),!Se))break;var Y=D(k[0]);Y===""&&(Ne.lastIndex=B(Le,M(Ne.lastIndex),Ie))}for(var ee="",he=0,xe=0;xe<ke.length;xe++){k=ke[xe];for(var pe=D(k[0]),ze=Q(J(A(k.index),Le.length),0),tt=[],We=1;We<k.length;We++)z(tt,w(k[We]));var nt=k.groups;if(Be){var ve=le([pe],tt,ze,Le);nt!==void 0&&z(ve,nt);var ut=D(s(Ee,void 0,ve))}else ut=X(pe,Le,ze,tt,nt,Ee);ze>=he&&(ee+=I(Le,he,ze)+ut,he=ze+pe.length)}return ee+I(Le,he)}]},!q||!R||W)},function(u,c,i){var s=i(50),f=i(7);u.exports=s(f.process)=="process"},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var s=i(109);u.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var s=i(36),f=i(18),y=i(86);u.exports=!s&&!f(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var s=i(7),f=i(35),y=i(33),b=i(88),S=i(59),x=i(169),P=i(27),A=s.TypeError,M=P("toPrimitive");u.exports=function(D,C){if(!y(D)||b(D))return D;var B=S(D,M),L;if(B){if(C===void 0&&(C="default"),L=f(B,D,C),!y(L)||b(L))return L;throw A("Can't convert object to primitive value")}return C===void 0&&(C="number"),x(D,C)}},function(u,c,i){var s=i(15),f=i(34),y=i(39),b=i(132).indexOf,S=i(69),x=s([].push);u.exports=function(P,A){var M=y(P),D=0,C=[],B;for(B in M)!f(S,B)&&f(M,B)&&x(C,B);for(;A.length>D;)f(M,B=A[D++])&&(~b(C,B)||x(C,B));return C}},function(u,c,i){var s=i(39),f=i(67),y=i(43),b=function(S){return function(x,P,A){var M=s(x),D=y(M),C=f(A,D),B;if(S&&P!=P){for(;D>C;)if(B=M[C++],B!=B)return!0}else for(;D>C;C++)if((S||C in M)&&M[C]===P)return S||C||0;return!S&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var s=i(46);u.exports=s("document","documentElement")},function(u,c,i){var s=i(34),f=i(135),y=i(51),b=i(37);u.exports=function(S,x){for(var P=f(x),A=b.f,M=y.f,D=0;D<P.length;D++){var C=P[D];s(S,C)||A(S,C,M(x,C))}}},function(u,c,i){var s=i(46),f=i(15),y=i(72),b=i(112),S=i(32),x=f([].concat);u.exports=s("Reflect","ownKeys")||function(A){var M=y.f(S(A)),D=b.f;return D?x(M,D(A)):M}},function(u,c,i){var s=i(18),f=i(28),y=i(54),b=i(96),S=i(44),x=i(27),P=i(64),A=x("iterator"),M=!1,D,C,B;[].keys&&(B=[].keys(),"next"in B?(C=b(b(B)),C!==Object.prototype&&(D=C)):M=!0);var L=D==null||s(function(){var X={};return D[A].call(X)!==X});L?D={}:P&&(D=y(D)),f(D[A])||S(D,A,function(){return this}),u.exports={IteratorPrototype:D,BUGGY_SAFARI_ITERATORS:M}},function(u,c,i){var s=i(18);u.exports=!s(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var s=i(16),f=i(15),y=i(69),b=i(33),S=i(34),x=i(37).f,P=i(72),A=i(139),M=i(174),D=i(85),C=i(176),B=!1,L=D("meta"),X=0,U=function(z){x(z,L,{value:{objectID:"O"+X++,weakData:{}}})},ae=function(z,$){if(!b(z))return typeof z=="symbol"?z:(typeof z=="string"?"S":"P")+z;if(!S(z,L)){if(!M(z))return"F";if(!$)return"E";U(z)}return z[L].objectID},ne=function(z,$){if(!S(z,L)){if(!M(z))return!0;if(!$)return!1;U(z)}return z[L].weakData},Q=function(z){return C&&B&&M(z)&&!S(z,L)&&U(z),z},J=function(){le.enable=function(){},B=!0;var z=P.f,$=f([].splice),I={};I[L]=1,z(I).length&&(P.f=function(w){for(var R=z(w),W=0,q=R.length;W<q;W++)if(R[W]===L){$(R,W,1);break}return R},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A.f}))},le=u.exports={enable:J,fastKey:ae,getWeakData:ne,onFreeze:Q};y[L]=!0},function(u,c,i){var s=i(50),f=i(39),y=i(72).f,b=i(113),S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],x=function(P){try{return y(P)}catch{return b(S)}};u.exports.f=function(A){return S&&s(A)=="Window"?x(A):y(f(A))}},function(u,c,i){var s=i(27),f=i(70),y=s("iterator"),b=Array.prototype;u.exports=function(S){return S!==void 0&&(f.Array===S||b[y]===S)}},function(u,c,i){var s=i(7),f=i(35),y=i(55),b=i(32),S=i(89),x=i(115),P=s.TypeError;u.exports=function(A,M){var D=arguments.length<2?x(A):M;if(y(D))return b(f(D,A));throw P(S(A)+" is not iterable")}},function(u,c,i){var s=i(35),f=i(32),y=i(59);u.exports=function(b,S,x){var P,A;f(b);try{if(P=y(b,"return"),!P){if(S==="throw")throw x;return x}P=s(P,b)}catch(M){A=!0,P=M}if(S==="throw")throw x;if(A)throw P;return f(P),x}},function(u,c,i){var s=i(28),f=i(33),y=i(97);u.exports=function(b,S,x){var P,A;return y&&s(P=S.constructor)&&P!==x&&f(A=P.prototype)&&A!==x.prototype&&y(b,A),b}},function(u,c,i){var s=i(44);u.exports=function(f,y,b){for(var S in y)s(f,S,y[S],b);return f}},function(u,c,i){var s=i(46),f=i(37),y=i(27),b=i(36),S=y("species");u.exports=function(x){var P=s(x),A=f.f;b&&P&&!P[S]&&A(P,S,{configurable:!0,get:function(){return this}})}},function(u,c,i){var s=i(15),f=i(68),y=i(40),b=i(45),S=s("".charAt),x=s("".charCodeAt),P=s("".slice),A=function(M){return function(D,C){var B=y(b(D)),L=f(C),X=B.length,U,ae;return L<0||L>=X?M?"":void 0:(U=x(B,L),U<55296||U>56319||L+1===X||(ae=x(B,L+1))<56320||ae>57343?M?S(B,L):U:M?P(B,L,L+2):(U-55296<<10)+(ae-56320)+65536)}};u.exports={codeAt:A(!1),charAt:A(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var s=i(86),f=s("span").classList,y=f&&f.constructor&&f.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var s=i(27);c.f=s},function(u,c,i){var s=i(181),f=i(34),y=i(149),b=i(37).f;u.exports=function(S){var x=s.Symbol||(s.Symbol={});f(x,S)||b(x,S,{value:y.f(S)})}},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp,b=s(function(){var P=y("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),S=b||s(function(){return!y("a","y").sticky}),x=b||s(function(){var P=y("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:x,MISSED_STICKY:S,UNSUPPORTED_Y:b}},function(u,c,i){var s=i(16),f=i(132).includes,y=i(83);s({target:"Array",proto:!0},{includes:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var s=i(16),f=i(15),y=i(193),b=i(45),S=i(40),x=i(194),P=f("".indexOf);s({target:"String",proto:!0,forced:!x("includes")},{includes:function(M){return!!~P(S(b(this)),S(y(M)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(33),f=i(50),y=i(27),b=y("match");u.exports=function(S){var x;return s(S)&&((x=S[b])!==void 0?!!x:f(S)=="RegExp")}},function(u,c){var i=u.exports={},s,f;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=y}catch{s=y}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch{f=b}})();function S(U){if(s===setTimeout)return setTimeout(U,0);if((s===y||!s)&&setTimeout)return s=setTimeout,setTimeout(U,0);try{return s(U,0)}catch{try{return s.call(null,U,0)}catch{return s.call(this,U,0)}}}function x(U){if(f===clearTimeout)return clearTimeout(U);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(U);try{return f(U)}catch{try{return f.call(null,U)}catch{return f.call(this,U)}}}var P=[],A=!1,M,D=-1;function C(){!A||!M||(A=!1,M.length?P=M.concat(P):D=-1,P.length&&B())}function B(){if(!A){var U=S(C);A=!0;for(var ae=P.length;ae;){for(M=P,P=[];++D<ae;)M&&M[D].run();D=-1,ae=P.length}M=null,A=!1,x(U)}}i.nextTick=function(U){var ae=new Array(arguments.length-1);if(arguments.length>1)for(var ne=1;ne<arguments.length;ne++)ae[ne-1]=arguments[ne];P.push(new L(U,ae)),P.length===1&&!A&&S(B)};function L(U,ae){this.fun=U,this.array=ae}L.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function X(){}i.on=X,i.addListener=X,i.once=X,i.off=X,i.removeListener=X,i.removeAllListeners=X,i.emit=X,i.prependListener=X,i.prependOnceListener=X,i.listeners=function(U){return[]},i.binding=function(U){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(U){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var s=i(32),f=i(157),y=i(27),b=y("species");u.exports=function(S,x){var P=s(S).constructor,A;return P===void 0||(A=s(P)[b])==null?x:f(A)}},function(u,c,i){var s=i(7),f=i(100),y=i(89),b=s.TypeError;u.exports=function(S){if(f(S))return S;throw b(y(S)+" is not a constructor")}},function(u,c,i){var s=i(16),f=i(159).trim,y=i(195);s({target:"String",proto:!0,forced:y("trim")},{trim:function(){return f(this)}})},function(u,c,i){var s=i(15),f=i(45),y=i(40),b=i(160),S=s("".replace),x="["+b+"]",P=RegExp("^"+x+x+"*"),A=RegExp(x+x+"*$"),M=function(D){return function(C){var B=y(f(C));return D&1&&(B=S(B,P,"")),D&2&&(B=S(B,A,"")),B}};u.exports={start:M(1),end:M(2),trim:M(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var s=i(35),f=i(122),y=i(32),b=i(90),S=i(40),x=i(45),P=i(59),A=i(123),M=i(124);f("match",function(D,C,B){return[function(X){var U=x(this),ae=X==null?void 0:P(X,D);return ae?s(ae,X,U):new RegExp(X)[D](S(U))},function(L){var X=y(this),U=S(L),ae=B(C,X,U);if(ae.done)return ae.value;if(!X.global)return M(X,U);var ne=X.unicode;X.lastIndex=0;for(var Q=[],J=0,le;(le=M(X,U))!==null;){var z=S(le[0]);Q[J]=z,z===""&&(X.lastIndex=A(U,b(X.lastIndex),ne)),J++}return J===0?null:Q}]})},function(u,c,i){var s=i(7),f=i(76),y=i(62),b=i(28),S=i(34),x=i(18),P=i(133),A=i(101),M=i(86),D=i(163),C=i(126),B=s.setImmediate,L=s.clearImmediate,X=s.process,U=s.Dispatch,ae=s.Function,ne=s.MessageChannel,Q=s.String,J=0,le={},z="onreadystatechange",$,I,w,R;try{$=s.location}catch{}var W=function(me){if(S(le,me)){var Oe=le[me];delete le[me],Oe()}},q=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Me=function(me){s.postMessage(Q(me),$.protocol+"//"+$.host)};(!B||!L)&&(B=function(Oe){var Pe=A(arguments,1);return le[++J]=function(){f(b(Oe)?Oe:ae(Oe),void 0,Pe)},I(J),J},L=function(Oe){delete le[Oe]},C?I=function(me){X.nextTick(q(me))}:U&&U.now?I=function(me){U.now(q(me))}:ne&&!D?(w=new ne,R=w.port2,w.port1.onmessage=ce,I=y(R.postMessage,R)):s.addEventListener&&b(s.postMessage)&&!s.importScripts&&$&&$.protocol!=="file:"&&!x(Me)?(I=Me,s.addEventListener("message",ce,!1)):z in M("script")?I=function(me){P.appendChild(M("script"))[z]=function(){P.removeChild(this),W(me)}}:I=function(me){setTimeout(q(me),0)}),u.exports={set:B,clear:L}},function(u,c,i){var s=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},function(u,c,i){var s=i(55),f=function(y){var b,S;this.promise=new y(function(x,P){if(b!==void 0||S!==void 0)throw TypeError("Bad Promise constructor");b=x,S=P}),this.resolve=s(b),this.reject=s(S)};u.exports.f=function(y){return new f(y)}},function(u,c,i){function s(){return!1}c.a=s},function(u,c,i){(function(s){i.d(c,"a",function(){return J});var f=i(0);function y(z){throw new Error("[mobx-utils] "+z)}function b(z,$){$===void 0&&($="Illegal state"),z||y($)}var S=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(S(Object.getPrototypeOf(z))||[])},x=function(z){var $=S(z),I=$.filter(function(w,R){return $.indexOf(w)===R});return I},P=function(z){return x(z).filter(function($){return $!=="constructor"&&!~$.indexOf("__")})},A="pending",M="fulfilled",D="rejected";function C(z){switch(this.state){case A:return z.pending&&z.pending(this.value);case D:return z.rejected&&z.rejected(this.value);case M:return z.fulfilled?z.fulfilled(this.value):this.value}}function B(z,$){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var I=z;z.then(Object(f.k)("observableFromPromise-resolve",function(R){I.value=R,I.state=M}),Object(f.k)("observableFromPromise-reject",function(R){I.value=R,I.state=D})),I.isPromiseBasedObservable=!0,I.case=C;var w=$&&$.state===M?$.value:void 0;return Object(f.q)(I,{value:w,state:A},{},{deep:!1}),I}(function(z){z.reject=Object(f.k)("fromPromise.reject",function(I){var w=z(Promise.reject(I));return w.state=D,w.value=I,w});function $(I){I===void 0&&(I=void 0);var w=z(Promise.resolve(I));return w.state=M,w.value=I,w}z.resolve=Object(f.k)("fromPromise.resolve",$)})(B||(B={}));var L=function(z,$,I,w){var R=arguments.length,W=R<3?$:w===null?w=Object.getOwnPropertyDescriptor($,I):w,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,$,I,w);else for(var ce=z.length-1;ce>=0;ce--)(q=z[ce])&&(W=(R<3?q(W):R>3?q($,I,W):q($,I))||W);return R>3&&W&&Object.defineProperty($,I,W),W};(function(){function z($,I){var w=this;Object(f.G)(function(){w.current=I,w.subscription=$.subscribe(w)})}return z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function($){this.current=$},z.prototype.complete=function(){this.dispose()},z.prototype.error=function($){this.current=$,this.dispose()},L([f.C.ref],z.prototype,"current",void 0),L([f.k.bound],z.prototype,"next",null),L([f.k.bound],z.prototype,"complete",null),L([f.k.bound],z.prototype,"error",null),z})();var X=function(){return X=Object.assign||function(z){for(var $,I=1,w=arguments.length;I<w;I++){$=arguments[I];for(var R in $)Object.prototype.hasOwnProperty.call($,R)&&(z[R]=$[R])}return z},X.apply(this,arguments)},U=function(z,$,I,w){var R=arguments.length,W=R<3?$:w===null?w=Object.getOwnPropertyDescriptor($,I):w,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(z,$,I,w);else for(var ce=z.length-1;ce>=0;ce--)(q=z[ce])&&(W=(R<3?q(W):R>3?q($,I,W):q($,I))||W);return R>3&&W&&Object.defineProperty($,I,W),W},ae=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z($){var I=this;this.model=$,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(w){return I.localValues.has(w)},b(Object(f.A)($),"createViewModel expects an observable object"),P($).forEach(function(w){if(!(w===f.a||w==="__mobxDidRunLazyInitializers")){if(b(ae.indexOf(w)===-1,"The propertyname "+w+" is reserved and cannot be used with viewModels"),Object(f.w)($,w)){var R=Object(f.h)($,w).derivation;I.localComputedValues.set(w,Object(f.m)(R.bind(I)))}var W=Object.getOwnPropertyDescriptor($,w),q=W?{enumerable:W.enumerable}:{};Object.defineProperty(I,w,X(X({},q),{configurable:!0,get:function(){return Object(f.w)($,w)?I.localComputedValues.get(w).get():I.isPropertyDirty(w)?I.localValues.get(w):I.model[w]},set:Object(f.k)(function(ce){ce!==I.model[w]?I.localValues.set(w,ce):I.localValues.delete(w)})}))}})}return Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var $=this;Object(f.B)(this.localValues).forEach(function(I){var w=$.localValues.get(I),R=$.model[I];Object(f.y)(R)?R.replace(w):Object(f.z)(R)?(R.clear(),R.merge(w)):Object(f.v)(w)||($.model[I]=w)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function($){this.localValues.delete($)},U([f.m],z.prototype,"isDirty",null),U([f.m],z.prototype,"changedValues",null),U([f.k.bound],z.prototype,"submit",null),U([f.k.bound],z.prototype,"reset",null),U([f.k.bound],z.prototype,"resetProperty",null),z})();function ne(z){if(!z)return"ROOT";for(var $=[];z.parent;)$.push(z.path),z=z.parent;return $.reverse().join("/")}function Q(z){return Object(f.A)(z)||Object(f.y)(z)||Object(f.z)(z)}function J(z,$){var I=new WeakMap;function w(ce){var Me=I.get(ce.object);R(ce,Me),$(ce,ne(Me),z)}function R(ce,Me){switch(ce.type){case"add":W(ce.newValue,Me,ce.name);break;case"update":q(ce.oldValue),W(ce.newValue,Me,ce.name||""+ce.index);break;case"remove":case"delete":q(ce.oldValue);break;case"splice":ce.removed.map(q),ce.added.forEach(function(Pe,Ee){return W(Pe,Me,""+(ce.index+Ee))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(Q(ce.object[me])){var Oe=I.get(ce.object[me]);Oe&&(Oe.path=""+me)}break}}function W(ce,Me,me){if(Q(ce)){var Oe=I.get(ce);if(Oe){if(Oe.parent!==Me||Oe.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+ne(Me)+"/"+me+"',")+(" but it already exists at '"+ne(Oe.parent)+"/"+Oe.path+"'"))}else{var Pe={parent:Me,path:me,dispose:Object(f.D)(ce,w)};I.set(ce,Pe),Object(f.p)(ce).forEach(function(Ee){var Ne=Ee[0],Le=Ee[1];return W(Le,Pe,Ne)})}}}function q(ce){if(Q(ce)){var Me=I.get(ce);if(!Me)return;I.delete(ce),Me.dispose(),Object(f.L)(ce).forEach(q)}}return W(z,void 0,""),function(){q(z)}}var le=function(){var z=function($,I){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var W in R)R.hasOwnProperty(W)&&(w[W]=R[W])},z($,I)};return function($,I){z($,I);function w(){this.constructor=$}$.prototype=I===null?Object.create(I):(w.prototype=I.prototype,new w)}}();(function(z){le($,z);function $(I,w,R){var W=R===void 0?{}:R,q=W.name,ce=q===void 0?"ogm"+(Math.random()*1e3|0):q,Me=W.keyToName,me=Me===void 0?function(Ee){return""+Ee}:Me,Oe=z.call(this)||this;Oe._keyToName=me,Oe._groupBy=w,Oe._ogmInfoKey=Symbol("ogmInfo"+ce),Oe._base=I;for(var Pe=0;Pe<I.length;Pe++)Oe._addItem(I[Pe]);return Oe._disposeBaseObserver=Object(f.D)(Oe._base,function(Ee){if(Ee.type==="splice")Object(f.J)(function(){for(var Ne=0,Le=Ee.removed;Ne<Le.length;Ne++){var Ve=Le[Ne];Oe._removeItem(Ve)}for(var Be=0,Se=Ee.added;Be<Se.length;Be++){var Ie=Se[Be];Oe._addItem(Ie)}});else if(Ee.type==="update")Object(f.J)(function(){Oe._removeItem(Ee.oldValue),Oe._addItem(Ee.newValue)});else throw new Error("illegal state")}),Oe}return $.prototype.clear=function(){throw new Error("not supported")},$.prototype.delete=function(I){throw new Error("not supported")},$.prototype.set=function(I,w){throw new Error("not supported")},$.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var w=this._base[I],R=w[this._ogmInfoKey];R.reaction(),delete w[this._ogmInfoKey]}},$.prototype._getGroupArr=function(I){var w=z.prototype.get.call(this,I);return w===void 0&&(w=Object(f.C)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),z.prototype.set.call(this,I,w)),w},$.prototype._removeFromGroupArr=function(I,w){var R=z.prototype.get.call(this,I);R.length===1?z.prototype.delete.call(this,I):(w===R.length-1||(R[w]=R[R.length-1],R[w][this._ogmInfoKey].groupArrIndex=w),R.length--)},$.prototype._addItem=function(I){var w=this,R=this._groupBy(I),W=this._getGroupArr(R),q={groupByValue:R,groupArrIndex:W.length,reaction:Object(f.F)(function(){return w._groupBy(I)},function(ce,Me){var me=I[w._ogmInfoKey];w._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var Oe=w._getGroupArr(ce),Pe=Oe.length;Oe.push(I),me.groupByValue=ce,me.groupArrIndex=Pe})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:q}),W.push(I)},$.prototype._removeItem=function(I){var w=I[this._ogmInfoKey];this._removeFromGroupArr(w.groupByValue,w.groupArrIndex),w.reaction(),delete I[this._ogmInfoKey]},$})(f.b),Promise.resolve(),typeof queueMicrotask<"u"||typeof s<"u"&&s.nextTick}).call(this,i(155))},function(u,c,i){var s;(function(f,y,b){if(!f)return;for(var S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M,D=1;D<20;++D)S[111+D]="f"+D;for(D=0;D<=9;++D)S[D+96]=D.toString();function C(w,R,W){if(w.addEventListener){w.addEventListener(R,W,!1);return}w.attachEvent("on"+R,W)}function B(w){if(w.type=="keypress"){var R=String.fromCharCode(w.which);return w.shiftKey||(R=R.toLowerCase()),R}return S[w.which]?S[w.which]:x[w.which]?x[w.which]:String.fromCharCode(w.which).toLowerCase()}function L(w,R){return w.sort().join(",")===R.sort().join(",")}function X(w){var R=[];return w.shiftKey&&R.push("shift"),w.altKey&&R.push("alt"),w.ctrlKey&&R.push("ctrl"),w.metaKey&&R.push("meta"),R}function U(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function ae(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function ne(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function Q(){if(!M){M={};for(var w in S)w>95&&w<112||S.hasOwnProperty(w)&&(M[S[w]]=w)}return M}function J(w,R,W){return W||(W=Q()[w]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function le(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function z(w,R){var W,q,ce,Me=[];for(W=le(w),ce=0;ce<W.length;++ce)q=W[ce],A[q]&&(q=A[q]),R&&R!="keypress"&&P[q]&&(q=P[q],Me.push("shift")),ne(q)&&Me.push(q);return R=J(q,Me,R),{key:q,modifiers:Me,action:R}}function $(w,R){return w===null||w===y?!1:w===R?!0:$(w.parentNode,R)}function I(w){var R=this;if(w=w||y,!(R instanceof I))return new I(w);R.target=w,R._callbacks={},R._directMap={};var W={},q,ce=!1,Me=!1,me=!1;function Oe(Se){Se=Se||{};var Ie=!1,ke;for(ke in W){if(Se[ke]){Ie=!0;continue}W[ke]=0}Ie||(me=!1)}function Pe(Se,Ie,ke,k,Y,ee){var he,xe,pe=[],ze=ke.type;if(!R._callbacks[Se])return[];for(ze=="keyup"&&ne(Se)&&(Ie=[Se]),he=0;he<R._callbacks[Se].length;++he)if(xe=R._callbacks[Se][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&ze==xe.action&&(ze=="keypress"&&!ke.metaKey&&!ke.ctrlKey||L(Ie,xe.modifiers))){var tt=!k&&xe.combo==Y,We=k&&xe.seq==k&&xe.level==ee;(tt||We)&&R._callbacks[Se].splice(he,1),pe.push(xe)}return pe}function Ee(Se,Ie,ke,k){R.stopCallback(Ie,Ie.target||Ie.srcElement,ke,k)||Se(Ie,ke)===!1&&(U(Ie),ae(Ie))}R._handleKey=function(Se,Ie,ke){var k=Pe(Se,Ie,ke),Y,ee={},he=0,xe=!1;for(Y=0;Y<k.length;++Y)k[Y].seq&&(he=Math.max(he,k[Y].level));for(Y=0;Y<k.length;++Y){if(k[Y].seq){if(k[Y].level!=he)continue;xe=!0,ee[k[Y].seq]=1,Ee(k[Y].callback,ke,k[Y].combo,k[Y].seq);continue}xe||Ee(k[Y].callback,ke,k[Y].combo)}var pe=ke.type=="keypress"&&Me;ke.type==me&&!ne(Se)&&!pe&&Oe(ee),Me=xe&&ke.type=="keydown"};function Ne(Se){typeof Se.which!="number"&&(Se.which=Se.keyCode);var Ie=B(Se);if(!!Ie){if(Se.type=="keyup"&&ce===Ie){ce=!1;return}R.handleKey(Ie,X(Se),Se)}}function Le(){clearTimeout(q),q=setTimeout(Oe,1e3)}function Ve(Se,Ie,ke,k){W[Se]=0;function Y(ze){return function(){me=ze,++W[Se],Le()}}function ee(ze){Ee(ke,ze,Se),k!=="keyup"&&(ce=B(ze)),setTimeout(Oe,10)}for(var he=0;he<Ie.length;++he){var xe=he+1===Ie.length,pe=xe?ee:Y(k||z(Ie[he+1]).action);Be(Ie[he],pe,k,Se,he)}}function Be(Se,Ie,ke,k,Y){R._directMap[Se+":"+ke]=Ie,Se=Se.replace(/\s+/g," ");var ee=Se.split(" "),he;if(ee.length>1){Ve(Se,ee,Ie,ke);return}he=z(Se,ke),R._callbacks[he.key]=R._callbacks[he.key]||[],Pe(he.key,he.modifiers,{type:he.action},k,Se,Y),R._callbacks[he.key][k?"unshift":"push"]({callback:Ie,modifiers:he.modifiers,action:he.action,seq:k,level:Y,combo:Se})}R._bindMultiple=function(Se,Ie,ke){for(var k=0;k<Se.length;++k)Be(Se[k],Ie,ke)},C(w,"keypress",Ne),C(w,"keydown",Ne),C(w,"keyup",Ne)}I.prototype.bind=function(w,R,W){var q=this;return w=w instanceof Array?w:[w],q._bindMultiple.call(q,w,R,W),q},I.prototype.unbind=function(w,R){var W=this;return W.bind.call(W,w,function(){},R)},I.prototype.trigger=function(w,R){var W=this;return W._directMap[w+":"+R]&&W._directMap[w+":"+R]({},w),W},I.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},I.prototype.stopCallback=function(w,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||$(R,W.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var q=w.composedPath()[0];q!==w.target&&(R=q)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},I.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},I.addKeycodes=function(w){for(var R in w)w.hasOwnProperty(R)&&(S[R]=w[R]);M=null},I.init=function(){var w=I(y);for(var R in w)R.charAt(0)!=="_"&&(I[R]=function(W){return function(){return w[W].apply(w,arguments)}}(R))},I.init(),f.Mousetrap=I,u.exports&&(u.exports=I),s=function(){return I}.call(c,i,c,u),s!==b&&(u.exports=s)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,c,i){var s=i(36),f=i(37),y=i(32),b=i(39),S=i(66);u.exports=s?Object.defineProperties:function(P,A){y(P);for(var M=b(A),D=S(A),C=D.length,B=0,L;C>B;)f.f(P,L=D[B++],M[L]);return P}},function(u,c,i){var s=i(7),f=i(35),y=i(28),b=i(33),S=s.TypeError;u.exports=function(x,P){var A,M;if(P==="string"&&y(A=x.toString)&&!b(M=f(A,x))||y(A=x.valueOf)&&!b(M=f(A,x))||P!=="string"&&y(A=x.toString)&&!b(M=f(A,x)))return M;throw S("Can't convert object to primitive value")}},function(u,c,i){var s=i(7),f=i(28),y=i(92),b=s.WeakMap;u.exports=f(b)&&/native code/.test(y(b))},function(u,c,i){var s=i(136).IteratorPrototype,f=i(54),y=i(71),b=i(73),S=i(70),x=function(){return this};u.exports=function(P,A,M,D){var C=A+" Iterator";return P.prototype=f(s,{next:y(+!D,M)}),b(P,C,!1,!0),S[C]=x,P}},function(u,c,i){var s=i(7),f=i(28),y=s.String,b=s.TypeError;u.exports=function(S){if(typeof S=="object"||f(S))return S;throw b("Can't set "+y(S)+" as a prototype")}},function(u,c,i){var s=i(16),f=i(7),y=i(15),b=i(95),S=i(44),x=i(138),P=i(114),A=i(117),M=i(28),D=i(33),C=i(18),B=i(118),L=i(73),X=i(143);u.exports=function(U,ae,ne){var Q=U.indexOf("Map")!==-1,J=U.indexOf("Weak")!==-1,le=Q?"set":"add",z=f[U],$=z&&z.prototype,I=z,w={},R=function(Pe){var Ee=y($[Pe]);S($,Pe,Pe=="add"?function(Le){return Ee(this,Le===0?0:Le),this}:Pe=="delete"?function(Ne){return J&&!D(Ne)?!1:Ee(this,Ne===0?0:Ne)}:Pe=="get"?function(Le){return J&&!D(Le)?void 0:Ee(this,Le===0?0:Le)}:Pe=="has"?function(Le){return J&&!D(Le)?!1:Ee(this,Le===0?0:Le)}:function(Le,Ve){return Ee(this,Le===0?0:Le,Ve),this})},W=b(U,!M(z)||!(J||$.forEach&&!C(function(){new z().entries().next()})));if(W)I=ne.getConstructor(ae,U,Q,le),x.enable();else if(b(U,!0)){var q=new I,ce=q[le](J?{}:-0,1)!=q,Me=C(function(){q.has(1)}),me=B(function(Pe){new z(Pe)}),Oe=!J&&C(function(){for(var Pe=new z,Ee=5;Ee--;)Pe[le](Ee,Ee);return!Pe.has(-0)});me||(I=ae(function(Pe,Ee){A(Pe,$);var Ne=X(new z,Pe,I);return Ee!=null&&P(Ee,Ne[le],{that:Ne,AS_ENTRIES:Q}),Ne}),I.prototype=$,$.constructor=I),(Me||Oe)&&(R("delete"),R("has"),Q&&R("get")),(Oe||ce)&&R(le),J&&$.clear&&delete $.clear}return w[U]=I,s({global:!0,forced:I!=z},w),L(I,U),J||ne.setStrong(I,U,Q),I}},function(u,c,i){var s=i(18),f=i(33),y=i(50),b=i(175),S=Object.isExtensible,x=s(function(){});u.exports=x||b?function(A){return!f(A)||b&&y(A)=="ArrayBuffer"?!1:S?S(A):!0}:S},function(u,c,i){var s=i(18);u.exports=s(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var s=i(37).f,f=i(54),y=i(144),b=i(62),S=i(117),x=i(114),P=i(111),A=i(145),M=i(36),D=i(138).fastKey,C=i(56),B=C.set,L=C.getterFor;u.exports={getConstructor:function(X,U,ae,ne){var Q=X(function(I,w){S(I,J),B(I,{type:U,index:f(null),first:void 0,last:void 0,size:0}),M||(I.size=0),w!=null&&x(w,I[ne],{that:I,AS_ENTRIES:ae})}),J=Q.prototype,le=L(U),z=function(I,w,R){var W=le(I),q=$(I,w),ce,Me;return q?q.value=R:(W.last=q={index:Me=D(w,!0),key:w,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=q),ce&&(ce.next=q),M?W.size++:I.size++,Me!=="F"&&(W.index[Me]=q)),I},$=function(I,w){var R=le(I),W=D(w),q;if(W!=="F")return R.index[W];for(q=R.first;q;q=q.next)if(q.key==w)return q};return y(J,{clear:function(){for(var w=this,R=le(w),W=R.index,q=R.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete W[q.index],q=q.next;R.first=R.last=void 0,M?R.size=0:w.size=0},delete:function(I){var w=this,R=le(w),W=$(w,I);if(W){var q=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=q),q&&(q.previous=ce),R.first==W&&(R.first=q),R.last==W&&(R.last=ce),M?R.size--:w.size--}return!!W},forEach:function(w){for(var R=le(this),W=b(w,arguments.length>1?arguments[1]:void 0),q;q=q?q.next:R.first;)for(W(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(w){return!!$(this,w)}}),y(J,ae?{get:function(w){var R=$(this,w);return R&&R.value},set:function(w,R){return z(this,w===0?0:w,R)}}:{add:function(w){return z(this,w=w===0?0:w,w)}}),M&&s(J,"size",{get:function(){return le(this).size}}),Q},setStrong:function(X,U,ae){var ne=U+" Iterator",Q=L(U),J=L(ne);P(X,U,function(le,z){B(this,{type:ne,target:le,state:Q(le),kind:z,last:void 0})},function(){for(var le=J(this),z=le.kind,$=le.last;$&&$.removed;)$=$.previous;return!le.target||!(le.last=$=$?$.next:le.state.first)?(le.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:$.key,done:!1}:z=="values"?{value:$.value,done:!1}:{value:[$.key,$.value],done:!1}},ae?"entries":"values",!ae,!0),A(U)}}},function(u,c,i){var s=i(116),f=i(98);u.exports=s?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var s=i(74).forEach,f=i(120),y=f("forEach");u.exports=y?[].forEach:function(S){return s(this,S,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var s=i(7),f=i(99),y=i(100),b=i(33),S=i(27),x=S("species"),P=s.Array;u.exports=function(A){var M;return f(A)&&(M=A.constructor,y(M)&&(M===P||f(M.prototype))?M=void 0:b(M)&&(M=M[x],M===null&&(M=void 0))),M===void 0?P:M}},function(u,c,i){var s=i(7);u.exports=s},function(u,c,i){var s=i(7),f=i(62),y=i(35),b=i(38),S=i(183),x=i(140),P=i(100),A=i(43),M=i(61),D=i(141),C=i(115),B=s.Array;u.exports=function(X){var U=b(X),ae=P(this),ne=arguments.length,Q=ne>1?arguments[1]:void 0,J=Q!==void 0;J&&(Q=f(Q,ne>2?arguments[2]:void 0));var le=C(U),z=0,$,I,w,R,W,q;if(le&&!(this==B&&x(le)))for(R=D(U,le),W=R.next,I=ae?new this:[];!(w=y(W,R)).done;z++)q=J?S(R,Q,[w.value,z],!0):w.value,M(I,z,q);else for($=A(U),I=ae?new this($):B($);$>z;z++)q=J?Q(U[z],z):U[z],M(I,z,q);return I.length=z,I}},function(u,c,i){var s=i(32),f=i(142);u.exports=function(y,b,S,x){try{return x?b(s(S)[0],S[1]):b(S)}catch(P){f(y,"throw",P)}}},function(u,c,i){var s=i(32);u.exports=function(){var f=s(this),y="";return f.global&&(y+="g"),f.ignoreCase&&(y+="i"),f.multiline&&(y+="m"),f.dotAll&&(y+="s"),f.unicode&&(y+="u"),f.sticky&&(y+="y"),y}},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp;u.exports=s(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp;u.exports=s(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var s=i(16),f=i(15),y=i(55),b=i(38),S=i(43),x=i(40),P=i(18),A=i(188),M=i(120),D=i(189),C=i(190),B=i(65),L=i(191),X=[],U=f(X.sort),ae=f(X.push),ne=P(function(){X.sort(void 0)}),Q=P(function(){X.sort(null)}),J=M("sort"),le=!P(function(){if(B)return B<70;if(!(D&&D>3)){if(C)return!0;if(L)return L<603;var I="",w,R,W,q;for(w=65;w<76;w++){switch(R=String.fromCharCode(w),w){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(q=0;q<47;q++)X.push({k:R+q,v:W})}for(X.sort(function(ce,Me){return Me.v-ce.v}),q=0;q<X.length;q++)R=X[q].k.charAt(0),I.charAt(I.length-1)!==R&&(I+=R);return I!=="DGBEFHACIJK"}}),z=ne||!Q||!J||!le,$=function(I){return function(w,R){return R===void 0?-1:w===void 0?1:I!==void 0?+I(w,R)||0:x(w)>x(R)?1:-1}};s({target:"Array",proto:!0,forced:z},{sort:function(w){w!==void 0&&y(w);var R=b(this);if(le)return w===void 0?U(R):U(R,w);var W=[],q=S(R),ce,Me;for(Me=0;Me<q;Me++)Me in R&&ae(W,R[Me]);for(A(W,$(w)),ce=W.length,Me=0;Me<ce;)R[Me]=W[Me++];for(;Me<q;)delete R[Me++];return R}})},function(u,c,i){var s=i(113),f=Math.floor,y=function(x,P){var A=x.length,M=f(A/2);return A<8?b(x,P):S(x,y(s(x,0,M),P),y(s(x,M),P),P)},b=function(x,P){for(var A=x.length,M=1,D,C;M<A;){for(C=M,D=x[M];C&&P(x[C-1],D)>0;)x[C]=x[--C];C!==M++&&(x[C]=D)}return x},S=function(x,P,A,M){for(var D=P.length,C=A.length,B=0,L=0;B<D||L<C;)x[B+L]=B<D&&L<C?M(P[B],A[L])<=0?P[B++]:A[L++]:B<D?P[B++]:A[L++];return x};u.exports=y},function(u,c,i){var s=i(53),f=s.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var s=i(53);u.exports=/MSIE|Trident/.test(s)},function(u,c,i){var s=i(53),f=s.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var s=i(16),f=i(74).find,y=i(83),b="find",S=!0;b in[]&&Array(1)[b](function(){S=!1}),s({target:"Array",proto:!0,forced:S},{find:function(P){return f(this,P,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var s=i(7),f=i(154),y=s.TypeError;u.exports=function(b){if(f(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var s=i(27),f=s("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch{try{return b[f]=!1,"/./"[y](b)}catch{}}return!1}},function(u,c,i){var s=i(94).PROPER,f=i(18),y=i(160),b="\u200B\x85\u180E";u.exports=function(S){return f(function(){return!!y[S]()||b[S]()!==b||s&&y[S].name!==S})}},function(u,c,i){var s=i(15);u.exports=s(1 .valueOf)},function(u,c,i){var s=i(15),f=i(38),y=Math.floor,b=s("".charAt),S=s("".replace),x=s("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,A=/\$([$&'`]|\d{1,2})/g;u.exports=function(M,D,C,B,L,X){var U=C+M.length,ae=B.length,ne=A;return L!==void 0&&(L=f(L),ne=P),S(X,ne,function(Q,J){var le;switch(b(J,0)){case"$":return"$";case"&":return M;case"`":return x(D,0,C);case"'":return x(D,U);case"<":le=L[x(J,1,-1)];break;default:var z=+J;if(z===0)return Q;if(z>ae){var $=y(z/10);return $===0?Q:$<=ae?B[$-1]===void 0?b(J,1):B[$-1]+b(J,1):Q}le=B[z-1]}return le===void 0?"":le})}},function(u,c,i){var s=i(36),f=i(15),y=i(35),b=i(18),S=i(66),x=i(112),P=i(93),A=i(38),M=i(81),D=Object.assign,C=Object.defineProperty,B=f([].concat);u.exports=!D||b(function(){if(s&&D({b:1},D(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var L={},X={},U=Symbol(),ae="abcdefghijklmnopqrst";return L[U]=7,ae.split("").forEach(function(ne){X[ne]=ne}),D({},L)[U]!=7||S(D({},X)).join("")!=ae})?function(X,U){for(var ae=A(X),ne=arguments.length,Q=1,J=x.f,le=P.f;ne>Q;)for(var z=M(arguments[Q++]),$=J?B(S(z),J(z)):S(z),I=$.length,w=0,R;I>w;)R=$[w++],(!s||y(le,z,R))&&(ae[R]=z[R]);return ae}:D},function(u,c,i){var s=i(7),f=i(15),y=i(55),b=i(33),S=i(34),x=i(101),P=s.Function,A=f([].concat),M=f([].join),D={},C=function(B,L,X){if(!S(D,L)){for(var U=[],ae=0;ae<L;ae++)U[ae]="a["+ae+"]";D[L]=P("C,a","return new C("+M(U,",")+")")}return D[L](B,X)};u.exports=P.bind||function(L){var X=y(this),U=X.prototype,ae=x(arguments,1),ne=function(){var J=A(ae,x(arguments));return this instanceof ne?C(X,J.length,J):X.apply(L,J)};return b(U)&&(ne.prototype=U),ne}},function(u,c,i){var s=i(34);u.exports=function(f){return f!==void 0&&(s(f,"value")||s(f,"writable"))}},function(u,c,i){var s=i(15),f=i(45),y=i(40),b=/"/g,S=s("".replace);u.exports=function(x,P,A,M){var D=y(f(x)),C="<"+P;return A!==""&&(C+=" "+A+'="'+S(y(M),b,"&quot;")+'"'),C+">"+D+"</"+P+">"}},function(u,c,i){var s=i(18);u.exports=function(f){return s(function(){var y=""[f]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var s=i(16),f=Math.hypot,y=Math.abs,b=Math.sqrt,S=!!f&&f(1/0,NaN)!==1/0;s({target:"Math",stat:!0,forced:S},{hypot:function(P,A){for(var M=0,D=0,C=arguments.length,B=0,L,X;D<C;)L=y(arguments[D++]),B<L?(X=B/L,M=M*X*X+1,B=L):L>0?(X=L/B,M+=X*X):M+=L;return B===1/0?1/0:B*b(M)}})},function(u,c,i){var s=i(16),f=i(64),y=i(7),b=i(46),S=i(35),x=i(205),P=i(44),A=i(144),M=i(97),D=i(73),C=i(145),B=i(55),L=i(28),X=i(33),U=i(117),ae=i(92),ne=i(114),Q=i(118),J=i(156),le=i(162).set,z=i(206),$=i(209),I=i(210),w=i(164),R=i(211),W=i(56),q=i(95),ce=i(27),Me=i(212),me=i(126),Oe=i(65),Pe=ce("species"),Ee="Promise",Ne=W.getterFor(Ee),Le=W.set,Ve=W.getterFor(Ee),Be=x&&x.prototype,Se=x,Ie=Be,ke=y.TypeError,k=y.document,Y=y.process,ee=w.f,he=ee,xe=!!(k&&k.createEvent&&y.dispatchEvent),pe=L(y.PromiseRejectionEvent),ze="unhandledrejection",tt="rejectionhandled",We=0,nt=1,ve=2,ut=1,rt=2,_e=!1,Qe,wt,dt,bt,oe=q(Ee,function(){var je=ae(Se),Ye=je!==String(Se);if(!Ye&&Oe===66||f&&!Ie.finally)return!0;if(Oe>=51&&/native code/.test(je))return!1;var ot=new Se(function(H){H(1)}),Je=function(H){H(function(){},function(){})},lt=ot.constructor={};return lt[Pe]=Je,_e=ot.then(function(){})instanceof Je,_e?!Ye&&Me&&!pe:!0}),Ct=oe||!Q(function(je){Se.all(je).catch(function(){})}),St=function(je){var Ye;return X(je)&&L(Ye=je.then)?Ye:!1},mt=function(je,Ye){if(!je.notified){je.notified=!0;var ot=je.reactions;z(function(){for(var Je=je.value,lt=je.state==nt,H=0;ot.length>H;){var V=ot[H++],te=lt?V.ok:V.fail,re=V.resolve,Ae=V.reject,De=V.domain,Xe,vt,Zt;try{te?(lt||(je.rejection===rt&&Er(je),je.rejection=ut),te===!0?Xe=Je:(De&&De.enter(),Xe=te(Je),De&&(De.exit(),Zt=!0)),Xe===V.promise?Ae(ke("Promise-chain cycle")):(vt=St(Xe))?S(vt,Xe,re,Ae):re(Xe)):Ae(Je)}catch(Jt){De&&!Zt&&De.exit(),Ae(Jt)}}je.reactions=[],je.notified=!1,Ye&&!je.rejection&&dr(je)})}},Yt=function(je,Ye,ot){var Je,lt;xe?(Je=k.createEvent("Event"),Je.promise=Ye,Je.reason=ot,Je.initEvent(je,!1,!0),y.dispatchEvent(Je)):Je={promise:Ye,reason:ot},!pe&&(lt=y["on"+je])?lt(Je):je===ze&&I("Unhandled promise rejection",ot)},dr=function(je){S(le,y,function(){var Ye=je.facade,ot=je.value,Je=Vt(je),lt;if(Je&&(lt=R(function(){me?Y.emit("unhandledRejection",ot,Ye):Yt(ze,Ye,ot)}),je.rejection=me||Vt(je)?rt:ut,lt.error))throw lt.value})},Vt=function(je){return je.rejection!==ut&&!je.parent},Er=function(je){S(le,y,function(){var Ye=je.facade;me?Y.emit("rejectionHandled",Ye):Yt(tt,Ye,je.value)})},qe=function(je,Ye,ot){return function(Je){je(Ye,Je,ot)}},Pt=function(je,Ye,ot){je.done||(je.done=!0,ot&&(je=ot),je.value=Ye,je.state=ve,mt(je,!0))},rr=function(je,Ye,ot){if(!je.done){je.done=!0,ot&&(je=ot);try{if(je.facade===Ye)throw ke("Promise can't be resolved itself");var Je=St(Ye);Je?z(function(){var lt={done:!1};try{S(Je,Ye,qe(rr,lt,je),qe(Pt,lt,je))}catch(H){Pt(lt,H,je)}}):(je.value=Ye,je.state=nt,mt(je,!1))}catch(lt){Pt({done:!1},lt,je)}}};if(oe&&(Se=function(Ye){U(this,Ie),B(Ye),S(Qe,this);var ot=Ne(this);try{Ye(qe(rr,ot),qe(Pt,ot))}catch(Je){Pt(ot,Je)}},Ie=Se.prototype,Qe=function(Ye){Le(this,{type:Ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:We,value:void 0})},Qe.prototype=A(Ie,{then:function(Ye,ot){var Je=Ve(this),lt=Je.reactions,H=ee(J(this,Se));return H.ok=L(Ye)?Ye:!0,H.fail=L(ot)&&ot,H.domain=me?Y.domain:void 0,Je.parent=!0,lt[lt.length]=H,Je.state!=We&&mt(Je,!1),H.promise},catch:function(je){return this.then(void 0,je)}}),wt=function(){var je=new Qe,Ye=Ne(je);this.promise=je,this.resolve=qe(rr,Ye),this.reject=qe(Pt,Ye)},w.f=ee=function(je){return je===Se||je===dt?new wt(je):he(je)},!f&&L(x)&&Be!==Object.prototype)){bt=Be.then,_e||(P(Be,"then",function(Ye,ot){var Je=this;return new Se(function(lt,H){S(bt,Je,lt,H)}).then(Ye,ot)},{unsafe:!0}),P(Be,"catch",Ie.catch,{unsafe:!0}));try{delete Be.constructor}catch{}M&&M(Be,Ie)}s({global:!0,wrap:!0,forced:oe},{Promise:Se}),D(Se,Ee,!1,!0),C(Ee),dt=b(Ee),s({target:Ee,stat:!0,forced:oe},{reject:function(Ye){var ot=ee(this);return S(ot.reject,void 0,Ye),ot.promise}}),s({target:Ee,stat:!0,forced:f||oe},{resolve:function(Ye){return $(f&&this===dt?Se:this,Ye)}}),s({target:Ee,stat:!0,forced:Ct},{all:function(Ye){var ot=this,Je=ee(ot),lt=Je.resolve,H=Je.reject,V=R(function(){var te=B(ot.resolve),re=[],Ae=0,De=1;ne(Ye,function(Xe){var vt=Ae++,Zt=!1;De++,S(te,ot,Xe).then(function(Jt){Zt||(Zt=!0,re[vt]=Jt,--De||lt(re))},H)}),--De||lt(re)});return V.error&&H(V.value),Je.promise},race:function(Ye){var ot=this,Je=ee(ot),lt=Je.reject,H=R(function(){var V=B(ot.resolve);ne(Ye,function(te){S(V,ot,te).then(Je.resolve,lt)})});return H.error&&lt(H.value),Je.promise}})},function(u,c,i){var s=i(7);u.exports=s.Promise},function(u,c,i){var s=i(7),f=i(62),y=i(51).f,b=i(162).set,S=i(163),x=i(207),P=i(208),A=i(126),M=s.MutationObserver||s.WebKitMutationObserver,D=s.document,C=s.process,B=s.Promise,L=y(s,"queueMicrotask"),X=L&&L.value,U,ae,ne,Q,J,le,z,$;X||(U=function(){var I,w;for(A&&(I=C.domain)&&I.exit();ae;){w=ae.fn,ae=ae.next;try{w()}catch(R){throw ae?Q():ne=void 0,R}}ne=void 0,I&&I.enter()},!S&&!A&&!P&&M&&D?(J=!0,le=D.createTextNode(""),new M(U).observe(le,{characterData:!0}),Q=function(){le.data=J=!J}):!x&&B&&B.resolve?(z=B.resolve(void 0),z.constructor=B,$=f(z.then,z),Q=function(){$(U)}):A?Q=function(){C.nextTick(U)}:(b=f(b,s),Q=function(){b(U)})),u.exports=X||function(I){var w={fn:I,next:void 0};ne&&(ne.next=w),ae||(ae=w,Q()),ne=w}},function(u,c,i){var s=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(s)&&f.Pebble!==void 0},function(u,c,i){var s=i(53);u.exports=/web0s(?!.*chrome)/i.test(s)},function(u,c,i){var s=i(32),f=i(33),y=i(164);u.exports=function(b,S){if(s(b),f(S)&&S.constructor===b)return S;var x=y.f(b),P=x.resolve;return P(S),x.promise}},function(u,c,i){var s=i(7);u.exports=function(f,y){var b=s.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(s){return{error:!0,value:s}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var s=i(36),f=i(15),y=i(66),b=i(39),S=i(93).f,x=f(S),P=f([].push),A=function(M){return function(D){for(var C=b(D),B=y(C),L=B.length,X=0,U=[],ae;L>X;)ae=B[X++],(!s||x(C,ae))&&P(U,M?[ae,C[ae]]:C[ae]);return U}};u.exports={entries:A(!0),values:A(!1)}},function(u,c,i){var s=i(38),f=i(67),y=i(43);u.exports=function(S){for(var x=s(this),P=y(x),A=arguments.length,M=f(A>1?arguments[1]:void 0,P),D=A>2?arguments[2]:void 0,C=D===void 0?P:f(D,P);C>M;)x[M++]=S;return x}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Hr}),i.d(c,"LogicFlow",function(){return Uc}),i.d(c,"h",function(){return oe.g}),i.d(c,"LogicFlowUtil",function(){return s}),i.d(c,"BaseNode",function(){return pn}),i.d(c,"RectNode",function(){return ac}),i.d(c,"CircleNode",function(){return lc}),i.d(c,"PolygonNode",function(){return dc}),i.d(c,"DiamondNode",function(){return vc}),i.d(c,"EllipseNode",function(){return mc}),i.d(c,"TextNode",function(){return Oc}),i.d(c,"HtmlNode",function(){return Sc}),i.d(c,"BaseEdge",function(){return Oi}),i.d(c,"LineEdge",function(){return Cc}),i.d(c,"PolylineEdge",function(){return Ic}),i.d(c,"BezierEdge",function(){return _c}),i.d(c,"Arrow",function(){return YD}),i.d(c,"BaseEdgeModel",function(){return af}),i.d(c,"BezierEdgeModel",function(){return If}),i.d(c,"LineEdgeModel",function(){return lf}),i.d(c,"PolylineEdgeModel",function(){return df}),i.d(c,"BaseNodeModel",function(){return cn}),i.d(c,"CircleNodeModel",function(){return Lf}),i.d(c,"DiamondNodeModel",function(){return Hf}),i.d(c,"EllipseNodeModel",function(){return $f}),i.d(c,"PolygonNodeModel",function(){return Uf}),i.d(c,"RectNodeModel",function(){return Kf}),i.d(c,"TextNodeModel",function(){return Zf}),i.d(c,"HtmlNodeModel",function(){return Qf}),i.d(c,"EditConfigModel",function(){return Vd}),i.d(c,"GraphModel",function(){return Uh}),i.d(c,"SnaplineModel",function(){return Yy}),i.d(c,"Keyboard",function(){return tm}),i.d(c,"get",function(){return Mv}),i.d(c,"defaults",function(){return Av});var s={};i.r(s),i.d(s,"createUuid",function(){return qn}),i.d(s,"refreshGraphId",function(){return q0}),i.d(s,"createDrag",function(){return gf}),i.d(s,"StepDrag",function(){return eo});var f=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),S=Object(b.b)("observerBatching");function x(e){e()}function P(e){e||(e=x),Object(f.n)({reactionScheduler:e}),Object(b.a)()[S]=!0}function A(e){return Object(f.t)(e)}function M(e){var r={cleanAt:Date.now()+D,reaction:e};return r}var D=1e4,C=1e4,B=new Set,L;function X(){L===void 0&&(L=setTimeout(ne,C))}function U(e){B.add(e),X()}function ae(e){B.delete(e)}function ne(){L=void 0;var e=Date.now();B.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,B.delete(r))}),B.size>0&&X()}var Q=!1,J=[];function le(e){return function(){Q?J.push(e):e()}}function z(e){Q=!0,J=[];try{var r=e();Q=!1;var t=J.length>0?J:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{Q=!1}}var $={};function I(e){return"observer"+e}function w(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=$);var n=t.useForceUpdate||b.d,o=n(),a=le(o),l=y.d.useRef(null);if(!l.current){var p=new f.c(I(r),function(){g.mounted?a():(p.dispose(),l.current=null)}),g=M(p);l.current=g,U(l)}var E=l.current.reaction;return y.d.useDebugValue(E,A),y.d.useEffect(function(){return ae(l),l.current?l.current.mounted=!0:(l.current={reaction:new f.c(I(r),function(){a()}),cleanAt:1/0},a()),function(){l.current.reaction.dispose(),l.current=null}},[]),z(function(){var T,j;if(E.track(function(){try{T=e()}catch(_){j=_}}),j)throw j;return T})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,o=function(l,p){return w(function(){return e(l,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),ce(e,a),a.displayName=n,a}var q={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){q[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Me(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:w(n)}Me.propTypes={children:me,render:me},Me.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",l=typeof e[r]=="function",p=typeof e[a]=="function";return l&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):l||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(y.g);var Oe=0;function Pe(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+Oe+")";return Oe++,r}var Ee={};function Ne(e){return Ee[e]||(Ee[e]=Pe(e)),Ee[e]}function Le(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Be(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Se=Ne("patchMixins"),Ie=Ne("patchedDefinition");function ke(e,r){var t=e[Se]=e[Se]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var l;return e!=null&&(l=e.apply(this,o)),l}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function Y(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];k.call.apply(k,[this,e,r].concat(a))};return t}function ee(e,r,t){var n=ke(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Ie])){var a=e[r],l=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,l)}}function he(e,r,t,n,o){var a,l=Y(o,n);return a={},a[Ie]=!0,a.get=function(){return l},a.set=function(g){if(this===e)l=Y(g,n);else{var E=he(this,r,t,n,g);Object.defineProperty(this,r,E)}},a.configurable=!0,a.enumerable=t,a}var xe=f.a||"$mobx",pe=Ne("isMobXReactObserver"),ze=Ne("isUnmounted"),tt=Ne("skipRender"),We=Ne("isForcingUpdate");function nt(e){var r=e.prototype;if(e[pe]){var t=ve(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rt;else if(r.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}_e(r,"props"),_e(r,"state");var n=r.render;return r.render=function(){return ut.call(this,n)},ee(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[ze]=!0,!this.render[xe]){var a=ve(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ut(e){var r=this;Be(this,tt,!1),Be(this,We,!1);var t=ve(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[ze]!==!0)){var p=!0;try{Be(r,We,!0),r[tt]||y.a.prototype.forceUpdate.call(r),p=!1}finally{Be(r,We,!1),p&&a.dispose()}}});a.reactComponent=this,l[xe]=a,this.render=l;function l(){o=!1;var p=void 0,g=void 0;if(a.track(function(){try{g=Object(f.d)(!1,n)}catch(E){p=E}}),p)throw p;return g}return l.call(this)}function rt(e,r){return this.state!==r?!0:!Le(this.props,e)}function _e(e,r){var t=Ne("reactProp_"+r+"_valueHolder"),n=Ne("reactProp_"+r+"_atomHolder");function o(){return this[n]||Be(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var l=!1;return f.f&&f.e&&(l=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(l),this[t]},set:function(l){!this[We]&&!Le(this[t],l)?(Be(this,t,l),Be(this,tt,!0),o.call(this).reportChanged(),Be(this,tt,!1)):Be(this,t,l)}})}var Qe=typeof Symbol=="function"&&Symbol.for,wt=Qe?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,dt=Qe?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function bt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),dt&&e.$$typeof===dt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(wt&&e.$$typeof===wt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(Me,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?W(e):nt(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var oe=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function Ct(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var St=Ct;function mt(){this.__data__=[],this.size=0}var Yt=mt;function dr(e,r){return e===r||e!==e&&r!==r}var Vt=dr;function Er(e,r){for(var t=e.length;t--;)if(Vt(e[t][0],r))return t;return-1}var qe=Er,Pt=Array.prototype,rr=Pt.splice;function je(e){var r=this.__data__,t=qe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():rr.call(r,t,1),--this.size,!0}var Ye=je;function ot(e){var r=this.__data__,t=qe(r,e);return t<0?void 0:r[t][1]}var Je=ot;function lt(e){return qe(this.__data__,e)>-1}var H=lt;function V(e,r){var t=this.__data__,n=qe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=V;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Yt,re.prototype.delete=Ye,re.prototype.get=Je,re.prototype.has=H,re.prototype.set=te;var Ae=re;function De(){this.__data__=new Ae,this.size=0}var Xe=De;function vt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Zt=vt;function Jt(e){return this.__data__.get(e)}var Gn=Jt;function Gr(e){return this.__data__.has(e)}var ji=Gr,xr=i(31),Ci=xr.a.Symbol,sr=Ci,vn=Object.prototype,$n=vn.hasOwnProperty,an=vn.toString,kn=sr?sr.toStringTag:void 0;function yn(e){var r=$n.call(e,kn),t=e[kn];try{e[kn]=void 0;var n=!0}catch{}var o=an.call(e);return n&&(r?e[kn]=t:delete e[kn]),o}var gn=yn,so=Object.prototype,Ys=so.toString;function lo(e){return Ys.call(e)}var fo=lo,Ri="[object Null]",Ge="[object Undefined]",Ii=sr?sr.toStringTag:void 0;function Ws(e){return e==null?e===void 0?Ge:Ri:Ii&&Ii in Object(e)?gn(e):fo(e)}var $r=Ws;function Bi(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Tt=Bi,pr="[object AsyncFunction]",_i="[object Function]",Ks="[object GeneratorFunction]",Vs="[object Proxy]";function Zs(e){if(!Tt(e))return!1;var r=$r(e);return r==_i||r==Ks||r==pr||r==Vs}var co=Zs,Li=xr.a["__core-js_shared__"],un=Li,Vo=function(){var e=/[^.]+$/.exec(un&&un.keys&&un.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Zo(e){return!!Vo&&Vo in e}var zi=Zo,Js=Function.prototype,po=Js.toString;function Qs(e){if(e!=null){try{return po.call(e)}catch{}try{return e+""}catch{}}return""}var Rt=Qs,td=/[\\^$.*+?()[\]{}|]/g,rd=/^\[object .+?Constructor\]$/,nd=Function.prototype,Fi=Object.prototype,qs=nd.toString,Hi=Fi.hasOwnProperty,el=RegExp("^"+qs.call(Hi).replace(td,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tl(e){if(!Tt(e)||zi(e))return!1;var r=co(e)?el:rd;return r.test(Rt(e))}var kr=tl;function rl(e,r){return e==null?void 0:e[r]}var nl=rl;function Jo(e,r){var t=nl(e,r);return kr(t)?t:void 0}var Nr=Jo,ol=Nr(xr.a,"Map"),mn=ol,il=Nr(Object,"create"),Xn=il;function al(){this.__data__=Xn?Xn(null):{},this.size=0}var Qo=al;function Gi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var ul=Gi,qo="__lodash_hash_undefined__",$i=Object.prototype,ki=$i.hasOwnProperty;function Xi(e){var r=this.__data__;if(Xn){var t=r[e];return t===qo?void 0:t}return ki.call(r,e)?r[e]:void 0}var Ui=Xi,sl=Object.prototype,Yi=sl.hasOwnProperty;function ll(e){var r=this.__data__;return Xn?r[e]!==void 0:Yi.call(r,e)}var Wi=ll,Ki="__lodash_hash_undefined__";function fl(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Xn&&r===void 0?Ki:r,this}var cl=fl;function bn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}bn.prototype.clear=Qo,bn.prototype.delete=ul,bn.prototype.get=Ui,bn.prototype.has=Wi,bn.prototype.set=cl;var On=bn;function En(){this.size=0,this.__data__={hash:new On,map:new(mn||Ae),string:new On}}var dl=En;function pl(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Vi=pl;function hl(e,r){var t=e.__data__;return Vi(r)?t[typeof r=="string"?"string":"hash"]:t.map}var ho=hl;function vl(e){var r=ho(this,e).delete(e);return this.size-=r?1:0,r}var yl=vl;function xn(e){return ho(this,e).get(e)}var Xr=xn;function gl(e){return ho(this,e).has(e)}var ml=gl;function bl(e,r){var t=ho(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Sr=bl;function Sn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Sn.prototype.clear=dl,Sn.prototype.delete=yl,Sn.prototype.get=Xr,Sn.prototype.has=ml,Sn.prototype.set=Sr;var Un=Sn,Ol=200;function vo(e,r){var t=this.__data__;if(t instanceof Ae){var n=t.__data__;if(!mn||n.length<Ol-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Un(n)}return t.set(e,r),this.size=t.size,this}var yo=vo;function Pn(e){var r=this.__data__=new Ae(e);this.size=r.size}Pn.prototype.clear=Xe,Pn.prototype.delete=Zt,Pn.prototype.get=Gn,Pn.prototype.has=ji,Pn.prototype.set=yo;var Tn=Pn,Pr="__lodash_hash_undefined__";function Yn(e){return this.__data__.set(e,Pr),this}var Tr=Yn;function hr(e){return this.__data__.has(e)}var Wn=hr;function Qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Un;++r<t;)this.add(e[r])}Qt.prototype.add=Qt.prototype.push=Tr,Qt.prototype.has=Wn;var El=Qt;function xl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Sl=xl;function Zi(e,r){return e.has(r)}var Dr=Zi,Pl=1,jr=2;function Ji(e,r,t,n,o,a){var l=t&Pl,p=e.length,g=r.length;if(p!=g&&!(l&&g>p))return!1;var E=a.get(e),T=a.get(r);if(E&&T)return E==r&&T==e;var j=-1,_=!0,G=t&jr?new El:void 0;for(a.set(e,r),a.set(r,e);++j<p;){var Z=e[j],ie=r[j];if(n)var ue=l?n(ie,Z,j,r,e,a):n(Z,ie,j,e,r,a);if(ue!==void 0){if(ue)continue;_=!1;break}if(G){if(!Sl(r,function(se,we){if(!Dr(G,we)&&(Z===se||o(Z,se,t,n,a)))return G.push(we)})){_=!1;break}}else if(!(Z===ie||o(Z,ie,t,n,a))){_=!1;break}}return a.delete(e),a.delete(r),_}var Qi=Ji,ei=xr.a.Uint8Array,kt=ei;function qi(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Tl=qi;function ea(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var lr=ea,ta=1,ti=2,ra="[object Boolean]",na="[object Date]",Ml="[object Error]",oa="[object Map]",Al="[object Number]",wl="[object RegExp]",vr="[object Set]",Mr="[object String]",Kn="[object Symbol]",Nl="[object ArrayBuffer]",ia="[object DataView]",go=sr?sr.prototype:void 0,Vn=go?go.valueOf:void 0;function aa(e,r,t,n,o,a,l){switch(t){case ia:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Nl:return!(e.byteLength!=r.byteLength||!a(new kt(e),new kt(r)));case ra:case na:case Al:return Vt(+e,+r);case Ml:return e.name==r.name&&e.message==r.message;case wl:case Mr:return e==r+"";case oa:var p=Tl;case vr:var g=n&ta;if(p||(p=lr),e.size!=r.size&&!g)return!1;var E=l.get(e);if(E)return E==r;n|=ti,l.set(e,r);var T=Qi(p(e),p(r),n,o,a,l);return l.delete(e),T;case Kn:if(Vn)return Vn.call(e)==Vn.call(r)}return!1}var Dl=aa;function mo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ri=mo,ua=Array.isArray,d=ua;function h(e,r,t){var n=r(e);return d(e)?n:ri(n,t(e))}var O=h;function N(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var l=e[t];r(l,t,e)&&(a[o++]=l)}return a}var F=N;function K(){return[]}var fe=K,Te=Object.prototype,$e=Te.propertyIsEnumerable,ft=Object.getOwnPropertySymbols,ct=ft?function(e){return e==null?[]:(e=Object(e),F(ft(e),function(r){return $e.call(e,r)}))}:fe,Ot=ct;function xt(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Bt=xt;function Xt(e){return e!=null&&typeof e=="object"}var Mt=Xt,yr="[object Arguments]";function Mn(e){return Mt(e)&&$r(e)==yr}var sa=Mn,la=Object.prototype,fa=la.hasOwnProperty,ca=la.propertyIsEnumerable,ni=sa(function(){return arguments}())?sa:function(e){return Mt(e)&&fa.call(e,"callee")&&!ca.call(e,"callee")},An=ni,sn=i(48),ab=9007199254740991,ub=/^(?:0|[1-9]\d*)$/;function sb(e,r){var t=typeof e;return r=r==null?ab:r,!!r&&(t=="number"||t!="symbol"&&ub.test(e))&&e>-1&&e%1==0&&e<r}var da=sb,lb=9007199254740991;function fb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lb}var jl=fb,cb="[object Arguments]",db="[object Array]",pb="[object Boolean]",hb="[object Date]",vb="[object Error]",yb="[object Function]",gb="[object Map]",mb="[object Number]",bb="[object Object]",Ob="[object RegExp]",Eb="[object Set]",xb="[object String]",Sb="[object WeakMap]",Pb="[object ArrayBuffer]",Tb="[object DataView]",Mb="[object Float32Array]",Ab="[object Float64Array]",wb="[object Int8Array]",Nb="[object Int16Array]",Db="[object Int32Array]",jb="[object Uint8Array]",Cb="[object Uint8ClampedArray]",Rb="[object Uint16Array]",Ib="[object Uint32Array]",Nt={};Nt[Mb]=Nt[Ab]=Nt[wb]=Nt[Nb]=Nt[Db]=Nt[jb]=Nt[Cb]=Nt[Rb]=Nt[Ib]=!0,Nt[cb]=Nt[db]=Nt[Pb]=Nt[pb]=Nt[Tb]=Nt[hb]=Nt[vb]=Nt[yb]=Nt[gb]=Nt[mb]=Nt[bb]=Nt[Ob]=Nt[Eb]=Nt[xb]=Nt[Sb]=!1;function Bb(e){return Mt(e)&&jl(e.length)&&!!Nt[$r(e)]}var _b=Bb;function Lb(e){return function(r){return e(r)}}var Cl=Lb,bo=i(49),od=bo.a&&bo.a.isTypedArray,zb=od?Cl(od):_b,Rl=zb,Fb=Object.prototype,Hb=Fb.hasOwnProperty;function Gb(e,r){var t=d(e),n=!t&&An(e),o=!t&&!n&&Object(sn.a)(e),a=!t&&!n&&!o&&Rl(e),l=t||n||o||a,p=l?Bt(e.length,String):[],g=p.length;for(var E in e)(r||Hb.call(e,E))&&!(l&&(E=="length"||o&&(E=="offset"||E=="parent")||a&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||da(E,g)))&&p.push(E);return p}var id=Gb,$b=Object.prototype;function kb(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||$b;return e===t}var pa=kb;function Xb(e,r){return function(t){return e(r(t))}}var ad=Xb,Ub=ad(Object.keys,Object),Yb=Ub,Wb=Object.prototype,Kb=Wb.hasOwnProperty;function Vb(e){if(!pa(e))return Yb(e);var r=[];for(var t in Object(e))Kb.call(e,t)&&t!="constructor"&&r.push(t);return r}var Zb=Vb;function Jb(e){return e!=null&&jl(e.length)&&!co(e)}var Zn=Jb;function Qb(e){return Zn(e)?id(e):Zb(e)}var Oo=Qb;function qb(e){return O(e,Oo,Ot)}var Il=qb,eO=1,tO=Object.prototype,rO=tO.hasOwnProperty;function nO(e,r,t,n,o,a){var l=t&eO,p=Il(e),g=p.length,E=Il(r),T=E.length;if(g!=T&&!l)return!1;for(var j=g;j--;){var _=p[j];if(!(l?_ in r:rO.call(r,_)))return!1}var G=a.get(e),Z=a.get(r);if(G&&Z)return G==r&&Z==e;var ie=!0;a.set(e,r),a.set(r,e);for(var ue=l;++j<g;){_=p[j];var se=e[_],we=r[_];if(n)var ge=l?n(we,se,_,r,e,a):n(se,we,_,e,r,a);if(!(ge===void 0?se===we||o(se,we,t,n,a):ge)){ie=!1;break}ue||(ue=_=="constructor")}if(ie&&!ue){var be=e.constructor,Fe=r.constructor;be!=Fe&&"constructor"in e&&"constructor"in r&&!(typeof be=="function"&&be instanceof be&&typeof Fe=="function"&&Fe instanceof Fe)&&(ie=!1)}return a.delete(e),a.delete(r),ie}var oO=nO,iO=Nr(xr.a,"DataView"),Bl=iO,aO=Nr(xr.a,"Promise"),_l=aO,uO=Nr(xr.a,"Set"),Ll=uO,sO=Nr(xr.a,"WeakMap"),zl=sO,ud="[object Map]",lO="[object Object]",sd="[object Promise]",ld="[object Set]",fd="[object WeakMap]",cd="[object DataView]",fO=Rt(Bl),cO=Rt(mn),dO=Rt(_l),pO=Rt(Ll),hO=Rt(zl),Jn=$r;(Bl&&Jn(new Bl(new ArrayBuffer(1)))!=cd||mn&&Jn(new mn)!=ud||_l&&Jn(_l.resolve())!=sd||Ll&&Jn(new Ll)!=ld||zl&&Jn(new zl)!=fd)&&(Jn=function(e){var r=$r(e),t=r==lO?e.constructor:void 0,n=t?Rt(t):"";if(n)switch(n){case fO:return cd;case cO:return ud;case dO:return sd;case pO:return ld;case hO:return fd}return r});var oi=Jn,vO=1,dd="[object Arguments]",pd="[object Array]",ha="[object Object]",yO=Object.prototype,hd=yO.hasOwnProperty;function gO(e,r,t,n,o,a){var l=d(e),p=d(r),g=l?pd:oi(e),E=p?pd:oi(r);g=g==dd?ha:g,E=E==dd?ha:E;var T=g==ha,j=E==ha,_=g==E;if(_&&Object(sn.a)(e)){if(!Object(sn.a)(r))return!1;l=!0,T=!1}if(_&&!T)return a||(a=new Tn),l||Rl(e)?Qi(e,r,t,n,o,a):Dl(e,r,g,t,n,o,a);if(!(t&vO)){var G=T&&hd.call(e,"__wrapped__"),Z=j&&hd.call(r,"__wrapped__");if(G||Z){var ie=G?e.value():e,ue=Z?r.value():r;return a||(a=new Tn),o(ie,ue,t,n,a)}}return _?(a||(a=new Tn),oO(e,r,t,n,o,a)):!1}var mO=gO;function vd(e,r,t,n,o){return e===r?!0:e==null||r==null||!Mt(e)&&!Mt(r)?e!==e&&r!==r:mO(e,r,t,n,vd,o)}var Fl=vd,bO=1,OO=2;function EO(e,r,t,n){var o=t.length,a=o,l=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(l&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var g=p[0],E=e[g],T=p[1];if(l&&p[2]){if(E===void 0&&!(g in e))return!1}else{var j=new Tn;if(n)var _=n(E,T,g,e,r,j);if(!(_===void 0?Fl(T,E,bO|OO,n,j):_))return!1}}return!0}var xO=EO;function SO(e){return e===e&&!Tt(e)}var yd=SO;function PO(e){for(var r=Oo(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,yd(o)]}return r}var TO=PO;function MO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var gd=MO;function AO(e){var r=TO(e);return r.length==1&&r[0][2]?gd(r[0][0],r[0][1]):function(t){return t===e||xO(t,e,r)}}var wO=AO,NO="[object Symbol]";function DO(e){return typeof e=="symbol"||Mt(e)&&$r(e)==NO}var va=DO,jO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,CO=/^\w*$/;function RO(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||va(e)?!0:CO.test(e)||!jO.test(e)||r!=null&&e in Object(r)}var Hl=RO,IO="Expected a function";function Gl(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(IO);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var l=e.apply(this,n);return t.cache=a.set(o,l)||a,l};return t.cache=new(Gl.Cache||Un),t}Gl.Cache=Un;var BO=Gl,_O=500;function LO(e){var r=BO(e,function(n){return t.size===_O&&t.clear(),n}),t=r.cache;return r}var zO=LO,FO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HO=/\\(\\)?/g,GO=zO(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(FO,function(t,n,o,a){r.push(o?a.replace(HO,"$1"):n||t)}),r}),$O=GO,kO=1/0,md=sr?sr.prototype:void 0,bd=md?md.toString:void 0;function Od(e){if(typeof e=="string")return e;if(d(e))return St(e,Od)+"";if(va(e))return bd?bd.call(e):"";var r=e+"";return r=="0"&&1/e==-kO?"-0":r}var XO=Od;function UO(e){return e==null?"":XO(e)}var YO=UO;function WO(e,r){return d(e)?e:Hl(e,r)?[e]:$O(YO(e))}var ya=WO,KO=1/0;function VO(e){if(typeof e=="string"||va(e))return e;var r=e+"";return r=="0"&&1/e==-KO?"-0":r}var ii=VO;function ZO(e,r){r=ya(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[ii(r[t++])];return t&&t==n?e:void 0}var $l=ZO;function JO(e,r,t){var n=e==null?void 0:$l(e,r);return n===void 0?t:n}var Ed=JO;function QO(e,r){return e!=null&&r in Object(e)}var qO=QO;function eE(e,r,t){r=ya(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var l=ii(r[n]);if(!(a=e!=null&&t(e,l)))break;e=e[l]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&jl(o)&&da(l,o)&&(d(e)||An(e)))}var tE=eE;function rE(e,r){return e!=null&&tE(e,r,qO)}var xd=rE,nE=1,oE=2;function iE(e,r){return Hl(e)&&yd(r)?gd(ii(e),r):function(t){var n=Ed(t,e);return n===void 0&&n===r?xd(t,e):Fl(r,n,nE|oE)}}var aE=iE;function uE(e){return e}var kl=uE;function sE(e){return function(r){return r==null?void 0:r[e]}}var lE=sE;function fE(e){return function(r){return $l(r,e)}}var cE=fE;function dE(e){return Hl(e)?lE(ii(e)):cE(e)}var pE=dE;function hE(e){return typeof e=="function"?e:e==null?kl:typeof e=="object"?d(e)?aE(e[0],e[1]):wO(e):pE(e)}var vE=hE;function yE(e){return function(r,t,n){for(var o=-1,a=Object(r),l=n(r),p=l.length;p--;){var g=l[e?p:++o];if(t(a[g],g,a)===!1)break}return r}}var gE=yE,mE=gE(),Sd=mE;function bE(e,r){return e&&Sd(e,r,Oo)}var OE=bE;function EE(e,r){return function(t,n){if(t==null)return t;if(!Zn(t))return e(t,n);for(var o=t.length,a=r?o:-1,l=Object(t);(r?a--:++a<o)&&n(l[a],a,l)!==!1;);return t}}var xE=EE,SE=xE(OE),PE=SE;function TE(e,r){var t=-1,n=Zn(e)?Array(e.length):[];return PE(e,function(o,a,l){n[++t]=r(o,a,l)}),n}var ME=TE;function AE(e,r){var t=d(e)?St:ME;return t(e,vE(r))}var ga=AE,wE=function(){try{var e=Nr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ma=wE;function NE(e,r,t){r=="__proto__"&&ma?ma(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Xl=NE,DE=Object.prototype,jE=DE.hasOwnProperty;function CE(e,r,t){var n=e[r];(!(jE.call(e,r)&&Vt(n,t))||t===void 0&&!(r in e))&&Xl(e,r,t)}var ba=CE;function RE(e,r,t,n){var o=!t;t||(t={});for(var a=-1,l=r.length;++a<l;){var p=r[a],g=n?n(t[p],e[p],p,t,e):void 0;g===void 0&&(g=e[p]),o?Xl(t,p,g):ba(t,p,g)}return t}var Eo=RE;function IE(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var BE=IE,Pd=Math.max;function _E(e,r,t){return r=Pd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=Pd(n.length-r,0),l=Array(a);++o<a;)l[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(l),BE(e,this,p)}}var Td=_E;function LE(e){return function(){return e}}var zE=LE,FE=ma?function(e,r){return ma(e,"toString",{configurable:!0,enumerable:!1,value:zE(r),writable:!0})}:kl,HE=FE,GE=800,$E=16,kE=Date.now;function XE(e){var r=0,t=0;return function(){var n=kE(),o=$E-(n-t);if(t=n,o>0){if(++r>=GE)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var UE=XE,YE=UE(HE),Md=YE;function WE(e,r){return Md(Td(e,r,kl),e+"")}var KE=WE;function VE(e,r,t){if(!Tt(t))return!1;var n=typeof r;return(n=="number"?Zn(t)&&da(r,t.length):n=="string"&&r in t)?Vt(t[r],e):!1}var ZE=VE;function JE(e){return KE(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,l=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,l&&ZE(t[0],t[1],l)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Ad=JE,QE=Object.prototype,qE=QE.hasOwnProperty,ex=Ad(function(e,r){if(pa(r)||Zn(r)){Eo(r,Oo(r),e);return}for(var t in r)qE.call(r,t)&&ba(e,t,r[t])}),nr=ex;function tx(e,r,t,n){if(!Tt(e))return e;r=ya(r,e);for(var o=-1,a=r.length,l=a-1,p=e;p!=null&&++o<a;){var g=ii(r[o]),E=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=l){var T=p[g];E=n?n(T,g,p):void 0,E===void 0&&(E=Tt(T)?T:da(r[o+1])?[]:{})}ba(p,g,E),p=p[g]}return e}var rx=tx;function nx(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var l=r[n],p=$l(e,l);t(p,l)&&rx(a,ya(l,e),p)}return a}var ox=nx;function ix(e,r){return ox(e,r,function(t,n){return xd(e,n)})}var ax=ix,wd=sr?sr.isConcatSpreadable:void 0;function ux(e){return d(e)||An(e)||!!(wd&&e&&e[wd])}var sx=ux;function Nd(e,r,t,n,o){var a=-1,l=e.length;for(t||(t=sx),o||(o=[]);++a<l;){var p=e[a];r>0&&t(p)?r>1?Nd(p,r-1,t,n,o):ri(o,p):n||(o[o.length]=p)}return o}var lx=Nd;function fx(e){var r=e==null?0:e.length;return r?lx(e,1):[]}var cx=fx;function dx(e){return Md(Td(e,void 0,cx),e+"")}var px=dx,hx=px(function(e,r){return e==null?{}:ax(e,r)}),ai=hx,It,Dd,jd,Cd,Rd,Id,Bd,_d,Ld,zd,Fd,Hd,Gd,$d,kd,Xd,Ud,Yd;function Wt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function vx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wd(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yx(e,r,t){return r&&Wd(e.prototype,r),t&&Wd(e,t),e}function Kd(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ut(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var gx={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ul=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Vd=(It=function(){function e(r){vx(this,e),Wt(this,"isSilentMode",Dd,this),Wt(this,"stopZoomGraph",jd,this),Wt(this,"stopScrollGraph",Cd,this),Wt(this,"stopMoveGraph",Rd,this),Wt(this,"adjustEdge",Id,this),Wt(this,"adjustEdgeMiddle",Bd,this),Wt(this,"adjustEdgeStartAndEnd",_d,this),Wt(this,"adjustNodePosition",Ld,this),Wt(this,"hideAnchors",zd,this),Wt(this,"hoverOutline",Fd,this),Wt(this,"nodeSelectedOutline",Hd,this),Wt(this,"edgeSelectedOutline",Gd,this),Wt(this,"nodeTextEdit",$d,this),Wt(this,"edgeTextEdit",kd,this),Wt(this,"nodeTextDraggable",Xd,this),Wt(this,"edgeTextDraggable",Ud,this),Wt(this,"autoExpand",Yd,this),Kd(this,"multipleSelectKey",""),Kd(this,"defaultConfig",{}),nr(this,this.getConfigDetail(r))}return yx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);nr(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&nr(a,this.defaultConfig),n===!0){var l=ai(gx,Ul);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},nr(a,l)}o===!1&&nr(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=ai(t,Ul);return nr(a,p)}},{key:"getConfig",value:function(){return ai(this,Ul)}}]),e}(),Dd=Ut(It.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jd=Ut(It.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cd=Ut(It.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rd=Ut(It.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Id=Ut(It.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bd=Ut(It.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_d=Ut(It.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ld=Ut(It.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zd=Ut(It.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fd=Ut(It.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hd=Ut(It.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gd=Ut(It.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$d=Ut(It.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kd=Ut(It.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xd=Ut(It.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ud=Ut(It.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Ut(It.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ut(It.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var Zd;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(Zd||(Zd={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var Ht;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Ht||(Ht={}));var it;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(it||(it={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var mx=9999,gr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(gr||(gr={}));var _t,Jd,Qd,qd,ep,tp,rp,np;function Oa(e,r){return xx(e)||Ex(e,r)||Ox(e,r)||bx()}function bx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ox(e,r){if(!!e){if(typeof e=="string")return op(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return op(e,r)}}function op(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ex(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function xx(e){if(Array.isArray(e))return e}function Qn(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Sx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ip(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Px(e,r,t){return r&&ip(e.prototype,r),t&&ip(e,t),e}function Yl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Cr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Tx=(_t=function(){function e(r){Sx(this,e),Yl(this,"MINI_SCALE_SIZE",.2),Yl(this,"MAX_SCALE_SIZE",16),Qn(this,"SCALE_X",Jd,this),Qn(this,"SKEW_Y",Qd,this),Qn(this,"SKEW_X",qd,this),Qn(this,"SCALE_Y",ep,this),Qn(this,"TRANSLATE_X",tp,this),Qn(this,"TRANSLATE_Y",rp,this),Qn(this,"ZOOM_SIZE",np,this),Yl(this,"eventCenter",void 0),this.eventCenter=r}return Px(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Oa(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Oa(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Oa(t,2),l=a[0],p=a[1];return[l+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(it.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var l=this.CanvasPointToHtmlPoint([t,n]),p=Oa(l,2),g=p[0],E=p[1],T=o/2-g,j=a/2-E;this.TRANSLATE_X+=T,this.TRANSLATE_Y+=j,this.emitGraphTransform("focusOn")}}]),e}(),Jd=Cr(_t.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qd=Cr(_t.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qd=Cr(_t.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ep=Cr(_t.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),tp=Cr(_t.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rp=Cr(_t.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),np=Cr(_t.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Cr(_t.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"zoom"),_t.prototype),Cr(_t.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"resetZoom"),_t.prototype),Cr(_t.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"translate"),_t.prototype),Cr(_t.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"focusOn"),_t.prototype),_t);function Mx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Ax=Mx;function wx(e,r){return e&&Eo(r,Oo(r),e)}var Nx=wx;function Dx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var jx=Dx,Cx=Object.prototype,Rx=Cx.hasOwnProperty;function Ix(e){if(!Tt(e))return jx(e);var r=pa(e),t=[];for(var n in e)n=="constructor"&&(r||!Rx.call(e,n))||t.push(n);return t}var Bx=Ix;function _x(e){return Zn(e)?id(e,!0):Bx(e)}var ui=_x;function Lx(e,r){return e&&Eo(r,ui(r),e)}var zx=Lx,ap=i(106);function Fx(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var up=Fx;function Hx(e,r){return Eo(e,Ot(e),r)}var Gx=Hx,$x=ad(Object.getPrototypeOf,Object),Wl=$x,kx=Object.getOwnPropertySymbols,Xx=kx?function(e){for(var r=[];e;)ri(r,Ot(e)),e=Wl(e);return r}:fe,sp=Xx;function Ux(e,r){return Eo(e,sp(e),r)}var Yx=Ux;function Wx(e){return O(e,ui,sp)}var Kx=Wx,Vx=Object.prototype,Zx=Vx.hasOwnProperty;function Jx(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&Zx.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Qx=Jx;function qx(e){var r=new e.constructor(e.byteLength);return new kt(r).set(new kt(e)),r}var Kl=qx;function eS(e,r){var t=r?Kl(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var tS=eS,rS=/\w*$/;function nS(e){var r=new e.constructor(e.source,rS.exec(e));return r.lastIndex=e.lastIndex,r}var oS=nS,lp=sr?sr.prototype:void 0,fp=lp?lp.valueOf:void 0;function iS(e){return fp?Object(fp.call(e)):{}}var aS=iS;function uS(e,r){var t=r?Kl(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var cp=uS,sS="[object Boolean]",lS="[object Date]",fS="[object Map]",cS="[object Number]",dS="[object RegExp]",pS="[object Set]",hS="[object String]",vS="[object Symbol]",yS="[object ArrayBuffer]",gS="[object DataView]",mS="[object Float32Array]",bS="[object Float64Array]",OS="[object Int8Array]",ES="[object Int16Array]",xS="[object Int32Array]",SS="[object Uint8Array]",PS="[object Uint8ClampedArray]",TS="[object Uint16Array]",MS="[object Uint32Array]";function AS(e,r,t){var n=e.constructor;switch(r){case yS:return Kl(e);case sS:case lS:return new n(+e);case gS:return tS(e,t);case mS:case bS:case OS:case ES:case xS:case SS:case PS:case TS:case MS:return cp(e,t);case fS:return new n;case cS:case hS:return new n(e);case dS:return oS(e);case pS:return new n;case vS:return aS(e)}}var wS=AS,dp=Object.create,NS=function(){function e(){}return function(r){if(!Tt(r))return{};if(dp)return dp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),DS=NS;function jS(e){return typeof e.constructor=="function"&&!pa(e)?DS(Wl(e)):{}}var pp=jS,CS="[object Map]";function RS(e){return Mt(e)&&oi(e)==CS}var IS=RS,hp=bo.a&&bo.a.isMap,BS=hp?Cl(hp):IS,_S=BS,LS="[object Set]";function zS(e){return Mt(e)&&oi(e)==LS}var FS=zS,vp=bo.a&&bo.a.isSet,HS=vp?Cl(vp):FS,GS=HS,$S=1,kS=2,XS=4,yp="[object Arguments]",US="[object Array]",YS="[object Boolean]",WS="[object Date]",KS="[object Error]",gp="[object Function]",VS="[object GeneratorFunction]",ZS="[object Map]",JS="[object Number]",mp="[object Object]",QS="[object RegExp]",qS="[object Set]",e0="[object String]",t0="[object Symbol]",r0="[object WeakMap]",n0="[object ArrayBuffer]",o0="[object DataView]",i0="[object Float32Array]",a0="[object Float64Array]",u0="[object Int8Array]",s0="[object Int16Array]",l0="[object Int32Array]",f0="[object Uint8Array]",c0="[object Uint8ClampedArray]",d0="[object Uint16Array]",p0="[object Uint32Array]",At={};At[yp]=At[US]=At[n0]=At[o0]=At[YS]=At[WS]=At[i0]=At[a0]=At[u0]=At[s0]=At[l0]=At[ZS]=At[JS]=At[mp]=At[QS]=At[qS]=At[e0]=At[t0]=At[f0]=At[c0]=At[d0]=At[p0]=!0,At[KS]=At[gp]=At[r0]=!1;function Ea(e,r,t,n,o,a){var l,p=r&$S,g=r&kS,E=r&XS;if(t&&(l=o?t(e,n,o,a):t(e)),l!==void 0)return l;if(!Tt(e))return e;var T=d(e);if(T){if(l=Qx(e),!p)return up(e,l)}else{var j=oi(e),_=j==gp||j==VS;if(Object(sn.a)(e))return Object(ap.a)(e,p);if(j==mp||j==yp||_&&!o){if(l=g||_?{}:pp(e),!p)return g?Yx(e,zx(l,e)):Gx(e,Nx(l,e))}else{if(!At[j])return o?e:{};l=wS(e,j,p)}}a||(a=new Tn);var G=a.get(e);if(G)return G;a.set(e,l),GS(e)?e.forEach(function(ue){l.add(Ea(ue,r,t,ue,e,a))}):_S(e)&&e.forEach(function(ue,se){l.set(se,Ea(ue,r,t,se,e,a))});var Z=E?g?Kx:Il:g?ui:Oo,ie=T?void 0:Z(e);return Ax(ie||e,function(ue,se){ie&&(se=ue,ue=e[se]),ba(l,se,Ea(ue,r,t,se,e,a))}),l}var h0=Ea,v0=1,y0=4;function g0(e){return h0(e,v0|y0)}var jt=g0;function m0(e,r,t){(t!==void 0&&!Vt(e[r],t)||t===void 0&&!(r in e))&&Xl(e,r,t)}var Vl=m0;function b0(e){return Mt(e)&&Zn(e)}var O0=b0,E0="[object Object]",x0=Function.prototype,S0=Object.prototype,bp=x0.toString,P0=S0.hasOwnProperty,T0=bp.call(Object);function M0(e){if(!Mt(e)||$r(e)!=E0)return!1;var r=Wl(e);if(r===null)return!0;var t=P0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&bp.call(t)==T0}var A0=M0;function w0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var Zl=w0;function N0(e){return Eo(e,ui(e))}var D0=N0;function j0(e,r,t,n,o,a,l){var p=Zl(e,t),g=Zl(r,t),E=l.get(g);if(E){Vl(e,t,E);return}var T=a?a(p,g,t+"",e,r,l):void 0,j=T===void 0;if(j){var _=d(g),G=!_&&Object(sn.a)(g),Z=!_&&!G&&Rl(g);T=g,_||G||Z?d(p)?T=p:O0(p)?T=up(p):G?(j=!1,T=Object(ap.a)(g,!0)):Z?(j=!1,T=cp(g,!0)):T=[]:A0(g)||An(g)?(T=p,An(p)?T=D0(p):(!Tt(p)||co(p))&&(T=pp(g))):j=!1}j&&(l.set(g,T),o(T,g,n,a,l),l.delete(g)),Vl(e,t,T)}var C0=j0;function Op(e,r,t,n,o){e!==r&&Sd(r,function(a,l){if(o||(o=new Tn),Tt(a))C0(e,r,l,t,Op,n,o);else{var p=n?n(Zl(e,l),a,l+"",e,r,o):void 0;p===void 0&&(p=a),Vl(e,l,p)}},ui)}var R0=Op,I0=Ad(function(e,r,t){R0(e,r,t)}),Ep=I0,B0={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},xp=function(r){var t=jt(B0);return r&&(t=Ep(t,r)),t};i(78),i(158);function _0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L0(e,r,t){return r&&Sp(e.prototype,r),t&&Sp(e,t),e}function z0(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var F0="*",H0=function(){function e(){_0(this,e),z0(this,"_events",{})}return L0(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(l){l=l.trim(),a._events[l]||(a._events[l]=[]),a._events[l].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var l=o._events[a]||[],p=o._events[F0]||[],g=function(T){for(var j=T.length,_=0;_<j;_++)if(!!T[_]){var G=T[_],Z=G.callback,ie=G.once;ie&&(T.splice(_,1),T.length===0&&delete o._events[a],j--,_--),Z.apply(o,[n])}};g(l),g(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var l=o._events[a]||[],p=l.length,g=0;g<p;g++)l[g].callback===n&&(l.splice(g,1),p--,g--);l.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function wn(e,r){return r*Math.round(e/r)||e}function Pp(e,r){return e%r}function Jl(e,r){return X0(e)||k0(e,r)||$0(e,r)||G0()}function G0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $0(e,r){if(!!e){if(typeof e=="string")return Tp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tp(e,r)}}function Tp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function k0(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function X0(e){if(Array.isArray(e))return e}var Ql=function(r,t,n){var o=Jl(r,2),a=o[0],l=o[1],p=Jl(t,2),g=p[0],E=p[1],T=Jl(n,2),j=T[0],_=T[1];return a>g&&a<j&&l>E&&l<_},Mp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var xa,U0=new Uint8Array(16);function Y0(){if(!xa&&(xa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!xa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xa(U0)}var W0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function K0(e){return typeof e=="string"&&W0.test(e)}for(var V0=K0,Kt=[],ql=0;ql<256;++ql)Kt.push((ql+256).toString(16).substr(1));function Z0(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kt[e[r+0]]+Kt[e[r+1]]+Kt[e[r+2]]+Kt[e[r+3]]+"-"+Kt[e[r+4]]+Kt[e[r+5]]+"-"+Kt[e[r+6]]+Kt[e[r+7]]+"-"+Kt[e[r+8]]+Kt[e[r+9]]+"-"+Kt[e[r+10]]+Kt[e[r+11]]+Kt[e[r+12]]+Kt[e[r+13]]+Kt[e[r+14]]+Kt[e[r+15]]).toLowerCase();if(!V0(t))throw TypeError("Stringified UUID is invalid");return t}var J0=Z0;function Q0(e,r,t){e=e||{};var n=e.random||(e.rng||Y0)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return J0(n)}var ef=Q0,qn=function(){var r=ef();return r},q0=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+ef(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+ef(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var eP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var l=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(l-r.x)*(l-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(l-n.x)*(l-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:l,y:p}:!1},si=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Sa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sa=function(t){return typeof t}:Sa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function Ap(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ap(Object(t),!0).forEach(function(n){tP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ap(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function tP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var tf=function(r){var t=r.anchors;return t},Pa=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var l=n[a],p=oP(r,l);if(p){var g=nP(r,l);if(g){var E={node:l,anchorIndex:g.index,anchor:g.anchor};(!o||rP(l,o.node,t))&&(o=E)}}}return o},rP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},nP=function(r,t){for(var n=tf(t),o,a=Number.MAX_SAFE_INTEGER,l=0;l<n.length;l++){var p=Ur(r.x,r.y,n[l].x,n[l].y);p<a&&(a=p,o={index:l,anchor:wp(wp({},n[l]),{},{x:n[l].x,y:n[l].y,id:n[l].id})})}return o},Ur=function(r,t,n,o){return Math.hypot(r-n,t-o)},Nn=function(r,t){var n=!1,o=0,a=mr(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},oP=function(r,t){var n=!1,o=5,a=mr(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},mr=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,l={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return l},iP=function(r){var t=r,n=t.x,o=t.y,a=t.width,l=t.height,p=t.radius,g=[{x:n-a/2+p,y:o-l/2+p,r:p},{x:n+a/2-p,y:o-l/2+p,r:p},{x:n-a/2+p,y:o+l/2-p,r:p},{x:n+a/2-p,y:o+l/2-p,r:p}];return g},Np=function(r,t,n){var o=iP(n),a,l=Number.MAX_SAFE_INTEGER;o.forEach(function(g){var E=Ur(r.x,r.y,g.x,g.y);E<l&&(l=E,a=g)});var p=rf(r,t,a);return p},rf=function(r,t,n){var o,a=n,l=a.x,p=a.y,g=a.r;if(t===Dt.HORIZONTAL){var E=l-Math.sqrt(g*g-(r.y-p)*(r.y-p)),T=l+Math.sqrt(g*g-(r.y-p)*(r.y-p)),j=Math.abs(E-r.x)<Math.abs(T-r.x)?E:T;o={x:j,y:r.y}}else if(t===Dt.VERTICAL){var _=p-Math.sqrt(g*g-(r.x-l)*(r.x-l)),G=p+Math.sqrt(g*g-(r.x-l)*(r.x-l)),Z=Math.abs(_-r.y)<Math.abs(G-r.y)?_:G;o={x:r.x,y:Z}}return o},Dp=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},l=n.x,p=n.y,g=n.width,E=n.height;return r.y===p+E/2||r.y===p-E/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===l+g/2||r.x===l-g/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},jp=function(r,t,n){var o,a=n,l=a.x,p=a.y,g=a.rx,E=a.ry;if(t===Dt.HORIZONTAL){var T=l-Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(E*E)),j=l+Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(E*E)),_=Math.abs(T-r.x)<Math.abs(j-r.x)?T:j;o={x:_,y:r.y}}else if(t===Dt.VERTICAL){var G=p-Math.sqrt(E*E-(r.x-l)*(r.x-l)*E*E/(g*g)),Z=p+Math.sqrt(E*E-(r.x-l)*(r.x-l)*E*E/(g*g)),ie=Math.abs(G-r.y)<Math.abs(Z-r.y)?G:Z;o={x:r.x,y:ie}}return o},Ta=function(r,t,n){for(var o=n,a=o.pointsPosition,l=Number.MAX_SAFE_INTEGER,p,g=[],E=0;E<a.length;E++)g.push({start:a[E],end:a[(E+1)%a.length]});return g.forEach(function(T){var j=T.start,_=T.end,G=j,Z=_;j.x>_.x&&(G=_,Z=j);var ie={x:r.x,y:r.y};if(G.x===Z.x&&t===Dt.HORIZONTAL&&(ie={x:G.x,y:r.y}),G.y===Z.y&&t===Dt.VERTICAL&&(ie={x:r.x,y:G.y}),G.x!==Z.x&&G.y!==Z.y){var ue=(Z.y-G.y)/(Z.x-G.x),se=(G.x*Z.y-Z.x*G.y)/(G.x-Z.x);t===Dt.HORIZONTAL?ie={x:(r.y-se)/ue,y:r.y}:t===Dt.VERTICAL&&(ie={x:r.x,y:ue*r.x+se})}var we=si(ie,j,_);if(we){var ge=Ur(ie.x,ie.y,r.x,r.y);ge<l&&(l=ge,p=ie)}}),p},aP=function(r){var t=ai(r,["id","type","x","y","text","properties","virtual"]);return t},Cp=function(r,t,n,o){var a=r.x,l=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?l=r.y+o/2:t.y<r.y&&(l=r.y-o/2),{x:a,y:l}},Rp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,l=document.createElement("div");l.style.fontSize=n.fontSize,l.style.width=n.width,l.className=a,l.style.lineHeight=n.lineHeight,l.style.padding=n.padding,n.fontFamily&&(l.style.fontFamily=n.fontFamily),o>1?t.forEach(function(g){var E=document.createElement("div");E.textContent=g,l.appendChild(E)}):l.textContent=t,document.body.appendChild(l);var p=l.clientHeight;return document.body.removeChild(l),p},nf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(l){var p=Ph(l);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ma=function(r){return Sa(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Ip={node:!1,edge:!1},uP={node:!0,edge:!0},sP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},qt=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},lP=1e3,fP=999,of=function(){return++lP},cP=function(){return--fP},ye,Bp,_p,Lp,zp,Fp,Hp,Gp,$p,kp,Xp,Up,Yp,Wp,Kp,Vp,Zp,Jp,Qp,qp;function eh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Rr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?eh(Object(t),!0).forEach(function(n){br(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Gt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function dP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function th(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pP(e,r,t){return r&&th(e.prototype,r),t&&th(e,t),e}function br(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function et(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var af=(ye=function(){function e(r,t){dP(this,e),br(this,"id",qn()),Gt(this,"type",Bp,this),Gt(this,"sourceNodeId",_p,this),Gt(this,"targetNodeId",Lp,this),Gt(this,"startPoint",zp,this),Gt(this,"endPoint",Fp,this),Gt(this,"text",Hp,this),Gt(this,"properties",Gp,this),Gt(this,"points",$p,this),Gt(this,"pointsList",kp,this),Gt(this,"isSelected",Xp,this),Gt(this,"isHovered",Up,this),Gt(this,"isHitable",Yp,this),Gt(this,"draggable",Wp,this),Gt(this,"visible",Kp,this),br(this,"virtual",!1),Gt(this,"isAnimation",Vp,this),br(this,"graphModel",void 0),Gt(this,"zIndex",Zp,this),br(this,"BaseType",Ht.EDGE),br(this,"modelType",pt.EDGE),Gt(this,"state",Jp,this),br(this,"additionStateData",void 0),br(this,"sourceAnchorId",""),br(this,"targetAnchorId",""),br(this,"menu",void 0),br(this,"customTextPosition",!1),br(this,"animationData",sP),Gt(this,"style",Qp,this),Gt(this,"arrowConfig",qp,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return pP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}nr(this,rT(t));var l=this.graphModel.overlapMode;l===gr.INCREASE&&(this.zIndex=t.zIndex||of()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Rr(Rr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return jt(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return jt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return jt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,l=tf(t);return l.forEach(function(p){var g=Ah(p,n);a?g<a&&(a=g,o=p):(a=g,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,l=tf(t);return l.forEach(function(p){var g=Ah(p,n.startPoint);a?g<a&&(a=g,o=p):(a=g,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(l.text={x:n,y:o,value:a}),this.graphModel.overlapMode===gr.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=qt(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Rr(Rr({},this.properties),qt(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=Rr(Rr({},this.style),{},br({},t,qt(n)))}},{key:"setStyles",value:function(t){this.style=Rr(Rr({},this.style),qt(t))}},{key:"updateStyles",value:function(t){this.style=Rr({},qt(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,l=o.y,p=o.value,g=o.draggable,E=o.editable;this.text={value:p,draggable:g,x:a+t,y:l+n,editable:E}}}},{key:"setText",value:function(t){t&&nr(this.text,t)}},{key:"updateText",value:function(t){this.text=Rr(Rr({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){nr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Bp=et(ye.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_p=et(ye.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lp=et(ye.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zp=et(ye.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fp=et(ye.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hp=et(ye.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Gp=et(ye.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$p=et(ye.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),kp=et(ye.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xp=et(ye.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Up=et(ye.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yp=et(ye.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wp=et(ye.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kp=et(ye.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vp=et(ye.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zp=et(ye.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jp=et(ye.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qp=et(ye.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),qp=et(ye.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),et(ye.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"sourceNode"),ye.prototype),et(ye.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"targetNode"),ye.prototype),et(ye.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"textPosition"),ye.prototype),et(ye.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperty"),ye.prototype),et(ye.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"deleteProperty"),ye.prototype),et(ye.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperties"),ye.prototype),et(ye.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"changeEdgeId"),ye.prototype),et(ye.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyle"),ye.prototype),et(ye.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyles"),ye.prototype),et(ye.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStyles"),ye.prototype),et(ye.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"formatText"),ye.prototype),et(ye.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"resetTextPosition"),ye.prototype),et(ye.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveText"),ye.prototype),et(ye.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setText"),ye.prototype),et(ye.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateText"),ye.prototype),et(ye.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setAnchors"),ye.prototype),et(ye.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setSelected"),ye.prototype),et(ye.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHovered"),ye.prototype),et(ye.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHitable"),ye.prototype),et(ye.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"openEdgeAnimation"),ye.prototype),et(ye.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"closeEdgeAnimation"),ye.prototype),et(ye.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setElementState"),ye.prototype),et(ye.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStartPoint"),ye.prototype),et(ye.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveStartPoint"),ye.prototype),et(ye.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateEndPoint"),ye.prototype),et(ye.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveEndPoint"),ye.prototype),et(ye.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setZIndex"),ye.prototype),et(ye.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"initPoints"),ye.prototype),et(ye.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAttributes"),ye.prototype),et(ye.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustStart"),ye.prototype),et(ye.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustEnd"),ye.prototype),et(ye.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAfterAdjustStartAndEnd"),ye.prototype),ye),uf=af;function Aa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Aa=function(t){return typeof t}:Aa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(e)}function rh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function nh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rh(Object(t),!0).forEach(function(n){ah(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function hP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function oh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vP(e,r,t){return r&&oh(e.prototype,r),t&&oh(e,t),e}function wa(){return typeof Reflect<"u"&&Reflect.get?wa=Reflect.get:wa=function(r,t,n){var o=yP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wa.apply(this,arguments)}function yP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=xo(e),e!==null););return e}function gP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sf(e,r)}function sf(e,r){return sf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sf(e,r)}function mP(e){var r=OP();return function(){var n=xo(e),o;if(r){var a=xo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return bP(this,o)}}function bP(e,r){if(r&&(Aa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ih(e)}function ih(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xo(e){return xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xo(e)}function ah(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var lf=function(e){gP(t,e);var r=mP(t);function t(){var n;hP(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),ah(ih(n),"modelType",pt.LINE_EDGE),n}return vP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=wa(xo(t.prototype),"getEdgeStyle",this).call(this);return nh(nh({},a),jt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(uf);function Na(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Na=function(t){return typeof t}:Na=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}var at,uh;function EP(e,r){return TP(e)||PP(e,r)||SP(e,r)||xP()}function xP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(e,r){if(!!e){if(typeof e=="string")return sh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sh(e,r)}}function sh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function PP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function TP(e){if(Array.isArray(e))return e}function lh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function fh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?lh(Object(t),!0).forEach(function(n){cf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function MP(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function AP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ch(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wP(e,r,t){return r&&ch(e.prototype,r),t&&ch(e,t),e}function So(){return typeof Reflect<"u"&&Reflect.get?So=Reflect.get:So=function(r,t,n){var o=NP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},So.apply(this,arguments)}function NP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Dn(e),e!==null););return e}function DP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ff(e,r)}function ff(e,r){return ff=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ff(e,r)}function jP(e){var r=RP();return function(){var n=Dn(e),o;if(r){var a=Dn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return CP(this,o)}}function CP(e,r){if(r&&(Na(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return li(e)}function li(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dn(e)}function cf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function or(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var df=(at=function(e){DP(t,e);var r=jP(t);function t(){var n;AP(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),cf(li(n),"modelType",pt.POLYLINE_EDGE),cf(li(n),"draginngPointList",void 0),MP(li(n),"dbClickPosition",uh,li(n)),n}return wP(t,[{key:"initEdgeData",value:function(o){this.offset=30,So(Dn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=So(Dn(t.prototype),"getEdgeStyle",this).call(this);return fh(fh({},a),jt(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var l=this.dbClickPosition,p=l.x,g=l.y;return{x:p,y:g}}var E=Po(this.points),T=QP(E),j=EP(T,2),_=j[0],G=j[1];return{x:(_.x+G.x)/2,y:(_.y+G.y)/2}}},{key:"getAfterAnchor",value:function(o,a,l){var p,g;return l.forEach(function(E){var T;o===Dt.HORIZONTAL?T=Math.abs(a.y-E.y):o===Dt.VERTICAL&&(T=Math.abs(a.x-E.x)),(!g||g>T)&&(g=T,p=E)}),p}},{key:"getCorssPoint",value:function(o,a,l){var p;return o===Dt.HORIZONTAL?p={x:l.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:l.y}),p}},{key:"removeCrossPoints",value:function(o,a,l){var p=l.map(function(Re){return Re});if(o===1){var g=p[o],E=p[a],T=p[o-1],j=Oh(T,g,this.sourceNode);if(j){var _=Eh(g,E,this.sourceNode);if(_){var G=xh(g,E,this.sourceNode);G&&(p[o]=G,p.splice(o-1,1),o--,a--)}}else{var Z=this.sourceNode.anchors;Z.forEach(function(Re){if(Re.x===T.x&&Re.x===g.x||Re.y===T.y&&Re.y===g.y){var Ze=Ur(Re.x,Re.y,g.x,g.y),He=Ur(T.x,T.y,g.x,g.y);Ze<He&&(p[o-1]=Re)}})}}if(a===l.length-2){var ie=p[o],ue=p[a],se=p[a+1],we=Oh(ue,se,this.targetNode);if(we){var ge=Eh(ie,ue,this.targetNode);if(ge){var be=xh(ie,ue,this.targetNode);be&&(p[a]=be,p.splice(a+1,1))}}else{var Fe=this.targetNode.anchors;Fe.forEach(function(Re){if(Re.x===se.x&&Re.x===ue.x||Re.y===se.y&&Re.y===ue.y){var Ze=Ur(Re.x,Re.y,ue.x,ue.y),He=Ur(se.x,se.y,ue.x,ue.y);Ze<He&&(p[a+1]=Re)}})}}return p}},{key:"getDragingPoints",value:function(o,a,l,p,g){var E=g.map(function(_){return _}),T=this.getAfterAnchor(o,l,p),j=this.getCorssPoint(o,l,T);return a==="start"?(E.unshift(j),E.unshift(T)):(E.push(j),E.push(T)),E}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(be){return be}),l=o[0],p=o[1],g=o[a.length-2],E=o[a.length-1],T=this.sourceNode,j=this.targetNode,_=T.modelType,G=j.modelType,Z=_a(l,p),ie=a[0];switch(_){case pt.RECT_NODE:if(T.radius!==0){var ue=Dp(l,T);ue||(ie=Np(l,Z,T))}break;case pt.CIRCLE_NODE:ie=rf(l,Z,T);break;case pt.ELLIPSE_NODE:ie=jp(l,Z,T);break;case pt.DIAMOND_NODE:ie=Ta(l,Z,T);break;case pt.POLYGON_NODE:ie=Ta(l,Z,T);break}a[0]=ie;var se=_a(g,E),we=a[a.length-1];switch(G){case pt.RECT_NODE:if(j.radius!==0){var ge=Dp(E,j);ge||(we=Np(E,se,j))}break;case pt.CIRCLE_NODE:we=rf(E,se,j);break;case pt.ELLIPSE_NODE:we=jp(E,se,j);break;case pt.DIAMOND_NODE:we=Ta(E,se,j);break;case pt.POLYGON_NODE:we=Ta(E,se,j);break}return a[a.length-1]=we,a}},{key:"getData",value:function(){var o=So(Dn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var p=l.x,g=l.y;return{x:p,y:g}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=bh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var l=o.start,p=o.end,g=o.startIndex,E=o.endIndex,T=o.direction,j=this.pointsList,_=j;return T===Dt.HORIZONTAL?(j[g]={x:l.x,y:l.y+a.y},j[E]={x:p.x,y:p.y+a.y},_=this.pointsList.map(function(G){return G})):T===Dt.VERTICAL&&(j[g]={x:l.x+a.x,y:l.y},j[E]={x:p.x+a.x,y:p.y},_=this.pointsList.map(function(G){return G})),this.updatePointsAfterDrag(_),this.draginngPointList=_,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[g]),end:Object.assign({},j[E]),startIndex:g,endIndex:E,direction:T}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var l=o.start,p=o.end,g=o.startIndex,E=o.endIndex,T=o.direction,j=this.pointsList;if(T===Dt.HORIZONTAL){j[g]={x:l.x,y:l.y+a.y},j[E]={x:p.x,y:p.y+a.y};var _=this.pointsList.map(function(yt){return yt});if(g!==0&&E!==this.pointsList.length-1&&(_=this.removeCrossPoints(g,E,_)),g===0){var G={x:l.x,y:l.y+a.y},Z=Nn(G,this.sourceNode);if(!Z){var ie=this.sourceNode.anchors;_=this.getDragingPoints(T,"start",G,ie,_)}}if(E===this.pointsList.length-1){var ue={x:p.x,y:p.y+a.y},se=Nn(ue,this.targetNode);if(!se){var we=this.targetNode.anchors;_=this.getDragingPoints(T,"end",ue,we,_)}}this.updatePointsAfterDrag(_),this.draggingPointList=_}else if(T===Dt.VERTICAL){j[g]={x:l.x+a.x,y:l.y},j[E]={x:p.x+a.x,y:p.y};var ge=this.pointsList.map(function(yt){return yt});if(g!==0&&E!==this.pointsList.length-1&&(ge=this.removeCrossPoints(g,E,ge)),g===0){var be={x:l.x+a.x,y:l.y},Fe=Nn(be,this.sourceNode);if(!Fe){var Re=this.sourceNode.anchors;ge=this.getDragingPoints(T,"start",be,Re,ge)}}if(E===this.pointsList.length-1){var Ze={x:p.x+a.x,y:p.y},He=Nn(Ze,this.targetNode);if(!He){var ht=this.targetNode.anchors;ge=this.getDragingPoints(T,"end",Ze,ht,ge)}}this.updatePointsAfterDrag(ge),this.draggingPointList=ge}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[g]),end:Object.assign({},j[E]),startIndex:g,endIndex:E,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=mh(Po(this.points));this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,l=o.endPoint,p=o.sourceNode,g=o.targetNode,E=bh({x:a.x,y:a.y},{x:l.x,y:l.y},p,g,this.offset||0);this.pointsList=E,this.initPoints()}}]),t}(uf),uh=or(at.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or(at.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),or(at.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),or(at.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),or(at.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveStartPoint"),at.prototype),or(at.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),or(at.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveEndPoint"),at.prototype),or(at.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),or(at.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),or(at.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),or(at.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),or(at.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrag"),at.prototype),or(at.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),or(at.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),or(at.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),fi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,l=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-t.y)/(n.x-t.x)),E=Math.atan(o/a),T=Math.sqrt(a*a+o*o);return l==="start"?n.x>=t.x?(p.leftX=t.x+T*Math.sin(g+E),p.leftY=t.y-T*Math.cos(g+E),p.rightX=t.x-T*Math.sin(g-E),p.rightY=t.y+T*Math.cos(g-E)):(p.leftX=t.x-T*Math.sin(g+E),p.leftY=t.y+T*Math.cos(g+E),p.rightX=t.x+T*Math.sin(g-E),p.rightY=t.y-T*Math.cos(g-E)):l==="end"&&(n.x>=t.x?(p.leftX=n.x+T*Math.sin(g-E),p.leftY=n.y-T*Math.cos(g-E),p.rightX=n.x-T*Math.sin(g+E),p.rightY=n.y+T*Math.cos(g+E)):(p.leftX=n.x-T*Math.sin(g-E),p.leftY=n.y+T*Math.cos(g-E),p.rightX=n.x+T*Math.sin(g+E),p.rightY=n.y-T*Math.cos(g+E))),p};function dh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Da(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dh(Object(t),!0).forEach(function(n){IP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function IP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function BP(e){return zP(e)||LP(e)||ph(e)||_P()}function _P(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zP(e){if(Array.isArray(e))return hf(e)}function ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(t){return typeof t}:ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}function pf(e,r){return GP(e)||HP(e,r)||ph(e,r)||FP()}function FP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ph(e,r){if(!!e){if(typeof e=="string")return hf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hf(e,r)}}function hf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function HP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function GP(e){if(Array.isArray(e))return e}var $P=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},vf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Ca=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},kP=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Ra=function(r,t){var n=kP(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},hh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),l=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+l)/2,minX:n,minY:o,maxX:a,maxY:l,height:l-o,width:a-n}},ci=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(j){n.push(j.x),o.push(j.y)});var a=Math.min.apply(Math,n),l=Math.max.apply(Math,n),p=Math.min.apply(Math,o),g=Math.max.apply(Math,o),E=l-a,T=g-p;return t&&(E+=t,T+=t),{centerX:(a+l)/2,centerY:(p+g)/2,maxX:l,maxY:g,minX:a,minY:p,x:(a+l)/2,y:(p+g)/2,height:T,width:E}},Ia=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},Ba=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},XP=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},UP=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},YP=function(r,t){return XP(r,t.x).concat(UP(r,t.y))},yf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},WP=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},vh=function(r,t,n,o,a){return yf(r,t)+yf(r,n)+WP(r,[t,n,o,a])},KP=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},VP=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},di=function(r,t,n,o){var a=t.x-r.x,l=t.y-r.y,p=o.x-n.x,g=o.y-n.y,E=(-l*(r.x-n.x)+a*(r.y-n.y))/(-p*l+a*g),T=(p*(r.y-n.y)-g*(r.x-n.x))/(-p*l+a*g);return E>=0&&E<=1&&T>=0&&T<=1},yh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Ia(n),a=pf(o,4),l=a[0],p=a[1],g=a[2],E=a[3];return di(r,t,l,p)||di(r,t,l,E)||di(r,t,p,g)||di(r,t,g,E)},ZP=function(r,t,n,o){var a=[];return r.forEach(function(l){l!==t&&(l.x===t.x||l.y===t.y)&&!yh(l,t,n)&&!yh(l,t,o)&&a.push(l)}),vf(a)},JP=function(r,t,n,o,a,l,p){var g=[],E=[t],T={},j={},_={};j[t.id]=0,_[t.id]=vh(t,n,t);var G={};r.forEach(function(ue){G[ue.id]=ue});for(var Z=function(){var se=void 0,we=1/0;if(E.forEach(function(be){_[be.id]<we&&(we=_[be.id],se=be)}),se===n){var ge=[];return KP(ge,G,T,n.id),{v:ge}}VP(E,se),g.push(se),ZP(r,se,o,a).forEach(function(be){if(g.indexOf(be)===-1){E.indexOf(be)===-1&&E.push(be);var Fe=_[se.id]+yf(se,be);j[be.id]&&Fe>=j[be.id]||(T[be.id]=se.id,j[be.id]=Fe,_[be.id]=j[be.id]+vh(be,n,t,l,p))}})};E.length;){var ie=Z();if(ja(ie)==="object")return ie.v}return[t,n]},gh=function(r){var t=mr(r);return t},mh=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],l=t[n+1];o.x===a.x&&a.x===l.x||o.y===a.y&&a.y===l.y?t.splice(n,1):n++}return t},bh=function(r,t,n,o,a){var l=gh(n),p=gh(o),g=Ca(l,a),E=Ca(p,a),T=Ra(g,r),j=Ra(E,t);if($P(g,E)){var _=qP(r,t,T,j);return[r,T].concat(BP(_),[j,t])}var G=ci([T,j]),Z=hh(g,G),ie=hh(E,G),ue=[];ue=ue.concat(Ia(Z)),ue=ue.concat(Ia(ie));var se={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[G,Z,ie].forEach(function(ge){ue=ue.concat(YP(ge,se).filter(function(be){return Ba(be,g)&&Ba(be,E)}))}),[{x:T.x,y:j.y},{x:j.x,y:T.y}].forEach(function(ge){Ba(ge,g)&&Ba(ge,E)&&ue.push(ge)}),ue.unshift(T),ue.push(j),ue=vf(ue);var we=JP(ue,T,j,l,p,r,t);return we.unshift(r),we.push(t),we.length>2&&(we=mh(we)),vf(we)},QP=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Ur(n.x,n.y,o.x,o.y),l=1;l<r.length-1;l++){var p=r[l],g=r[l+1],E=Ur(p.x,p.y,g.x,g.y);E>a&&(a=E,n=p,o=g)}t=[n,o]}return t},Oh=function(r,t,n){var o=Nn(r,n),a=Nn(t,n);return o&&a},Eh=function(r,t,n){var o=Nn(r,n),a=Nn(t,n),l=o&&a,p=o||a;return!l&&p},xh=function(r,t,n){for(var o,a,l=mr(n),p=Ia(l),g=0;g<p.length;g++){var E=di(r,t,p[g],p[(g+1)%p.length]);E&&(a=[p[g],p[(g+1)%p.length]])}return a&&(o=eP(r,t,a[0],a[1])),o},_a=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},Po=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),l=pf(a,2),p=l[0],g=l[1];n.push({x:Number(p),y:Number(g)})}),n},qP=function(r,t,n,o){var a=[],l=_a(r,n),p=_a(t,o);if(l===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var g={x:n.x,y:o.y},E=si(g,r,n),T=si(g,t,o);if(E||T)g={x:o.x,y:n.y};else{var j=Sh(g,r,n),_=Sh(g,t,o);j&&_&&(g={x:o.x,y:n.y})}a.push(g)}return a},Sh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},Ph=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},eT=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},l=fi(Da(Da({},a),{},{type:"start"})),p=fi(Da(Da({},a),{},{type:"end"}));o="M".concat(l.leftX," ").concat(l.leftY,` 
    L`).concat(l.rightX," ").concat(l.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Th=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,l=r.offset,p=mr(o),g=mr(a),E=Ca(p,l),T=Ca(g,l),j=Ra(E,t),_=Ra(T,n);return{sNext:j,ePre:_}},La=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=za(t[0]),o=za(t[1]),a=za(t[2]),l=za(t[3]);return[n,o,a,l]},za=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=pf(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},tT=function(r){var t=La(r);return[t[2],t[3]]},Mh=function(r,t){for(var n=r.x,o=r.y,a=Po(t),l=Number.MAX_SAFE_INTEGER,p,g=[],E=0;E<a.length;E++)g.push({start:a[E],end:a[(E+1)%a.length]});if(g.forEach(function(G){var Z=G.start,ie=G.end;if(Z.x===ie.x){var ue={x:Z.x,y:o},se=si(ue,Z,ie);if(se){var we=Math.abs(Z.x-n);we<l&&(l=we,p=ue)}}else if(Z.y===ie.y){var ge={x:n,y:Z.y},be=si(ge,Z,ie);if(be){var Fe=Math.abs(Z.y-o);Fe<l&&(l=Fe,p=ge)}}}),!p){var T=g[0],j=T.start,_=T.end;p={x:j.x+(_.x-j.x)/2,y:j.y+(_.y-j.y)/2}}return p},rT=function(r){return ai(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Ah=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function nT(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function oT(){}var To=oT;function iT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aT(e,r,t){return r&&wh(e.prototype,r),t&&wh(e,t),e}function zt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Yr=window.document,Nh=0;function gf(e){var r=e.onDragStart,t=r===void 0?To:r,n=e.onDraging,o=n===void 0?To:n,a=e.onDragEnd,l=a===void 0?To:a,p=e.step,g=p===void 0?1:p,E=e.isStopPropagation,T=E===void 0?!0:E,j=!1,_=!1,G=0,Z=0,ie=0,ue=0;function se(be){if(T&&be.stopPropagation(),!!_&&(j=!0,ie+=be.clientX-G,ue+=be.clientY-Z,G=be.clientX,Z=be.clientY,Math.abs(ie)>g||Math.abs(ue)>g)){var Fe=ie%g,Re=ue%g,Ze=ie-Fe,He=ue-Re;ie=Fe,ue=Re,o({deltaX:Ze,deltaY:He,event:be})}}function we(be){if(T&&be.stopPropagation(),_=!1,Yr.removeEventListener("mousemove",se,!1),Yr.removeEventListener("mouseup",we,!1),!!j)return j=!1,l({event:be})}function ge(be){if(be.button===Nh)return T&&be.stopPropagation(),_=!0,G=be.clientX,Z=be.clientY,Yr.addEventListener("mousemove",se,!1),Yr.addEventListener("mouseup",we,!1),t({event:be})}return ge}var eo=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?To:n,a=r.onDraging,l=a===void 0?To:a,p=r.onDragEnd,g=p===void 0?To:p,E=r.eventType,T=E===void 0?"":E,j=r.eventCenter,_=j===void 0?null:j,G=r.step,Z=G===void 0?1:G,ie=r.isStopPropagation,ue=ie===void 0?!0:ie,se=r.model,we=se===void 0?null:se;iT(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(ge){var be,Fe;if(ge.button===Nh){t.isStopPropagation&&ge.stopPropagation(),t.isStartDraging=!0,t.startX=ge.clientX,t.startY=ge.clientY,Yr.addEventListener("mousemove",t.handleMouseMove,!1),Yr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEDOWN")],{e:ge,data:Re}),t.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(ge){if(t.isStopPropagation&&ge.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=ge.clientX-t.startX,t.sumDeltaY+=ge.clientY-t.startY,t.startX=ge.clientX,t.startY=ge.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var be,Fe=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,Ze=t.sumDeltaX-Fe,He=t.sumDeltaY-Re;t.sumDeltaX=Fe,t.sumDeltaY=Re;var ht=(be=t.model)===null||be===void 0?void 0:be.getData();if(!t.isDraging){var yt;(yt=t.eventCenter)===null||yt===void 0||yt.emit(it["".concat(t.eventType,"_DRAGSTART")],{e:ge,data:ht}),t.onDragStart({event:ge})}t.isDraging=!0,Promise.resolve().then(function(){var ur,Or;t.onDraging({deltaX:Ze,deltaY:He,event:ge}),(ur=t.eventCenter)===null||ur===void 0||ur.emit(it["".concat(t.eventType,"_MOUSEMOVE")],{e:ge,data:ht}),(Or=t.eventCenter)===null||Or===void 0||Or.emit(it["".concat(t.eventType,"_DRAG")],{e:ge,data:ht})})}}),zt(this,"handleMouseUp",function(ge){t.isStartDraging=!1,t.isStopPropagation&&ge.stopPropagation(),Promise.resolve().then(function(){var be,Fe,Re;Yr.removeEventListener("mousemove",t.handleMouseMove,!1),Yr.removeEventListener("mouseup",t.handleMouseUp,!1);var Ze=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEUP")],{e:ge,data:Ze}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:ge}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(it["".concat(t.eventType,"_DROP")],{e:ge,data:Ze}))})}),zt(this,"cancelDrag",function(){Yr.removeEventListener("mousemove",t.handleMouseMove,!1),Yr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=l,this.onDragEnd=g,this.step=Z,this.isStopPropagation=ue,this.eventType=T,this.eventCenter=_,this.model=we}return aT(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),uT=function(r){return!r||typeof r=="boolean"?jt(r===!0?uP:Ip):Ep(jt(Ip),r)},de,Dh,jh,Ch,Rh,Ih,Bh,_h,Lh,zh,Fh,Hh,Gh;function $h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Fa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$h(Object(t),!0).forEach(function(n){Wr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$h(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mf(e,r){return fT(e)||lT(e,r)||kh(e,r)||sT()}function sT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function fT(e){if(Array.isArray(e))return e}function Mo(e){return pT(e)||dT(e)||kh(e)||cT()}function cT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kh(e,r){if(!!e){if(typeof e=="string")return bf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bf(e,r)}}function dT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pT(e){if(Array.isArray(e))return bf(e)}function bf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pi=function(t){return typeof t}:pi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(e)}function Ar(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function hT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vT(e,r,t){return r&&Xh(e.prototype,r),t&&Xh(e,t),e}function Wr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ke(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ha=200,Uh=(de=function(){function e(r){hT(this,e),Wr(this,"rootEl",void 0),Ar(this,"width",Dh,this),Ar(this,"height",jh,this),Wr(this,"theme",void 0),Wr(this,"eventCenter",void 0),Wr(this,"modelMap",new Map),Wr(this,"topElement",void 0),Wr(this,"animation",void 0),Wr(this,"idGenerator",void 0),Wr(this,"edgeGenerator",void 0),Wr(this,"nodeMoveRules",[]),Ar(this,"edgeType",Ch,this),Ar(this,"nodes",Rh,this),Ar(this,"edges",Ih,this),Ar(this,"overlapMode",Bh,this),Ar(this,"background",_h,this),Ar(this,"transformModel",Lh,this),Ar(this,"editConfigModel",zh,this),Ar(this,"gridSize",Fh,this),Ar(this,"partial",Hh,this),Ar(this,"fakerNode",Gh,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,l=r.idGenerator,p=r.edgeGenerator,g=r.animation;this.background=o,pi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new Vd(r),this.eventCenter=new H0,this.transformModel=new Tx(this.eventCenter),this.theme=xp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=uT(g),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=l,this.edgeGenerator=nT(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return vT(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Mo(this.nodes),Mo(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(g){return t.push(g)}),this.edges.forEach(function(g){return t.push(g)}),t=t.sort(function(g,E){return g.zIndex-E.zIndex});for(var n=[],o=[-Ha,-Ha],a=[this.width+Ha,this.height+Ha],l=0;l<t.length;l++){var p=t[l];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,a,!1,!1))&&n.push(p)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],g=[];this.nodes.forEach(function(j){return g.push(j)}),this.edges.forEach(function(j){return g.push(j)});for(var E=0;E<g.length;E++){var T=g[E];(!l||T.visible)&&this.isElementInArea(T,t,n,o,a)&&p.push(T)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),l={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),g=mf(p,2),E=g[0],T=g[1];return{domOverlayPosition:l,canvasOverlayPosition:{x:E,y:T}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Ht.NODE){t=t;for(var p=mr(t),g=p.minX,E=p.minY,T=p.maxX,j=p.maxY,_=[{x:g,y:E},{x:T,y:E},{x:T,y:j},{x:g,y:j}],G=l,Z=0;Z<_.length;Z++){var ie=_[Z],ue=ie.x,se=ie.y,we=this.transformModel.CanvasPointToHtmlPoint([ue,se]),ge=mf(we,2);if(ue=ge[0],se=ge[1],Ql([ue,se],n,o)!==l){G=!l;break}}return G}if(t.BaseType===Ht.EDGE){t=t;var be=t,Fe=be.startPoint,Re=be.endPoint,Ze=this.transformModel.CanvasPointToHtmlPoint([Fe.x,Fe.y]),He=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),ht=Ql(Ze,n,o),yt=Ql(He,n,o);return a?ht&&yt:ht||yt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=ga(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,p=o.y;return l&&p&&(o.x=wn(l,n.gridSize),o.y=wn(p,n.gridSize),pi(o.text)==="object"&&(o.text.x-=Pp(l,n.gridSize),o.text.y-=Pp(p,n.gridSize))),new a(o,n)}),this.edges=ga(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var l=!1,p=[],g=0;g<this.edges.length;g++){var E=this.edges[g];if(E.isDragging){l=!0;break}else p.push(E.getHistoryData())}return l?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],l=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(l||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Ht.NODE&&o.nodes.push(a.getData()),a.BaseType===Ht.EDGE){var l=a.getData(),p=n.get(l.sourceNodeId)&&n.get(l.targetNodeId);(t||p)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=qn()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=qn()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===gr.DEFAULT){var l;(l=this.topElement)===null||l===void 0||l.setZIndex(),a.setZIndex(mx),this.topElement=a}this.overlapMode===gr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,l=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(l){var p;typeof n=="number"&&(p=n),n==="top"&&(p=of()),n==="bottom"&&(p=cP()),l.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(it.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=qt(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));n.x=wn(n.x,this.gridSize),n.y=wn(n.y,this.gridSize);var a=new o(n,this);this.nodes.push(a);var l=a.getData();return this.eventCenter.emit(it.NODE_ADD,{data:l}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=l.model,g=p.getMoveDistance(n,o,a),E=mf(g,2);n=E[0],o=E[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=l.model,g=p.x,E=p.y,T=n-g,j=o-E;this.moveNode(t,T,j,a)}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=qt(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new a(Fa(Fa({},n),{},{type:o}),this),p=l.getData();return this.edges.push(l),this.eventCenter.emit(it.EDGE_ADD,{data:p}),l}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var l=this.edges[a],p=l.textPosition,g=p.x,E=p.y,T=this.edges[a].sourceNodeId===t,j=this.edges[a].targetNodeId===t;if(T&&l.moveStartPoint(n,o),j&&l.moveEndPoint(n,o),T||j){var _;if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===pt.POLYLINE_EDGE&&(_=l.text)!==null&&_!==void 0&&_.value){var G=l.text,Z=Mh(G,l.points);l.moveText(Z.x-G.x,Z.y-G.y)}else{var ie=l.textPosition,ue=ie.x,se=ie.y;l.moveText(ue-g,se-E)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===gr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,l)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var a=o.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new l(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var g=this.getNodeEdges(t);g.forEach(function(E){if(E.sourceNodeId===t){var T=Cp(p,E.startPoint,p.width,p.height);E.updateStartPoint(T)}if(E.targetNodeId===t){var j=Cp(p,E.endPoint,p.width,p.height);E.updateEndPoint(j)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var a=o.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new l(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=xp(Fa(Fa({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(G){var Z=G.x,ie=G.y,ue=G.width,se=G.height,we=G.getNodeStyle(),ge=we.strokeWidth,be=ge===void 0?0:ge;n=n.concat([Z+ue/2+be,Z-ue/2-be]),o=o.concat([ie+se/2+be,ie-se/2-be])});var a=Math.min.apply(Math,Mo(n)),l=Math.max.apply(Math,Mo(n)),p=Math.min.apply(Math,Mo(o)),g=Math.max.apply(Math,Mo(o)),E=l-a||0,T=g-p||0,j=a+E/2,_=p+T/2;return{virtualRectWidth:E,virtualRectHeight:T,virtualRectCenterPositionX:j,virtualRectCenterPositionY:_}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,l=this.transformModel;if(!!t.length){var p=n||a.clientWidth,g=o||a.clientHeight,E=this.getVirtualRectSize(),T=E.virtualRectCenterPositionX,j=E.virtualRectCenterPositionY;l.focusOn(T,j,p,g)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,l=this.height,p=this.rootEl,g=this.transformModel;if(!!o.length){var E=a||p.clientWidth,T=l||p.clientHeight,j=this.getVirtualRectSize(),_=j.virtualRectWidth,G=j.virtualRectHeight,Z=j.virtualRectCenterPositionX,ie=j.virtualRectCenterPositionY,ue=(_+n)/E,se=(G+t)/T,we=0;we=1/Math.max(ue,se);var ge=[E/2,T/2];g.zoom(we,ge),g.focusOn(Z,ie,E,T)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),Dh=Ke(de.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jh=Ke(de.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ch=Ke(de.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rh=Ke(de.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ih=Ke(de.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bh=Ke(de.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gr.DEFAULT}}),_h=Ke(de.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh=Ke(de.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zh=Ke(de.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fh=Ke(de.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hh=Ke(de.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gh=Ke(de.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(de.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ke(de.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ke(de.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ke(de.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ke(de.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ke(de.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ke(de.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ke(de.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ke(de.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ke(de.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ke(de.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ke(de.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ke(de.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ke(de.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ke(de.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ke(de.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ke(de.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ke(de.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ke(de.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ke(de.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ke(de.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ke(de.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ke(de.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ke(de.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ke(de.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ke(de.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ke(de.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ke(de.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ke(de.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ke(de.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ke(de.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ke(de.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ke(de.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ke(de.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ke(de.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ke(de.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ke(de.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ke(de.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ke(de.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ke(de.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ke(de.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ke(de.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ke(de.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ke(de.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),yT=Uh;function Ga(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ga=function(t){return typeof t}:Ga=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}var Yh;function Of(){return Of=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Of.apply(this,arguments)}function gT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mT(e,r,t){return r&&Wh(e.prototype,r),t&&Wh(e,t),e}function bT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ef(e,r)}function Ef(e,r){return Ef=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ef(e,r)}function OT(e){var r=xT();return function(){var n=$a(e),o;if(r){var a=$a(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ET(this,o)}}function ET(e,r){if(r&&(Ga(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kr(e)}function Kr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $a(e){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(e)}function ln(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ST=Hr(Yh=function(e){bT(t,e);var r=OT(t);function t(n){var o;gT(this,t),o=r.call(this),ln(Kr(o),"stepDrag",void 0),ln(Kr(o),"stepScrollX",0),ln(Kr(o),"stepScrollY",0),ln(Kr(o),"onDraging",function(g){var E=g.deltaX,T=g.deltaY;o.setState({isDraging:!0});var j=o.props.graphModel,_=j.transformModel,G=j.editConfigModel;G.stopMoveGraph||_.translate(E,T)}),ln(Kr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),ln(Kr(o),"zoomHandler",function(g){var E=o.props,T=E.graphModel,j=T.editConfigModel,_=T.transformModel,G=T.gridSize,Z=E.graphModel,ie=g.deltaX,ue=g.deltaY;if(!j.stopScrollGraph&&g.ctrlKey!==!0){if(g.preventDefault(),o.stepScrollX+=ie,o.stepScrollY+=ue,Math.abs(o.stepScrollX)>=G){var se=o.stepScrollX%G,we=o.stepScrollX-se;_.translate(-we*_.SCALE_X,0),o.stepScrollX=se}if(Math.abs(o.stepScrollY)>=G){var ge=o.stepScrollY%G,be=o.stepScrollY-ge;_.translate(0,-be*_.SCALE_Y),o.stepScrollY=ge}return}if(!j.stopZoomGraph){g.preventDefault();var Fe=Z.getPointByClient({x:g.clientX,y:g.clientY}),Re=Fe.canvasOverlayPosition,Ze=Re.x,He=Re.y;_.zoom(g.deltaY<0,[Ze,He])}}),ln(Kr(o),"clickHandler",function(g){var E=g.target;if(E.getAttribute("name")==="canvas-overlay"){var T=o.props.graphModel,j=T.selectElements;j.size>0&&T.clearSelectElements(),T.eventCenter.emit(it.BLANK_CLICK,{e:g})}}),ln(Kr(o),"handleContextMenu",function(g){var E=g.target;if(E.getAttribute("name")==="canvas-overlay"){g.preventDefault();var T=o.props.graphModel,j=T.getPointByClient({x:g.clientX,y:g.clientY});T.eventCenter.emit(it.BLANK_CONTEXTMENU,{e:g,position:j})}}),ln(Kr(o),"mouseDownHandler",function(g){var E=o.props.graphModel,T=E.eventCenter,j=E.editConfigModel,_=E.transformModel.SCALE_X,G=E.gridSize,Z=g.target,ie=!j.adjustEdge&&!j.adjustNodePosition;(Z.getAttribute("name")==="canvas-overlay"||ie)&&(j.stopMoveGraph?T.emit(it.BLANK_MOUSEDOWN,{e:g}):(o.stepDrag.setStep(G*_),o.stepDrag.handleMouseDown(g)),o.clickHandler(g))});var a=n.graphModel,l=a.gridSize,p=a.eventCenter;return o.stepDrag=new eo({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return mT(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),l=a.transform,p=this.props,g=p.children,E=p.dnd,T=this.state.isDraging;return Object(oe.g)("svg",Of({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(oe.g)("g",{transform:l},g))}}]),t}(oe.a))||Yh,PT=ST;function ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ka=function(t){return typeof t}:ka=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(e)}var Kh;function TT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MT(e,r,t){return r&&Vh(e.prototype,r),t&&Vh(e,t),e}function AT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&xf(e,r)}function xf(e,r){return xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},xf(e,r)}function wT(e){var r=DT();return function(){var n=Xa(e),o;if(r){var a=Xa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return NT(this,o)}}function NT(e,r){if(r&&(ka(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zh(e)}function Zh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xa(e){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(e)}function jT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var CT=Hr(Kh=function(e){AT(t,e);var r=wT(t);function t(){var n;TT(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),jT(Zh(n),"setToolOverlayRef",function(p){var g=n.props.tool,E=g.getInstance();E.components.forEach(function(T){return T(E,p)}),E.components=[]}),n}return MT(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,l=o.graphModel,p=a.getTools(),g=p.map(function(E){return Object(oe.g)(E,{graphModel:l,logicFlow:a.instance})});return a.components=g,g}},{key:"render",value:function(){return Object(oe.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(oe.a))||Kh;function Ua(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ua=function(t){return typeof t}:Ua=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function RT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IT(e,r,t){return r&&Jh(e.prototype,r),t&&Jh(e,t),e}function BT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sf(e,r)}function Sf(e,r){return Sf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sf(e,r)}function _T(e){var r=FT();return function(){var n=Ya(e),o;if(r){var a=Ya(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return LT(this,o)}}function LT(e,r){if(r&&(Ua(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zT(e)}function zT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(e)}var HT=function(e){BT(t,e);var r=_T(t);function t(){return RT(this,t),r.apply(this,arguments)}return IT(t,[{key:"render",value:function(){var o=this.props.background;return Object(oe.g)("div",{className:"lf-background"},Object(oe.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(oe.a);function Wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wa=function(t){return typeof t}:Wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}var Qh;function GT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $T(e,r,t){return r&&qh(e.prototype,r),t&&qh(e,t),e}function kT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pf(e,r)}function Pf(e,r){return Pf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Pf(e,r)}function XT(e){var r=YT();return function(){var n=Ka(e),o;if(r){var a=Ka(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return UT(this,o)}}function UT(e,r){if(r&&(Wa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ev(e)}function ev(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(e)}function WT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var tv=Hr(Qh=function(e){kT(t,e);var r=XT(t);function t(){var n;GT(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),WT(ev(n),"id",qn()),n}return $T(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,l=a.color,p=a.thickness,g=p===void 0?2:p,E=o.size,T=o.visible,j=Math.min(Math.max(2,g),E/2),_=1;return T||(_=0),Object(oe.g)("rect",{width:j,height:j,rx:j/2,ry:j/2,fill:l,opacity:_})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,l=a.color,p=a.thickness,g=p===void 0?1:p,E=o.size,T=o.visible,j=Math.min(Math.max(1,g),E/2),_="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),G=1;return T||(G=0),Object(oe.g)("path",{d:_,stroke:l,strokeWidth:j,opacity:G})}},{key:"render",value:function(){var o=this.props,a=o.type,l=o.size,p=o.graphModel.transformModel,g=p.SCALE_X,E=p.SKEW_Y,T=p.SKEW_X,j=p.SCALE_Y,_=p.TRANSLATE_X,G=p.TRANSLATE_Y,Z=[g,E,T,j,_,G].join(","),ie="matrix(".concat(Z,")");return Object(oe.g)("div",{className:"lf-grid"},Object(oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(oe.g)("defs",null,Object(oe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ie,x:"0",y:"0",width:l,height:l},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(oe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(oe.a))||Qh;tv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function Va(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(t){return typeof t}:Va=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}function KT(e,r){return QT(e)||JT(e,r)||ZT(e,r)||VT()}function VT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZT(e,r){if(!!e){if(typeof e=="string")return rv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rv(e,r)}}function rv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function JT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function QT(e){if(Array.isArray(e))return e}function qT(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=KT(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var l=Va(a);l!=="object"&&(r[o]=a)}}),Object(oe.g)("line",r)}var to=qT;function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var nv;function ov(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ja(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ov(Object(t),!0).forEach(function(n){eM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ov(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function tM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rM(e,r,t){return r&&iv(e.prototype,r),t&&iv(e,t),e}function nM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Tf(e,r)}function Tf(e,r){return Tf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Tf(e,r)}function oM(e){var r=uM();return function(){var n=Qa(e),o;if(r){var a=Qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iM(this,o)}}function iM(e,r){if(r&&(Za(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aM(e)}function aM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}var sM=Hr(nv=function(e){nM(t,e);var r=oM(t);function t(){return tM(this,t),r.apply(this,arguments)}return rM(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,l=o.isShowHorizontal,p=o.isShowVertical,g=o.getStyle(),E=a.x,T=E===void 0?0:E,j=a.y,_=j===void 0?0:j,G=Ja(Ja({x1:-1e5,y1:_,x2:1e5,y2:_},g),{},{stroke:l?g.stroke:"none"}),Z=Ja(Ja({x1:T,y1:-1e5,x2:T,y2:1e5},g),{},{stroke:p?g.stroke:"none"});return Object(oe.g)("g",{className:"lf-snapline"},Object(oe.g)(to,G),Object(oe.g)(to,Z))}}]),t}(oe.a))||nv;function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function lM(e,r){return pM(e)||dM(e,r)||cM(e,r)||fM()}function fM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cM(e,r){if(!!e){if(typeof e=="string")return av(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return av(e,r)}}function av(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function pM(e){if(Array.isArray(e))return e}function jn(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,l=e.radius,p=r-n/2,g=t-o/2,E={};return Object.entries(e).forEach(function(T){var j=lM(T,2),_=j[0],G=j[1],Z=qa(G);Z!=="object"&&(E[_]=G)}),a?E.className="lf-basic-shape ".concat(a):E.className="lf-basic-shape",l&&(E.rx=l,E.ry=l),E.x=p,E.y=g,Object(oe.g)("rect",E)}jn.defaultProps={className:"",radius:""};function eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}var uv;function Ao(){return Ao=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ao.apply(this,arguments)}function sv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function lv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?sv(Object(t),!0).forEach(function(n){hM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function hM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function vM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yM(e,r,t){return r&&fv(e.prototype,r),t&&fv(e,t),e}function gM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mf(e,r)}function Mf(e,r){return Mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mf(e,r)}function mM(e){var r=EM();return function(){var n=tu(e),o;if(r){var a=tu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return bM(this,o)}}function bM(e,r){if(r&&(eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OM(e)}function OM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}var xM=Hr(uv=function(e){gM(t,e);var r=mM(t);function t(){return vM(this,t),r.apply(this,arguments)}return yM(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,l=o.editConfigModel,p=l.hoverOutline,g=l.nodeSelectedOutline,E=[];return a.forEach(function(T){if(T.isHovered||T.isSelected){var j=T.isHovered,_=T.isSelected,G=T.x,Z=T.y,ie=T.width,ue=T.height;if(g&&_||p&&j){var se=T.getOutlineStyle(),we={};if(Object.keys(se).forEach(function(be){be!=="hover"&&(we[be]=se[be])}),j){var ge=se.hover;we=lv(lv({},we),ge)}E.push(Object(oe.g)(jn,Ao({className:"lf-outline-node",x:G,y:Z,width:ie+10,height:ue+10},we)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,l=o.editConfigModel,p=l.edgeSelectedOutline,g=l.hoverOutline,E=[],T=0;T<a.length;T++){var j=a[T];(p&&j.isSelected||g&&j.isHovered)&&(j.modelType===pt.LINE_EDGE?E.push(this.getLineOutline(j)):j.modelType===pt.POLYLINE_EDGE?E.push(this.getPolylineOutline(j)):j.modelType===pt.BEZIER_EDGE&&E.push(this.getBezierOutline(j)))}return E}},{key:"getLineOutline",value:function(o){var a=o.startPoint,l=o.endPoint,p=(a.x+l.x)/2,g=(a.y+l.y)/2,E=Math.abs(a.x-l.x)+10,T=Math.abs(a.y-l.y)+10,j=o.getOutlineStyle();return Object(oe.g)(jn,Ao({className:"lf-outline-edge",x:p,y:g,width:E,height:T},j))}},{key:"getPolylineOutline",value:function(o){var a=o.points,l=Po(a),p=ci(l,8),g=p.x,E=p.y,T=p.width,j=p.height,_=o.getOutlineStyle();return Object(oe.g)(jn,Ao({className:"lf-outline",x:g,y:E,width:T,height:j},_))}},{key:"getBezierOutline",value:function(o){var a=o.path,l=La(a),p=ci(l,8),g=p.x,E=p.y,T=p.width,j=p.height,_=o.getOutlineStyle();return Object(oe.g)(jn,Ao({className:"lf-outline",x:g,y:E,width:T,height:j},_))}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(oe.a))||uv;function ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(t){return typeof t}:ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function SM(e,r){return AM(e)||MM(e,r)||TM(e,r)||PM()}function PM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TM(e,r){if(!!e){if(typeof e=="string")return cv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cv(e,r)}}function cv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function MM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function AM(e){if(Array.isArray(e))return e}function hi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,l=a===void 0?4:a,p=e.className,g={cx:t,cy:o,r:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(E){var T=SM(E,2),j=T[0],_=T[1],G=ru(_);G!=="object"&&(g[j]=_)}),p?g.className="lf-basic-shape ".concat(p):g.className="lf-basic-shape",Object(oe.g)("circle",g)}function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}var dv;function wM(e,r){return CM(e)||jM(e,r)||DM(e,r)||NM()}function NM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DM(e,r){if(!!e){if(typeof e=="string")return pv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pv(e,r)}}function pv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function jM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function CM(e){if(Array.isArray(e))return e}function vi(){return vi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vi.apply(this,arguments)}function hv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yv(e,r,t){return r&&vv(e.prototype,r),t&&vv(e,t),e}function gv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Af(e,r)}function Af(e,r){return Af=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Af(e,r)}function mv(e){var r=IM();return function(){var n=iu(e),o;if(r){var a=iu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return RM(this,o)}}function RM(e,r){if(r&&(nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ou(e)}function ou(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}function wf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var bv=function(e){gv(t,e);var r=mv(t);function t(){var n;return hv(this,t),n=r.call(this),wf(ou(n),"dragHandler",void 0),wf(ou(n),"onDraging",function(o){var a=o.event,l=n.props,p=l.graphModel,g=l.bezierModel,E=l.type,T=p.getPointByClient({x:a.clientX,y:a.clientY}),j=T.canvasOverlayPosition,_=j.x,G=j.y;g.updateAdjustAnchor({x:_,y:G},E)}),wf(ou(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new eo({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return yv(t,[{key:"render",value:function(){var o=this,a=this.props.position,l=a.x,p=a.y,g=this.props.bezierModel,E=g.getEdgeStyle(),T=E.adjustAnchor;return Object(oe.g)(hi,vi({className:"lf-bezier-adjust-anchor",x:l,y:p},T,{onMouseDown:function(_){o.dragHandler.handleMouseDown(_)}}))}}]),t}(oe.a),BM=Hr(dv=function(e){gv(t,e);var r=mv(t);function t(){return hv(this,t),r.apply(this,arguments)}return yv(t,[{key:"getBezierAdjust",value:function(o,a){var l=o.path,p=o.id,g=La(l),E=wM(g,4),T=E[0],j=E[1],_=E[2],G=E[3],Z=o.getEdgeStyle(),ie=Z.adjustLine,ue=[];return ue.push(Object(oe.g)(to,vi({x1:T.x,y1:T.y,x2:j.x,y2:j.y},ie))),ue.push(Object(oe.g)(bv,{position:j,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),ue.push(Object(oe.g)(to,vi({x1:G.x,y1:G.y,x2:_.x,y2:_.y},ie))),ue.push(Object(oe.g)(bv,{position:_,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),ue}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,l=[],p=0;p<a.length;p++){var g=a[p];g.isSelected&&g.modelType===pt.BEZIER_EDGE&&g.draggable&&l.push(this.getBezierAdjust(g,o))}return l}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(oe.a))||dv;function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}var Ov;function _M(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ev(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LM(e,r,t){return r&&Ev(e.prototype,r),t&&Ev(e,t),e}function zM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nf(e,r)}function Nf(e,r){return Nf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nf(e,r)}function FM(e){var r=$M();return function(){var n=uu(e),o;if(r){var a=uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HM(this,o)}}function HM(e,r){if(r&&(au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GM(e)}function GM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(e)}var kM=Hr(Ov=function(e){zM(t,e);var r=FM(t);function t(){return _M(this,t),r.apply(this,arguments)}return LM(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),l=a.transform,p=this.props.children;return Object(oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(oe.g)("g",{transform:l},p))}}]),t}(oe.a))||Ov;function su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(t){return typeof t}:su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var xv;function Df(){return Df=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Df.apply(this,arguments)}function XM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UM(e,r,t){return r&&Sv(e.prototype,r),t&&Sv(e,t),e}function YM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function WM(e){var r=ZM();return function(){var n=lu(e),o;if(r){var a=lu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return KM(this,o)}}function KM(e,r){if(r&&(su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VM(e)}function VM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lu(e)}var JM=Hr(xv=function(e){YM(t,e);var r=WM(t);function t(){return XM(this,t),r.apply(this,arguments)}return UM(t,[{key:"getComponent",value:function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,g=p(o.type);return Object(oe.g)(g,{key:o.id,model:o,graphModel:a,overlay:l})}},{key:"render",value:function(){var o=this,a=this.props,l=a.graphModel,p=a.tool,g=a.options,E=a.dnd,T=a.snaplineModel,j={};g.width&&(j.width="".concat(l.width,"px")),g.height&&(j.height="".concat(l.height,"px"));var _=l.fakerNode,G=l.editConfigModel,Z=G.adjustEdge;return Object(oe.g)("div",{className:"lf-graph",style:j},Object(oe.g)(PT,{graphModel:l,dnd:E},Object(oe.g)("g",{className:"lf-base"},ga(l.sortElements,function(ie){return o.getComponent(ie,l)})),_?this.getComponent(_,l):""),Object(oe.g)(kM,{graphModel:l},Object(oe.g)(xM,{graphModel:l}),Z?Object(oe.g)(BM,{graphModel:l}):"",g.snapline!==!1?Object(oe.g)(sM,{snaplineModel:T}):""),Object(oe.g)(CT,{graphModel:l,tool:p}),g.background&&Object(oe.g)(HT,{background:g.background}),g.grid&&Object(oe.g)(tv,Df({},g.grid,{graphModel:l})))}}]),t}(oe.a))||xv,QM=JM;function Pv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function fu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pv(Object(t),!0).forEach(function(n){fn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function qM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eA(e,r,t){return r&&Tv(e.prototype,r),t&&Tv(e,t),e}function fn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var tA=function(){function e(r){var t=this;qM(this,e),fn(this,"nodeConfig",void 0),fn(this,"lf",void 0),fn(this,"fakerNode",void 0),fn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),fn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(fu(fu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),fn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),l=a.x,p=a.y;t.fakerNode.moveTo(l,p);var g=t.fakerNode.getData();t.lf.setNodeSnapLine(g),t.lf.graphModel.eventCenter.emit(it.NODE_DND_DRAG,{data:g})}return!1}),fn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),fn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(fu(fu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var l=a.getData();t.lf.graphModel.eventCenter.emit(it.NODE_DND_ADD,{data:l,e:o})}});var n=r.lf;this.lf=n}return eA(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Ed(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:n,y:o}),p=l.canvasOverlayPosition,g=p.x,E=p.y;return{x:wn(g,a),y:wn(E,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Mv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=nr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),nr({},Av,e)}var Av={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function cu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(t){return typeof t}:cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var gt,wv;function Cf(e,r){return iA(e)||oA(e,r)||nA(e,r)||rA()}function rA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nA(e,r){if(!!e){if(typeof e=="string")return Nv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nv(e,r)}}function Nv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function iA(e){if(Array.isArray(e))return e}function Dv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function du(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dv(Object(t),!0).forEach(function(n){Cv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function aA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function uA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sA(e,r,t){return r&&jv(e.prototype,r),t&&jv(e,t),e}function wo(){return typeof Reflect<"u"&&Reflect.get?wo=Reflect.get:wo=function(r,t,n){var o=lA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wo.apply(this,arguments)}function lA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Cn(e),e!==null););return e}function fA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function cA(e){var r=pA();return function(){var n=Cn(e),o;if(r){var a=Cn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dA(this,o)}}function dA(e,r){if(r&&(cu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pu(e)}function pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(e)}function Cv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var If=(gt=function(e){fA(t,e);var r=cA(t);function t(){var n;uA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Cv(pu(n),"modelType",pt.BEZIER_EDGE),aA(pu(n),"path",wv,pu(n)),n}return sA(t,[{key:"initEdgeData",value:function(o){this.offset=100,wo(Cn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=wo(Cn(t.prototype),"getEdgeStyle",this).call(this);return du(du({},a),jt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(l){var p=l.x,g=l.y;o+=p,a+=g}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=wo(Cn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var p=l.x,g=l.y;return{x:p,y:g}});return du(du({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,l=Th({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return l}},{key:"getPath",value:function(o){var a=Cf(o,4),l=a[0],p=a[1],g=a[2],E=a[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(g.x," ").concat(g.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,l=o.ePre;this.updatePath(a,l)}},{key:"updatePath",value:function(o,a){var l={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var g=this.getControls();o=g.sNext,a=g.ePre}this.pointsList=[l,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var l=Cf(this.pointsList,3),p=l[1],g=l[2];p.x+=o,p.y+=a,this.updatePath(p,g)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var l=Cf(this.pointsList,3),p=l[1],g=l[2];g.x+=o,g.y+=a,this.updatePath(p,g)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,l=o.endPoint,p=o.sourceNode,g=o.targetNode,E=Th({start:a,end:l,sourceNode:p,targetNode:g,offset:this.offset}),T=E.sNext,j=E.ePre;this.pointsList=[a,T,j,l],this.initPoints()}}]),t}(uf),wv=Ir(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ir(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),Ir(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),Ir(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),Ir(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),Ir(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),Ir(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),Ir(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),Ir(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),Ir(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),Ir(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function hA(e){return e==null}var vA=hA,Ce,Rv,Iv,Bv,_v,Lv,zv,Fv,Hv,Gv,$v,kv,Xv,Uv,Yv,Wv,Kv,Vv,Zv,Jv;function hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(t){return typeof t}:hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function yA(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=gA(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(E){throw E},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,l=!1,p;return{s:function(){t=t.call(e)},n:function(){var E=t.next();return a=E.done,E},e:function(E){l=!0,p=E},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(l)throw p}}}}function gA(e,r){if(!!e){if(typeof e=="string")return Qv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qv(e,r)}}function Qv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ir(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qv(Object(t),!0).forEach(function(n){fr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $t(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function mA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ey(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bA(e,r,t){return r&&ey(e.prototype,r),t&&ey(e,t),e}function fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var cn=(Ce=function(){function e(r,t){mA(this,e),fr(this,"id",qn()),$t(this,"type",Rv,this),$t(this,"x",Iv,this),$t(this,"y",Bv,this),$t(this,"text",_v,this),$t(this,"properties",Lv,this),$t(this,"_width",zv,this),$t(this,"_height",Fv,this),$t(this,"anchorsOffset",Hv,this),$t(this,"isSelected",Gv,this),$t(this,"isHovered",$v,this),$t(this,"isShowAnchor",kv,this),$t(this,"isDragging",Xv,this),$t(this,"isHitable",Uv,this),$t(this,"draggable",Yv,this),$t(this,"visible",Wv,this),fr(this,"virtual",!1),fr(this,"graphModel",void 0),$t(this,"zIndex",Kv,this),$t(this,"state",Vv,this),$t(this,"autoToFront",Zv,this),$t(this,"style",Jv,this),fr(this,"BaseType",Ht.NODE),fr(this,"modelType",pt.NODE),fr(this,"additionStateData",void 0),fr(this,"targetRules",[]),fr(this,"sourceRules",[]),fr(this,"moveRules",[]),fr(this,"hasSetTargetRules",!1),fr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return bA(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),nr(this,aP(t));var l=this.graphModel.overlapMode;l===gr.INCREASE&&(this.zIndex=t.zIndex||of())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,l=this.properties;Object(f.x)(l)&&(l=Object(f.I)(l));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===gr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ir(ir({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return jt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return jt(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return jt(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return jt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l=!0,p,g=0;g<a.length;g++){var E=a[g];if(!E.validate.call(this,this,t,n,o)){l=!1,p=E.message;break}}return{isAllPass:l,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l=!0,p,g=0;g<a.length;g++){var E=a[g];if(!E.validate.call(this,t,this,n,o)){l=!1,p=E.message;break}}return{isAllPass:l,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,l=this.moveRules.concat(this.graphModel.nodeMoveRules),p=yA(l),g;try{for(p.s();!(g=p.n()).done;){var E=g.value,T=E(this,t,n);if(!T)return!1;if(hu(T)==="object"){var j=T;if(j.x===!1&&j.y===!1)return!1;o=o&&j.x,a=a&&j.y}}}catch(_){p.e(_)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(l,p){return l.length?(l=l,{id:"".concat(n,"_").concat(p),x:o+l[0],y:a+l[1]}):(l=l,ir(ir({},l),{},{x:o+l.x,y:a+l.y,id:l.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!vA(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1;if(o)a=!0,l=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,l=p):(a=p.x,l=p.y)}if(a){var g=this.x+t;this.x=g,this.text&&this.moveText(t,0)}if(l){var E=this.y+n;this.y=E,this.text&&this.moveText(0,n)}return a||l}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1,p=0,g=0;if(o)a=!0,l=!0;else{var E=this.isAllowMoveNode(t,n);typeof E=="boolean"?(a=E,l=E):(a=E.x,l=E.y)}if(a&&t){var T=this.x+t;this.x=T,this.text&&this.moveText(t,0),p=t}if(l&&n){var j=this.y+n;this.y=j,this.text&&this.moveText(0,n),g=n}return[p,g]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,l=n-this.y;return!o&&!this.isAllowMoveNode(a,l)?!1:(this.text&&this.text&&this.moveText(a,l),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,l=o.y,p=o.value,g=o.draggable,E=o.editable;this.text={value:p,editable:E,draggable:g,x:a+t,y:l+n}}},{key:"updateText",value:function(t){this.text=ir(ir({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ir(ir({},this.properties),{},fr({},t,qt(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ir(ir({},this.properties),qt(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ir(ir({},this.style),{},fr({},t,qt(n)))}},{key:"setStyles",value:function(t){this.style=ir(ir({},this.style),qt(t))}},{key:"updateStyles",value:function(t){this.style=ir({},qt(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){nr(this,t)}}]),e}(),Rv=st(Ce.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Iv=st(Ce.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bv=st(Ce.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_v=st(Ce.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Lv=st(Ce.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zv=st(Ce.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Fv=st(Ce.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Hv=st(Ce.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gv=st(Ce.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$v=st(Ce.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kv=st(Ce.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xv=st(Ce.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uv=st(Ce.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yv=st(Ce.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wv=st(Ce.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kv=st(Ce.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vv=st(Ce.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Zv=st(Ce.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jv=st(Ce.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),st(Ce.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"incoming"),Ce.prototype),st(Ce.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"outgoing"),Ce.prototype),st(Ce.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"addNodeMoveRules"),Ce.prototype),st(Ce.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"move"),Ce.prototype),st(Ce.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"getMoveDistance"),Ce.prototype),st(Ce.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveTo"),Ce.prototype),st(Ce.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveText"),Ce.prototype),st(Ce.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateText"),Ce.prototype),st(Ce.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelected"),Ce.prototype),st(Ce.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHovered"),Ce.prototype),st(Ce.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setIsShowAnchor"),Ce.prototype),st(Ce.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHitable"),Ce.prototype),st(Ce.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setElementState"),Ce.prototype),st(Ce.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperty"),Ce.prototype),st(Ce.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperties"),Ce.prototype),st(Ce.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteProperty"),Ce.prototype),st(Ce.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyle"),Ce.prototype),st(Ce.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyles"),Ce.prototype),st(Ce.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateStyles"),Ce.prototype),st(Ce.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setZIndex"),Ce.prototype),st(Ce.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateAttributes"),Ce.prototype),Ce);function vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(t){return typeof t}:vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}var dn,ty;function ry(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ny(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ry(Object(t),!0).forEach(function(n){iy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ry(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function OA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function EA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function oy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xA(e,r,t){return r&&oy(e.prototype,r),t&&oy(e,t),e}function yu(){return typeof Reflect<"u"&&Reflect.get?yu=Reflect.get:yu=function(r,t,n){var o=SA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},yu.apply(this,arguments)}function SA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=No(e),e!==null););return e}function PA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function TA(e){var r=AA();return function(){var n=No(e),o;if(r){var a=No(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return MA(this,o)}}function MA(e,r){if(r&&(vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gu(e)}function gu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},No(e)}function iy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _f(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Lf=(dn=function(e){PA(t,e);var r=TA(t);function t(){var n;EA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),iy(gu(n),"modelType",pt.CIRCLE_NODE),OA(gu(n),"r",ty,gu(n)),n}return xA(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=yu(No(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return ny(ny({},o),jt(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.r;return[{x:o,y:a-l,id:"".concat(this.id,"_0")},{x:o+l,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+l,id:"".concat(this.id,"_2")},{x:o-l,y:a,id:"".concat(this.id,"_3")}]}}]),t}(cn),ty=_f(dn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),_f(dn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(dn.prototype,"width"),dn.prototype),_f(dn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(dn.prototype,"height"),dn.prototype),dn);i(127);function mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}var er,ay,uy;function zf(e,r){return jA(e)||DA(e,r)||NA(e,r)||wA()}function wA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NA(e,r){if(!!e){if(typeof e=="string")return sy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sy(e,r)}}function sy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function DA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function jA(e){if(Array.isArray(e))return e}function ly(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function fy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ly(Object(t),!0).forEach(function(n){py(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ly(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function cy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function CA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RA(e,r,t){return r&&dy(e.prototype,r),t&&dy(e,t),e}function bu(){return typeof Reflect<"u"&&Reflect.get?bu=Reflect.get:bu=function(r,t,n){var o=IA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},bu.apply(this,arguments)}function IA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=jo(e),e!==null););return e}function BA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ff(e,r)}function Ff(e,r){return Ff=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ff(e,r)}function _A(e){var r=zA();return function(){var n=jo(e),o;if(r){var a=jo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return LA(this,o)}}function LA(e,r){if(r&&(mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Do(e)}function Do(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jo(e){return jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jo(e)}function py(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Co(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Hf=(er=function(e){BA(t,e);var r=_A(t);function t(){var n;CA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),py(Do(n),"modelType",pt.DIAMOND_NODE),cy(Do(n),"rx",ay,Do(n)),cy(Do(n),"ry",uy,Do(n)),n}return RA(t,[{key:"getNodeStyle",value:function(){var o=bu(jo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return fy(fy({},o),jt(a))}},{key:"points",get:function(){var o=this.x,a=this.y,l=this.rx,p=this.ry;return[[o,a-p],[o+l,a],[o,a+p],[o-l,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=zf(l,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=zf(l,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,l){var p=zf(a,2),g=p[0],E=p[1];return{x:g,y:E,id:"".concat(o.id,"_").concat(l)}})}}]),t}(cn),ay=Co(er.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),uy=Co(er.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Co(er.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(er.prototype,"points"),er.prototype),Co(er.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(er.prototype,"pointsPosition"),er.prototype),Co(er.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(er.prototype,"width"),er.prototype),Co(er.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(er.prototype,"height"),er.prototype),er);function Ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ou=function(t){return typeof t}:Ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}var Vr,hy,vy;function yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yy(Object(t),!0).forEach(function(n){Oy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function my(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function FA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function by(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HA(e,r,t){return r&&by(e.prototype,r),t&&by(e,t),e}function Eu(){return typeof Reflect<"u"&&Reflect.get?Eu=Reflect.get:Eu=function(r,t,n){var o=GA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Eu.apply(this,arguments)}function GA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Io(e),e!==null););return e}function $A(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gf(e,r)}function kA(e){var r=UA();return function(){var n=Io(e),o;if(r){var a=Io(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XA(this,o)}}function XA(e,r){if(r&&(Ou(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Ro(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(e)}function Oy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function xu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $f=(Vr=function(e){$A(t,e);var r=kA(t);function t(){var n;FA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Oy(Ro(n),"modelType",pt.ELLIPSE_NODE),my(Ro(n),"rx",hy,Ro(n)),my(Ro(n),"ry",vy,Ro(n)),n}return HA(t,[{key:"getNodeStyle",value:function(){var o=Eu(Io(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return gy(gy({},o),jt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+l,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-l,y:a,id:"".concat(this.id,"_3")}]}}]),t}(cn),hy=xu(Vr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),vy=xu(Vr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),xu(Vr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Vr.prototype,"width"),Vr.prototype),xu(Vr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Vr.prototype,"height"),Vr.prototype),Vr);function Su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}var wr,Ey;function kf(e,r){return VA(e)||KA(e,r)||WA(e,r)||YA()}function YA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WA(e,r){if(!!e){if(typeof e=="string")return xy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xy(e,r)}}function xy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function KA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function VA(e){if(Array.isArray(e))return e}function Sy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Py(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sy(Object(t),!0).forEach(function(n){My(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ZA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function JA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ty(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QA(e,r,t){return r&&Ty(e.prototype,r),t&&Ty(e,t),e}function Pu(){return typeof Reflect<"u"&&Reflect.get?Pu=Reflect.get:Pu=function(r,t,n){var o=qA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Pu.apply(this,arguments)}function qA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Bo(e),e!==null););return e}function ew(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xf(e,r)}function tw(e){var r=nw();return function(){var n=Bo(e),o;if(r){var a=Bo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rw(this,o)}}function rw(e,r){if(r&&(Su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tu(e)}function Tu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(e)}function My(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Uf=(wr=function(e){ew(t,e);var r=tw(t);function t(){var n;JA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),My(Tu(n),"modelType",pt.POLYGON_NODE),ZA(Tu(n),"points",Ey,Tu(n)),n}return QA(t,[{key:"getNodeStyle",value:function(){var o=Pu(Bo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return Py(Py({},o),jt(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,l=this.width,p=this.height,g=this.points.map(function(E){return{x:E[0]+o-l/2,y:E[1]+a-p/2}});return g}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=kf(l,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=kf(l,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,l=this.y,p=this.width,g=this.height,E=this.points;return E.map(function(T,j){var _=kf(T,2),G=_[0],Z=_[1];return{x:a+G-p/2,y:l+Z-g/2,id:"".concat(o.id,"_").concat(j)}})}}]),t}(cn),Ey=Mu(wr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Mu(wr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(wr.prototype,"pointsPosition"),wr.prototype),Mu(wr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(wr.prototype,"width"),wr.prototype),Mu(wr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(wr.prototype,"height"),wr.prototype),wr);function Au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var Yf,Ay;function wy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ny(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wy(Object(t),!0).forEach(function(n){jy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ow(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function iw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aw(e,r,t){return r&&Dy(e.prototype,r),t&&Dy(e,t),e}function wu(){return typeof Reflect<"u"&&Reflect.get?wu=Reflect.get:wu=function(r,t,n){var o=uw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wu.apply(this,arguments)}function uw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_o(e),e!==null););return e}function sw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wf(e,r)}function Wf(e,r){return Wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wf(e,r)}function lw(e){var r=cw();return function(){var n=_o(e),o;if(r){var a=_o(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fw(this,o)}}function fw(e,r){if(r&&(Au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nu(e)}function Nu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function jy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function dw(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Kf=(Yf=function(e){sw(t,e);var r=lw(t);function t(){var n;iw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),jy(Nu(n),"modelType",pt.RECT_NODE),ow(Nu(n),"radius",Ay,Nu(n)),n}return aw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=wu(_o(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Ny(Ny({},o),jt(a))}}]),t}(cn),Ay=dw(Yf.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yf);function Du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Du=function(t){return typeof t}:Du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var Rn;function Cy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ry(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cy(Object(t),!0).forEach(function(n){_y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function pw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hw(e,r,t){return r&&Iy(e.prototype,r),t&&Iy(e,t),e}function ju(){return typeof Reflect<"u"&&Reflect.get?ju=Reflect.get:ju=function(r,t,n){var o=vw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},ju.apply(this,arguments)}function vw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Lo(e),e!==null););return e}function yw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vf(e,r)}function Vf(e,r){return Vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Vf(e,r)}function gw(e){var r=bw();return function(){var n=Lo(e),o;if(r){var a=Lo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return mw(this,o)}}function mw(e,r){if(r&&(Du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return By(e)}function By(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(e)}function _y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ly(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Zf=(Rn=function(e){yw(t,e);var r=gw(t);function t(){var n;pw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),_y(By(n),"modelType",pt.TEXT_NODE),n}return hw(t,[{key:"getTextStyle",value:function(){var o=ju(Lo(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Ry(Ry({},o),jt(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,p=nf({rows:o,fontSize:l,rowsLength:o.length}),g=p.width;return g}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,p=nf({rows:o,fontSize:l,rowsLength:o.length}),g=p.height;return g}}]),t}(cn),Ly(Rn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Rn.prototype,"width"),Rn.prototype),Ly(Rn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Rn.prototype,"height"),Rn.prototype),Rn);function Cu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(t){return typeof t}:Cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function Ow(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ew(e,r,t){return r&&zy(e.prototype,r),t&&zy(e,t),e}function xw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Jf(e,r)}function Jf(e,r){return Jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Jf(e,r)}function Sw(e){var r=Tw();return function(){var n=Ru(e),o;if(r){var a=Ru(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Pw(this,o)}}function Pw(e,r){if(r&&(Cu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fy(e)}function Fy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ru(e){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ru(e)}function Mw(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qf=function(e){xw(t,e);var r=Sw(t);function t(){var n;Ow(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Mw(Fy(n),"modelType",pt.HTML_NODE),n}return Ew(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(cn),Br,Hy,Gy,$y;function ky(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Aw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ky(Object(t),!0).forEach(function(n){Uy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ky(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function qf(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ww(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nw(e,r,t){return r&&Xy(e.prototype,r),t&&Xy(e,t),e}function Uy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function yi(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Yy=(Br=function(){function e(r){ww(this,e),Uy(this,"graphModel",void 0),qf(this,"isShowHorizontal",Hy,this),qf(this,"isShowVertical",Gy,this),qf(this,"position",$y,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return Nw(e,[{key:"getStyle",value:function(){return Aw({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,l=!1,p=!1,g=0;g<n.length;g++){var E=n[g];if(E.id!==t.id&&(o===E.x&&(l=!0),a===E.y&&(p=!0),l&&p))break}return{isShowVertical:l,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,l=t.id,p;if(l){var g=this.graphModel.fakerNode;if(g&&g.id===l)p=mr(g);else{var E=this.graphModel.getNodeModelById(l);p=mr(E)}}for(var T=0;T<n.length;T++){var j=n[T];if(j.id!==t.id){var _=mr(j);if(_.minY===p.minY||_.maxY===p.minY){o=!0,a=p.minY;break}if(_.minY===p.maxY||_.maxY===p.maxY){o=!0,a=p.maxY;break}}}return nr({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,l=t.id,p;if(l){var g=this.graphModel.fakerNode;if(g&&g.id===l)p=mr(g);else{var E=this.graphModel.getNodeModelById(l);p=mr(E)}}for(var T=0;T<n.length;T++){var j=n[T];if(j.id!==t.id){var _=mr(j);if(_.minX===p.minX||_.maxX===p.minX){o=!0,a=p.minX;break}if(_.minX===p.maxX||_.maxX===p.maxX){o=!0,a=p.maxX;break}}}return nr({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,l=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!l){var g=this.getVerticalSnapline(t,n);g.isShowVertical&&(o.isShowVertical=g.isShowVertical,o.position.x=g.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),Hy=yi(Br.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gy=yi(Br.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$y=yi(Br.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi(Br.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"clearSnapline"),Br.prototype),yi(Br.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"setNodeSnapLine"),Br.prototype),Br),gi=new Map,Wy=function(r){var t=qn();function n(){r();var a=gi.get(t);if(a){var l=window.requestAnimationFrame(n);gi.set(t,l)}}var o=window.requestAnimationFrame(n);return gi.set(t,o),t},Iu=function(r){var t=gi.get(r);t&&(window.cancelAnimationFrame(t),gi.delete(r))};function Bu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(t){return typeof t}:Bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function mi(){return mi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mi.apply(this,arguments)}function Ky(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function _u(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ky(Object(t),!0).forEach(function(n){Jr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ky(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Dw(e,r){return Iw(e)||Rw(e,r)||Cw(e,r)||jw()}function jw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cw(e,r){if(!!e){if(typeof e=="string")return Vy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vy(e,r)}}function Vy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Rw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Iw(e){if(Array.isArray(e))return e}function Bw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _w(e,r,t){return r&&Zy(e.prototype,r),t&&Zy(e,t),e}function Lw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ec(e,r)}function ec(e,r){return ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ec(e,r)}function zw(e){var r=Hw();return function(){var n=Lu(e),o;if(r){var a=Lu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Fw(this,o)}}function Fw(e,r){if(r&&(Bu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lu(e){return Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lu(e)}function Jr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Gw=function(e){Lw(t,e);var r=zw(t);function t(){var n;return Bw(this,t),n=r.call(this),Jr(Zr(n),"preTargetNode",void 0),Jr(Zr(n),"sourceRuleResults",void 0),Jr(Zr(n),"targetRuleResults",void 0),Jr(Zr(n),"dragHandler",void 0),Jr(Zr(n),"t",void 0),Jr(Zr(n),"onDragStart",function(o){var a=o.event,l=n.props,p=l.anchorData,g=l.nodeModel,E=l.graphModel,T=E.overlapMode;E.selectNodeById(g.id),T!==gr.INCREASE&&g.autoToFront&&E.toFront(g.id),E.eventCenter.emit(it.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:g}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),Jr(Zr(n),"onDraging",function(o){var a=o.event,l=n.props,p=l.graphModel,g=l.nodeModel,E=l.anchorData,T=p.transformModel,j=p.eventCenter,_=p.width,G=p.height,Z=p.editConfigModel,ie=Z.autoExpand,ue=Z.stopMoveGraph,se=a.clientX,we=a.clientY,ge=p.getPointByClient({x:se,y:we}),be=ge.domOverlayPosition,Fe=be.x,Re=be.y,Ze=ge.canvasOverlayPosition,He=Ze.x,ht=Ze.y;n.t&&Iu(n.t);var yt=[],ur=10;Fe<10?yt=[ur,0]:Fe+10>_?yt=[-ur,0]:Re<10?yt=[0,ur]:Re+10>G&&(yt=[0,-ur]),n.setState({endX:He,endY:ht,draging:!0}),n.moveAnchorEnd(He,ht),yt.length>0&&!ue&&ie&&(n.t=Wy(function(){var Or=yt,rn=Dw(Or,2),_n=rn[0],io=rn[1];T.translate(_n,io);var Go=n.state,Ln=Go.endX,$o=Go.endY;n.setState({endX:Ln-_n,endY:$o-io}),n.moveAnchorEnd(Ln-_n,$o-io)})),j.emit(it.ANCHOR_DRAG,{data:E,e:a,nodeModel:g})}),Jr(Zr(n),"onDragEnd",function(o){n.t&&Iu(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,l=a.graphModel,p=a.nodeModel,g=a.anchorData;l.eventCenter.emit(it.ANCHOR_DRAGEND,{data:g,e:o,nodeModel:p})}),Jr(Zr(n),"checkEnd",function(o){var a=n.props,l=a.graphModel,p=a.nodeModel,g=a.anchorData,E=g.x,T=g.y,j=g.id;l.edgeType;var _=n.state,G=_.endX,Z=_.endY,ie=_.draging,ue=Pa({x:G,y:Z},l);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!ie&&ue&&ue.node){var se=ue.node,we=ue.anchor.id,ge="".concat(p.id,"_").concat(se.id,"_").concat(we,"_").concat(j),be=n.sourceRuleResults.get(ge)||{},Fe=be.isAllPass,Re=be.msg,Ze=n.targetRuleResults.get(ge)||{},He=Ze.isAllPass,ht=Ze.msg;if(Fe&&He){se.setElementState(Et.DEFAULT);var yt=l.edgeGenerator(p.getData(),l.getNodeModelById(ue.node.id).getData()),ur=l.addEdge(_u(_u({},yt),{},{sourceNodeId:p.id,sourceAnchorId:j,startPoint:{x:E,y:T},targetNodeId:ue.node.id,targetAnchorId:ue.anchor.id,endPoint:{x:ue.anchor.x,y:ue.anchor.y}})),Or=n.props.anchorData;l.eventCenter.emit(it.ANCHOR_DROP,{data:Or,e:o,nodeModel:p,edgeModel:ur})}else{var rn=se.getData();l.eventCenter.emit(it.CONNECTION_NOT_ALLOWED,{data:rn,msg:ht||Re})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new eo({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return _w(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,l=o.style,p=o.node,g=p.getAnchorShape(a);if(g)return g;var E=a.x,T=a.y,j=_u(_u({},l),l.hover);return Object(oe.g)("g",null,Object(oe.g)(hi,mi({className:"lf-node-anchor-hover"},j,{x:E,y:T})),Object(oe.g)(hi,mi({className:"lf-node-anchor"},l,{x:E,y:T})))}},{key:"moveAnchorEnd",value:function(o,a){var l=this.props,p=l.graphModel,g=l.nodeModel,E=l.anchorData,T=Pa({x:o,y:a},p);if(T){var j=T.node,_=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(Et.DEFAULT),E.id===_)return;this.preTargetNode=j;var G="".concat(g.id,"_").concat(j.id,"_").concat(_,"_").concat(E.id);if(!this.targetRuleResults.has(G)){var Z=T.anchor,ie=g.isAllowConnectedAsSource(j,E,Z),ue=j.isAllowConnectedAsTarget(g,E,Z);this.sourceRuleResults.set(G,Ma(ie)),this.targetRuleResults.set(G,Ma(ue))}var se=this.sourceRuleResults.get(G),we=se.isAllPass,ge=this.targetRuleResults.get(G),be=ge.isAllPass;we&&be?j.setElementState(Et.ALLOW_CONNECT):j.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,l=o.startY,p=o.endX,g=o.endY,E=Ur(a,l,p,g);return E>10}},{key:"render",value:function(){var o=this,a=this.state,l=a.startX,p=a.startY,g=a.endX,E=a.endY,T=this.props,j=T.anchorData.edgeAddable,_=T.edgeStyle;return Object(oe.g)("g",{className:"lf-anchor"},Object(oe.g)("g",{onMouseDown:function(Z){j!==!1&&o.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&Object(oe.g)(to,mi({x1:l,y1:p,x2:g,y2:E},_,{"pointer-events":"none"})))}}]),t}(oe.a),$w=Gw;i(63);function Jy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function kw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Jy(Object(t),!0).forEach(function(n){Xw(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Xw(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zu=function(t){return typeof t}:zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Uw(e,r){return Vw(e)||Kw(e,r)||Ww(e,r)||Yw()}function Yw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ww(e,r){if(!!e){if(typeof e=="string")return Qy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qy(e,r)}}function Qy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Kw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Vw(e){if(Array.isArray(e))return e}function qy(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,l=e.fontSize,p=e.fill,g=p===void 0?"currentColor":p,E=e.overflowMode,T=E===void 0?"default":E,j=e.textWidth,_=j===void 0?"":j,G=e.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:g};if(Object.entries(e).forEach(function(be){var Fe=Uw(be,2),Re=Fe[0],Ze=Fe[1],He=zu(Ze);He!=="object"&&(Z[Re]=Ze)}),a){var ie=String(a).split(/[\r\n]/g),ue=ie.length;if(T!=="default"){var se=G.BaseType,we=G.modelType;if(se===Ht.NODE&&we!==pt.TEXT_NODE||se===Ht.EDGE&&_)return Zw(e)}if(ue>1){var ge=ie.map(function(be,Fe){var Re=l+2,Ze=(Fe-(ue-1)/2)*Re;return Object(oe.g)("tspan",{className:"lf-text-tspan",x:t,y:o+Ze},be)});return Object(oe.g)("text",Z,ge)}return Object(oe.g)("text",Z,a)}}function Zw(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,l=e.lineHeight,p=e.wrapPadding,g=p===void 0?"0, 0":p,E=e.overflowMode,T=e.x,j=e.y,_=n.width,G=n.textHeight,Z=e.textWidth||_,ie=String(r).split(/[\r\n]/g),ue=ie.length,se=Rp({rows:ie,style:{fontSize:"".concat(t,"px"),width:"".concat(Z,"px"),fontFamily:a,lineHeight:l,padding:g},rowsLength:ue,className:"lf-get-text-height"}),we=n.height>se?n.height:se;G&&(we=G);var ge=E==="ellipsis";return Object(oe.g)("g",null,Object(oe.g)("foreignObject",{width:Z,height:we,x:T-Z/2,y:j-we/2},Object(oe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:we,width:Z,padding:g}},Object(oe.g)("div",{className:ge?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:kw({},e)},ie.map(function(be){return Object(oe.g)("div",{className:"lf-node-text--auto-wrap-inner"},be)})))))}function Fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(t){return typeof t}:Fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function tc(){return tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},tc.apply(this,arguments)}function Jw(e,r){return t1(e)||e1(e,r)||qw(e,r)||Qw()}function Qw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qw(e,r){if(!!e){if(typeof e=="string")return eg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eg(e,r)}}function eg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function e1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function t1(e){if(Array.isArray(e))return e}function r1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n1(e,r,t){return r&&tg(e.prototype,r),t&&tg(e,t),e}function o1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},rc(e,r)}function i1(e){var r=u1();return function(){var n=Hu(e),o;if(r){var a=Hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return a1(this,o)}}function a1(e,r){if(r&&(Fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(e)}function ro(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var rg=function(e){o1(t,e);var r=i1(t);function t(n){var o;r1(this,t),o=r.call(this),ro(In(o),"dragHandler",void 0),ro(In(o),"sumDeltaX",0),ro(In(o),"sumDeltaY",0),ro(In(o),"stepDrag",void 0),ro(In(o),"onDraging",function(p){var g=p.deltaX,E=p.deltaY,T=o.props,j=T.model,_=T.graphModel.transformModel,G=_.fixDeltaXY(g,E),Z=Jw(G,2),ie=Z[0],ue=Z[1];j.moveText(ie,ue)}),ro(In(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var g=o.props.model;g.setElementState(Et.TEXT_EDIT)}}),ro(In(o),"mouseDownHandle",function(p){var g=o.props,E=g.draggable,T=g.graphModel.editConfigModel.nodeTextDraggable;(E||T)&&o.stepDrag.handleMouseDown(p)});var a=n.model,l=n.draggable;return o.stepDrag=new eo({onDraging:o.onDraging,step:1,model:a,isStopPropagation:l}),o}return n1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.text,g=l.editConfigModel,E=p.value,T=p.x,j=p.y,_=p.editable,G=p.draggable,Z={x:T,y:j,className:"",value:E};_?Z.className="lf-element-text":G||g.nodeTextDraggable?Z.className="lf-text-draggable":Z.className="lf-text-disabled";var ie=a.getTextStyle();return Object(oe.g)(qy,tc({},Z,ie,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(oe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(oe.a),s1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(t){return typeof t}:Gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function $u(e,r){return d1(e)||c1(e,r)||f1(e,r)||l1()}function l1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f1(e,r){if(!!e){if(typeof e=="string")return ng(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ng(e,r)}}function ng(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function c1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function d1(e){if(Array.isArray(e))return e}function p1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h1(e,r,t){return r&&og(e.prototype,r),t&&og(e,t),e}function v1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&nc(e,r)}function nc(e,r){return nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},nc(e,r)}function y1(e){var r=m1();return function(){var n=ku(e),o;if(r){var a=ku(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return g1(this,o)}}function g1(e,r){if(r&&(Gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(e)}function ar(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pn=function(e){v1(t,e);var r=y1(t);function t(n){var o;p1(this,t),o=r.call(this),ar(tr(o),"t",void 0),ar(tr(o),"moveOffset",void 0),ar(tr(o),"stepDrag",void 0),ar(tr(o),"contextMenuTime",void 0),ar(tr(o),"startTime",void 0),ar(tr(o),"clickTimer",void 0),ar(tr(o),"onDragStart",function(E){var T=E.event,j=T.clientX,_=T.clientY,G=o.props,Z=G.model,ie=G.graphModel,ue=ie.getPointByClient({x:j,y:_}),se=ue.canvasOverlayPosition,we=se.x,ge=se.y;o.moveOffset={x:Z.x-we,y:Z.y-ge}}),ar(tr(o),"onDraging",function(E){var T=E.event,j=o.props,_=j.model,G=j.graphModel,Z=G.editConfigModel,ie=Z.stopMoveGraph,ue=Z.autoExpand,se=G.transformModel,we=G.width,ge=G.height,be=G.gridSize;_.isDragging=!0;var Fe=T.clientX,Re=T.clientY,Ze=G.getPointByClient({x:Fe,y:Re}),He=Ze.canvasOverlayPosition,ht=He.x,yt=He.y,ur=se.CanvasPointToHtmlPoint([ht,yt]),Or=$u(ur,2),rn=Or[0],_n=Or[1];if(ht=ht+o.moveOffset.x,yt=yt+o.moveOffset.y,ht=wn(ht,be),yt=wn(yt,be),!we||!ge){G.moveNode2Coordinate(_.id,ht,yt);return}var io=rn<0||_n<0||rn>we||_n>ge;if(!(ue&&!ie&&io)){var Go=se.CanvasPointToHtmlPoint([ht-_.width/2,yt-_.height/2]),Ln=$u(Go,2),$o=Ln[0],Yc=Ln[1],iC=se.CanvasPointToHtmlPoint([ht+_.width/2,yt+_.height/2]),am=$u(iC,2),aC=am[0],uC=am[1],Bs=Math.max(be,20),ko=[];$o<0?ko=[Bs,0]:aC>G.width?ko=[-Bs,0]:Yc<0?ko=[0,Bs]:uC>G.height&&(ko=[0,-Bs]),o.t&&Iu(o.t),ko.length>0&&!ie&&ue?o.t=Wy(function(){var sC=ko,um=$u(sC,2),sm=um[0],lm=um[1];se.translate(sm,lm),G.moveNode(_.id,-sm/se.SCALE_X,-lm/se.SCALE_X)}):G.moveNode2Coordinate(_.id,ht,yt)}}),ar(tr(o),"onDragEnd",function(){o.t&&Iu(o.t);var E=o.props.model;E.isDragging=!1}),ar(tr(o),"handleClick",function(E){if(!!o.startTime){var T=new Date().getTime()-o.startTime;if(!(T>200)){var j=o.props,_=j.model,G=j.graphModel,Z=_.getData(),ie=G.getPointByClient({x:E.clientX,y:E.clientY}),ue={data:Z,e:E,position:ie},se=E.button===2,we=E.detail===2;if(!se){var ge=G.editConfigModel;G.selectNodeById(_.id,Mp(E,ge)),o.toFront(),we?(ge.nodeTextEdit&&_.text.editable&&(_.setSelected(!1),G.setElementStateById(_.id,Et.TEXT_EDIT)),G.eventCenter.emit(it.NODE_DBCLICK,ue)):(G.eventCenter.emit(it.ELEMENT_CLICK,ue),G.eventCenter.emit(it.NODE_CLICK,ue))}}}}),ar(tr(o),"handleContextMenu",function(E){E.preventDefault();var T=o.props,j=T.model,_=T.graphModel,G=j.getData(),Z=_.getPointByClient({x:E.clientX,y:E.clientY});_.setElementStateById(j.id,Et.SHOW_MENU,Z.domOverlayPosition),_.selectNodeById(j.id),_.eventCenter.emit(it.NODE_CONTEXTMENU,{data:G,e:E,position:Z}),o.toFront()}),ar(tr(o),"handleMouseDown",function(E){var T=o.props,j=T.model,_=T.graphModel;o.startTime=new Date().getTime();var G=_.editConfigModel;G.adjustNodePosition&&j.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(E)}),ar(tr(o),"setHoverON",function(E){var T=o.props,j=T.model,_=T.graphModel;if(!j.isHovered){var G=j.getData();j.setHovered(!0),_.eventCenter.emit(it.NODE_MOUSEENTER,{data:G,e:E})}}),ar(tr(o),"setHoverOFF",function(E){var T=o.props,j=T.model,_=T.graphModel,G=j.getData();!j.isHovered||(j.setHovered(!1),_.eventCenter.emit(it.NODE_MOUSELEAVE,{data:G,e:E}))}),ar(tr(o),"onMouseOut",function(E){s1&&o.setHoverOFF(E)});var a=n.graphModel,l=a.gridSize,p=a.eventCenter,g=n.model;return o.stepDrag=new eo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:g}),o}return h1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,l=a.model,p=a.graphModel,g=l.isSelected,E=l.isHitable,T=l.isDragging,j=l.isShowAnchor;return E&&(g||j)&&!T?ga(l.anchors,function(_,G){var Z=l.getAnchorLineStyle(_),ie=l.getAnchorStyle(_);return Object(oe.g)($w,{anchorData:_,node:o,style:ie,edgeStyle:Z,anchorIndex:G,nodeModel:l,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,l=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=l.editConfigModel,g=!1;return(a.text.draggable||p.nodeTextDraggable)&&(g=!0),Object(oe.g)(rg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:g})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,l=o.isDraging,p=o.isSelected,g="lf-node";switch(a){case Et.ALLOW_CONNECT:g+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:g+=" lf-node-not-allow";break;default:g+=" lf-node-default";break}return l&&(g+=" lf-isDragging"),p&&(g+=" lf-node-selected"),g}},{key:"toFront",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=l.overlapMode;p!==gr.INCREASE&&a.autoToFront&&l.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=l.editConfigModel,g=p.hideAnchors,E=p.adjustNodePosition,T=l.gridSize,j=l.transformModel.SCALE_X,_=a.isHitable,G=a.draggable,Z=Object(oe.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),g?null:this.getAnchors()),ie;return _?(E&&G&&this.stepDrag.setStep(T*j),ie=Object(oe.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Z)):ie=Object(oe.g)("g",{className:this.getStateClassName()},Z),ie}}],[{key:"getModel",value:function(o){return o}}]),t}(oe.a);function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function oc(){return oc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},oc.apply(this,arguments)}function b1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O1(e,r,t){return r&&ig(e.prototype,r),t&&ig(e,t),e}function E1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ic(e,r)}function ic(e,r){return ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ic(e,r)}function x1(e){var r=T1();return function(){var n=Uu(e),o;if(r){var a=Uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return S1(this,o)}}function S1(e,r){if(r&&(Xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P1(e)}function P1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(e)}var ac=function(e){E1(t,e);var r=x1(t);function t(){return b1(this,t),r.apply(this,arguments)}return O1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)(jn,oc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(pn);function Yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function uc(){return uc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},uc.apply(this,arguments)}function M1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A1(e,r,t){return r&&ag(e.prototype,r),t&&ag(e,t),e}function w1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sc(e,r)}function N1(e){var r=C1();return function(){var n=Wu(e),o;if(r){var a=Wu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return D1(this,o)}}function D1(e,r){if(r&&(Yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j1(e)}function j1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wu(e)}var lc=function(e){w1(t,e);var r=N1(t);function t(){return M1(this,t),r.apply(this,arguments)}return A1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.r,g=o.getNodeStyle();return Object(oe.g)(hi,uc({},g,{x:a,y:l,r:p}))}}]),t}(pn);function Ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(t){return typeof t}:Ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function R1(e,r){return L1(e)||_1(e,r)||B1(e,r)||I1()}function I1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1(e,r){if(!!e){if(typeof e=="string")return ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ug(e,r)}}function ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function L1(e){if(Array.isArray(e))return e}function sg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=R1(o,2),l=a[0],p=a[1],g=Ku(p);g!=="object"&&(n[l]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(oe.g)("polygon",n)}function Vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function fc(){return fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},fc.apply(this,arguments)}function z1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F1(e,r,t){return r&&lg(e.prototype,r),t&&lg(e,t),e}function H1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},cc(e,r)}function G1(e){var r=X1();return function(){var n=Zu(e),o;if(r){var a=Zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return $1(this,o)}}function $1(e,r){if(r&&(Vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1(e)}function k1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(e)}var dc=function(e){H1(t,e);var r=G1(t);function t(){return z1(this,t),r.apply(this,arguments)}return F1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.width,g=o.height,E=o.points,T=o.getNodeStyle(),j={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(l-g/2,")")};return Object(oe.g)("g",j,Object(oe.g)(sg,fc({},T,{points:E,x:a,y:l})))}}]),t}(pn);function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function pc(){return pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},pc.apply(this,arguments)}function U1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y1(e,r,t){return r&&fg(e.prototype,r),t&&fg(e,t),e}function W1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hc(e,r)}function hc(e,r){return hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},hc(e,r)}function K1(e){var r=J1();return function(){var n=Qu(e),o;if(r){var a=Qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return V1(this,o)}}function V1(e,r){if(r&&(Ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z1(e)}function Z1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qu(e)}var vc=function(e){W1(t,e);var r=K1(t);function t(){return U1(this,t),r.apply(this,arguments)}return Y1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)("g",null,Object(oe.g)(sg,pc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(pn);function qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function Q1(e,r){return rN(e)||tN(e,r)||eN(e,r)||q1()}function q1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eN(e,r){if(!!e){if(typeof e=="string")return cg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cg(e,r)}}function cg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rN(e){if(Array.isArray(e))return e}function nN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,l=a===void 0?4:a,p=e.ry,g=p===void 0?4:p,E=e.className,T={cx:t,cy:o,rx:l,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(j){var _=Q1(j,2),G=_[0],Z=_[1],ie=qu(Z);ie!=="object"&&(T[G]=Z)}),E?T.className="lf-basic-shape ".concat(E):T.className="lf-basic-shape",Object(oe.g)("ellipse",T)}function es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(t){return typeof t}:es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function yc(){return yc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},yc.apply(this,arguments)}function oN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iN(e,r,t){return r&&dg(e.prototype,r),t&&dg(e,t),e}function aN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gc(e,r)}function gc(e,r){return gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gc(e,r)}function uN(e){var r=fN();return function(){var n=ts(e),o;if(r){var a=ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sN(this,o)}}function sN(e,r){if(r&&(es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lN(e)}function lN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(e)}var mc=function(e){aN(t,e);var r=uN(t);function t(){return oN(this,t),r.apply(this,arguments)}return iN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)(nN,yc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(pn);function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function pg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?pg(Object(t),!0).forEach(function(n){cN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function cN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function dN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pN(e,r,t){return r&&vg(e.prototype,r),t&&vg(e,t),e}function hN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bc(e,r)}function bc(e,r){return bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},bc(e,r)}function vN(e){var r=mN();return function(){var n=ns(e),o;if(r){var a=ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yN(this,o)}}function yN(e,r){if(r&&(rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gN(e)}function gN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}var Oc=function(e){hN(t,e);var r=vN(t);function t(){return dN(this,t),r.apply(this,arguments)}return pN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),l=o.text;if(l&&l.value&&a.background&&a.background.fill!=="transparnet"){var p=l.x,g=l.y,E=o.width,T=o.height,j=hg(hg({},a.background),{},{x:p,y:g-1,width:E,height:T});return Object(oe.g)(jn,j)}}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getBackground())}}]),t}(pn);function os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?os=function(t){return typeof t}:os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function Ec(){return Ec=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ec.apply(this,arguments)}function bN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ON(e,r,t){return r&&yg(e.prototype,r),t&&yg(e,t),e}function EN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&xc(e,r)}function xc(e,r){return xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},xc(e,r)}function xN(e){var r=PN();return function(){var n=is(e),o;if(r){var a=is(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return SN(this,o)}}function SN(e,r){if(r&&(os(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bi(e)}function bi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function is(e){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},is(e)}function as(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Sc=function(e){EN(t,e);var r=xN(t);function t(){var n;bN(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),as(bi(n),"ref",void 0),as(bi(n),"currentProperties",void 0),as(bi(n),"preProperties",void 0),as(bi(n),"setRef",function(p){n.ref=p}),n}return ON(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.height,g=o.width,E=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(oe.g)("foreignObject",Ec({},E,{x:a-g/2,y:l-p/2,width:g,height:p,ref:this.setRef}))}}]),t}(pn);function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function Pc(){return Pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Pc.apply(this,arguments)}function gg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function no(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gg(Object(t),!0).forEach(function(n){Ac(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MN(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function AN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Tc(e,r)}function Tc(e,r){return Tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Tc(e,r)}function wN(e){var r=DN();return function(){var n=ss(e),o;if(r){var a=ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return NN(this,o)}}function NN(e,r){if(r&&(us(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mc(e)}function Mc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(e)}function Ac(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var jN=function(e){AN(t,e);var r=wN(t);function t(n){var o;return TN(this,t),o=r.call(this,n),Ac(Mc(o),"setHoverON",function(){o.setState({isHoverd:!0})}),Ac(Mc(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return MN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),l=o.text,p=a.background||{},g=this.state.isHoverd;if(g&&a.hover&&a.hover.background&&(p=no(no({},p),a.hover.background)),l&&l.value&&p.fill!=="transparent"){var E=a.fontSize,T=a.overflowMode,j=a.lineHeight,_=a.wrapPadding,G=a.textWidth,Z=l.value,ie=l.x,ue=l.y,se=String(Z).split(/[\r\n]/g),we=se.length,ge;if(T==="autoWrap"&&G){var be=Rp({rows:se,style:{fontSize:"".concat(E,"px"),width:"".concat(G,"px"),lineHeight:j,padding:_},rowsLength:we,className:"lf-get-text-height"});ge=no(no({},p),{},{x:ie-1,y:ue-1,width:G,height:be})}else{se&&se.forEach(function(ht){Ph(ht)});var Fe=nf({rows:se,fontSize:E,rowsLength:we}),Re=Fe.width,Ze=Fe.height;if(typeof p.wrapPadding=="string"){var He=p.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});He.length>0&&He.length<=4&&(He.length===1?He=[He[0],He[0],He[0],He[0]]:He.length===2?He=[He[0],He[1],He[0],He[1]]:He.length===3&&(He=[He[0],He[1],He[2],He[1]]),Re+=He[1]+He[3],Ze+=He[0]+He[2],ie=ie+(He[1]-He[3])/2,ue=ue+(He[2]-He[0])/2)}ge=no(no({},p),{},{x:ie-1,y:ue-1,width:Re,height:Ze})}return Object(oe.g)(jn,ge)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,l=a.value,p=a.x,g=a.y;if(!!l){var E=o.getTextStyle(),T=no({x:p,y:g,className:"lf-element-text",value:l},E);return Object(oe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(oe.g)(qy,Pc({},T,{model:o})))}}}]),t}(rg);function ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function wc(){return wc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},wc.apply(this,arguments)}function bg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?bg(Object(t),!0).forEach(function(n){Lr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function CN(e,r){return _N(e)||BN(e,r)||IN(e,r)||RN()}function RN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IN(e,r){if(!!e){if(typeof e=="string")return Og(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Og(e,r)}}function Og(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function BN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function _N(e){if(Array.isArray(e))return e}function LN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Eg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zN(e,r,t){return r&&Eg(e.prototype,r),t&&Eg(e,t),e}function FN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nc(e,r)}function Nc(e,r){return Nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nc(e,r)}function HN(e){var r=$N();return function(){var n=fs(e),o;if(r){var a=fs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GN(this,o)}}function GN(e,r){if(r&&(ls(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}function _r(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(e)}function Lr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Qr||(Qr={}));var xg=function(e){FN(t,e);var r=HN(t);function t(){var n;return LN(this,t),n=r.call(this),Lr(_r(n),"dragHandler",void 0),Lr(_r(n),"oldEdge",void 0),Lr(_r(n),"preTargetNode",void 0),Lr(_r(n),"targetRuleResults",void 0),Lr(_r(n),"sourceRuleResults",void 0),Lr(_r(n),"onDragStart",function(){var o=n.props,a=o.x,l=o.y,p=o.edgeModel,g=p.startPoint,E=p.endPoint,T=p.pointsList;n.oldEdge={startPoint:g,endPoint:E,pointsList:T},n.setState({endX:a,endY:l,draging:!0}),p.isHitable=!1}),Lr(_r(n),"onDraging",function(o){var a=o.deltaX,l=o.deltaY,p=n.state,g=p.endX,E=p.endY,T=n.props,j=T.graphModel,_=T.type,G=j.transformModel,Z=G.moveCanvasPointByHtml([g,E],a,l),ie=CN(Z,2),ue=ie[0],se=ie[1];n.setState({endX:ue,endY:se,draging:!0});var we=n.props.edgeModel,ge=Pa({x:g,y:E},j);if(ge&&ge.node&&n.isAllowAdjust(ge)){var be,Fe=we.startPoint,Re=we.endPoint,Ze=we.sourceNode,He=we.targetNode;_===Qr.SOURCE?be={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Re.x,y:Re.y},sourceNode:ge.node,targetNode:He}:_===Qr.TARGET&&(be={startPoint:{x:Fe.x,y:Fe.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Ze,targetNode:ge.node}),we.updateAfterAdjustStartAndEnd(be)}else _===Qr.SOURCE?we.updateStartPoint({x:ue,y:se}):_===Qr.TARGET&&we.updateEndPoint({x:ue,y:se})}),Lr(_r(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,l=a.graphModel,p=a.edgeModel,g=a.type;p.isHitable=!0;var E=n.state,T=E.endX,j=E.endY,_=E.draging,G=Pa({x:T,y:j},l);if(!!_){if(G&&G.node&&n.isAllowAdjust(G)){var Z,ie=p.getData(),ue=hn(hn({},ie),{},{sourceAnchorId:"",targetAnchorId:"",text:(ie==null||(Z=ie.text)===null||Z===void 0?void 0:Z.value)||""});if(g===Qr.SOURCE){var se=l.edgeGenerator(l.getNodeModelById(G.node.id).getData(),l.getNodeModelById(p.targetNodeId).getData(),ue);ue=hn(hn({},se),{},{sourceNodeId:G.node.id,sourceAnchorId:G.anchor.id,startPoint:{x:G.anchor.x,y:G.anchor.y},targetNodeId:p.targetNodeId,endPoint:hn({},p.endPoint)})}else if(g===Qr.TARGET){var we=l.edgeGenerator(l.getNodeModelById(p.sourceNodeId).getData(),l.getNodeModelById(G.node.id).getData(),ue);ue=hn(hn({},we),{},{sourceNodeId:p.sourceNodeId,startPoint:hn({},p.startPoint),targetNodeId:G.node.id,targetAnchorId:G.anchor.id,endPoint:{x:G.anchor.x,y:G.anchor.y}})}l.deleteEdgeById(p.id);var ge=l.addEdge(hn({},ue));l.eventCenter.emit(it.EDGE_EXCHANGE_NODE,{data:{newEdge:ge.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),Lr(_r(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,l=a.startPoint,p=a.endPoint,g=a.pointsList;o.updateStartPoint(l),o.updateEndPoint(p),o.modelType!==pt.LINE_EDGE&&(o.pointsList=g,o.initPoints())}),Lr(_r(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=gf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return zN(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,l=a.edgeModel;l.id;var p=l.sourceNode,g=l.targetNode,E=l.sourceAnchorId,T=l.targetAnchorId,j=a.type,_=null,G=null,Z=null,ie=null;if(j===Qr.SOURCE?(_=o.node,G=g,Z=o.anchor,ie=g.getAnchorInfo(T)):(_=p,G=o.node,ie=o.anchor,Z=p.getAnchorInfo(E)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,ie.id===Z.id)return!1;var ue="".concat(_.id,"_").concat(G.id,"_").concat(Z.id,"_").concat(ie.id);if(!this.targetRuleResults.has(ue)){var se=_.isAllowConnectedAsSource(G,Z,ie),we=G.isAllowConnectedAsTarget(_,Z,ie);this.sourceRuleResults.set(ue,Ma(se)),this.targetRuleResults.set(ue,Ma(we))}var ge=this.sourceRuleResults.get(ue),be=ge.isAllPass,Fe=this.targetRuleResults.get(ue),Re=Fe.isAllPass,Ze=be&&Re?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return j===Qr.SOURCE?_.setElementState(Ze):G.setElementState(Ze),be&&Re}},{key:"render",value:function(){var o=this.props,a=o.x,l=o.y,p=this.state.draging,g=this.getAdjustPointStyle();return Object(oe.g)("g",null,Object(oe.g)(hi,wc({className:"lf-edge-adjust-point"},g,{x:a,y:l,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(oe.a);function cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cs=function(t){return typeof t}:cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function ds(){return ds=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ds.apply(this,arguments)}function Sg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Pg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sg(Object(t),!0).forEach(function(n){Fr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XN(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function UN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Dc(e,r)}function Dc(e,r){return Dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Dc(e,r)}function YN(e){var r=KN();return function(){var n=ps(e),o;if(r){var a=ps(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return WN(this,o)}}function WN(e,r){if(r&&(cs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zr(e)}function zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(e)}function Fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Oi=function(e){UN(t,e);var r=YN(t);function t(){var n;kN(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Fr(zr(n),"startTime",void 0),Fr(zr(n),"contextMenuTime",void 0),Fr(zr(n),"clickTimer",void 0),Fr(zr(n),"handleHover",function(p,g){var E=n.props,T=E.model,j=E.graphModel.eventCenter;T.setHovered(p);var _=p?it.EDGE_MOUSEENTER:it.EDGE_MOUSELEAVE,G=T.getData();j.emit(_,{data:G,e:g})}),Fr(zr(n),"setHoverON",function(p){var g=n.props.model.isHovered;g||n.handleHover(!0,p)}),Fr(zr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Fr(zr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var g=n.props,E=g.model,T=g.graphModel,j=T.getPointByClient({x:p.clientX,y:p.clientY});T.setElementStateById(E.id,Et.SHOW_MENU,j.domOverlayPosition),n.toFront(),T.selectEdgeById(E.id);var _=E==null?void 0:E.getData();T.eventCenter.emit(it.EDGE_CONTEXTMENU,{data:_,e:p,position:j})}),Fr(zr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Fr(zr(n),"handleMouseUp",function(p){if(!!n.startTime){var g=new Date().getTime()-n.startTime;if(!(g>200)){var E=p.button===2;if(!E){var T=p.detail===2,j=n.props,_=j.model,G=j.graphModel,Z=_==null?void 0:_.getData(),ie=G.getPointByClient({x:p.clientX,y:p.clientY});if(T){var ue=G.editConfigModel,se=G.textEditElement;if(se&&se.id===_.id&&G.setElementStateById(_.id,Et.DEFAULT),ue.edgeTextEdit&&_.text.editable&&G.setElementStateById(_.id,Et.TEXT_EDIT),_.modelType===pt.POLYLINE_EDGE){var we=_,ge=G.getPointByClient({x:p.x,y:p.y}),be=ge.canvasOverlayPosition,Fe=be.x,Re=be.y,Ze=Mh({x:Fe,y:Re},we.points);we.dbClickPosition=Ze}G.eventCenter.emit(it.EDGE_DBCLICK,{data:Z,e:p,position:ie})}else G.eventCenter.emit(it.ELEMENT_CLICK,{data:Z,e:p,position:ie}),G.eventCenter.emit(it.EDGE_CLICK,{data:Z,e:p,position:ie});var He=G.editConfigModel;G.selectEdgeById(_.id,Mp(p,He)),n.toFront()}}}}),Fr(zr(n),"getIsDragging",function(){return!1}),n}return XN(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,l=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,g=l.editConfigModel;return(a.text.draggable||g.edgeTextDraggable)&&(p=!0),Object(oe.g)(jN,{editable:g.edgeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p=o.isSelected,g=this.state,E=g.hover;return{start:a,end:l,hover:E,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.getEdgeStyle(),g=a.getEdgeAnimationStyle(),E=l.theme.arrow,T=a.isAnimation?g.stroke:p.stroke;return Pg(Pg({},p),{},{fill:T,stroke:T},E)}},{key:"getArrow",value:function(){var o=this.props.model.id,a=this.getArrowStyle(),l=a.refY,p=l===void 0?0:l,g=a.refX,E=g===void 0?2:g;return Object(oe.g)("g",null,Object(oe.g)("defs",null,Object(oe.g)("marker",{id:"marker-start-".concat(o),refX:-E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(oe.g)("marker",{id:"marker-end-".concat(o),refX:E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,l=o.strokeWidth,p=o.offset,g=o.verticalLength;return Object(oe.g)("path",{stroke:a,fill:a,strokeWidth:l,d:"M 0 0 L ".concat(p," -").concat(g," L ").concat(p," ").concat(g," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,l=o.strokeWidth,p=o.offset,g=o.verticalLength;return Object(oe.g)("path",{stroke:a,fill:a,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(g," L ").concat(p," ").concat(g," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.getAdjustStart(),g=a.getAdjustEnd();return Object(oe.g)("g",null,Object(oe.g)(xg,ds({type:"SOURCE"},p,{edgeModel:a,graphModel:l})),Object(oe.g)(xg,ds({type:"TARGET"},g,{edgeModel:a,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(oe.g)("g",null)}},{key:"getAppend",value:function(){return Object(oe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,l=o.model,p=a.overlapMode;p!==gr.INCREASE&&a.toFront(l.id)}},{key:"render",value:function(){var o=this.props,a=o.model,l=a.isSelected,p=a.isHitable,g=o.graphModel,E=this.getIsDragging(),T=g.editConfigModel.adjustEdgeStartAndEnd,j=g.animation,_=l&&j.edge&&g.getSelectElements().edges.length===1;return Object(oe.g)("g",null,Object(oe.g)("g",{className:["lf-edge",!p&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),_&&this.getAnimation(),this.getText(),this.getArrow()),T&&l&&!E?this.getAdjustPoints():"")}}]),t}(oe.a);function hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function VN(e,r){return qN(e)||QN(e,r)||JN(e,r)||ZN()}function ZN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JN(e,r){if(!!e){if(typeof e=="string")return Mg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mg(e,r)}}function Mg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function QN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function qN(e){if(Array.isArray(e))return e}function eD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=VN(t,2),o=n[0],a=n[1],l=hs(a);(o==="style"||l!=="object")&&(r[o]=a)}),Object(oe.g)("path",r)}var zo=eD;function vs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(t){return typeof t}:vs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function ys(){return ys=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ys.apply(this,arguments)}function tD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rD(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}function nD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jc(e,r)}function oD(e){var r=uD();return function(){var n=gs(e),o;if(r){var a=gs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iD(this,o)}}function iD(e,r){if(r&&(vs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aD(e)}function aD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gs(e){return gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(e)}var Cc=function(e){nD(t,e);var r=oD(t);function t(){return tD(this,t),r.apply(this,arguments)}return rD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p=o.isAnimation,g=o.arrowConfig,E=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),j=T.strokeDasharray,_=T.stroke,G=T.strokeDashoffset,Z=T.animationName,ie=T.animationDuration,ue=T.animationIterationCount,se=T.animationTimingFunction,we=T.animationDirection;return Object(oe.g)(to,ys({},E,{x1:a.x,y1:a.y,x2:l.x,y2:l.y},g,p?{strokeDasharray:j,stroke:_,style:{strokeDashoffset:G,animationName:Z,animationDuration:ie,animationIterationCount:ue,animationTimingFunction:se,animationDirection:we}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,g=a.strokeDasharray,E=o.startPoint,T=o.endPoint,j=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(to,ys({},j,{x1:E.x,y1:E.y,x2:T.x,y2:T.y,className:p,strokeDasharray:g,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p={start:a,end:l},g=eT(p),E=g.d,T=g.strokeWidth,j=g.fill,_=g.strokeDasharray,G=g.stroke;return Object(oe.g)(zo,{d:E,fill:j,strokeWidth:T,stroke:G,strokeDasharray:_})}}]),t}(Oi);function ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(t){return typeof t}:ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function sD(e,r){return dD(e)||cD(e,r)||fD(e,r)||lD()}function lD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fD(e,r){if(!!e){if(typeof e=="string")return wg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wg(e,r)}}function wg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function dD(e){if(Array.isArray(e))return e}function pD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=sD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var l=ms(a);l!=="object"&&(r[o]=a)}}),Object(oe.g)("polyline",r)}var Ng=pD;function bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(t){return typeof t}:bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Dg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Os(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dg(Object(t),!0).forEach(function(n){en(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Es(){return Es=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Es.apply(this,arguments)}function hD(e,r){return mD(e)||gD(e,r)||yD(e,r)||vD()}function vD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yD(e,r){if(!!e){if(typeof e=="string")return jg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jg(e,r)}}function jg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function mD(e){if(Array.isArray(e))return e}function bD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OD(e,r,t){return r&&Cg(e.prototype,r),t&&Cg(e,t),e}function ED(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rc(e,r)}function Rc(e,r){return Rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rc(e,r)}function xD(e){var r=PD();return function(){var n=xs(e),o;if(r){var a=xs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return SD(this,o)}}function SD(e,r){if(r&&(bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xs(e)}function en(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ic=function(e){ED(t,e);var r=xD(t);function t(){var n;return bD(this,t),n=r.call(this),en(qr(n),"drag",void 0),en(qr(n),"isDraging",void 0),en(qr(n),"appendInfo",void 0),en(qr(n),"dragHandler",void 0),en(qr(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),en(qr(n),"onDraging",function(o){var a=o.deltaX,l=o.deltaY,p=n.props,g=p.model,E=p.graphModel;n.isDraging=!0;var T=E.transformModel,j=E.editConfigModel,_=T.fixDeltaXY(a,l),G=hD(_,2),Z=G[0],ie=G[1],ue=g,se=j.adjustEdgeMiddle;se?n.appendInfo=ue.dragAppendSimple(n.appendInfo,{x:Z,y:ie}):n.appendInfo=ue.dragAppend(n.appendInfo,{x:Z,y:ie})}),en(qr(n),"onDragEnd",function(){var o=n.props,a=o.model,l=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,l.emit(it.EDGE_ADJUST,{data:p.getData()})}),en(qr(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),en(qr(n),"getIsDragging",function(){return n.isDraging}),n.drag=gf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return OD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,l=o.isAnimation,p=o.arrowConfig,g=o.getEdgeStyle(),E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,j=E.stroke,_=E.strokeDashoffset,G=E.animationName,Z=E.animationDuration,ie=E.animationIterationCount,ue=E.animationTimingFunction,se=E.animationDirection;return Object(oe.g)(Ng,Es({points:a},g,p,l?{strokeDasharray:T,stroke:j,style:{strokeDashoffset:_,animationName:G,animationDuration:Z,animationIterationCount:ie,animationTimingFunction:ue,animationDirection:se}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,g=a.strokeDasharray,E=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(Ng,Es({points:o.points},E,{className:p,strokeDasharray:g,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,l=o.isSelected,p=this.state,g=p.hover,E={start:null,end:null,hover:g,isSelected:l},T=Po(a);return T.length>=2&&(E.start=T[T.length-2],E.end=T[T.length-1]),E}},{key:"getAppendAttributes",value:function(o){var a=o.start,l=o.end,p;if(a.x===l.x&&a.y===l.y)p="";else{var g={start:a,end:l,offset:10,verticalLength:5},E=fi(Os(Os({},g),{},{type:"start"})),T=fi(Os(Os({},g),{},{type:"end"}));p="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),l=a.d,p=a.strokeWidth,g=a.fill,E=a.strokeDasharray,T=a.stroke;return Object(oe.g)(zo,{d:l,fill:g,strokeWidth:p,stroke:T,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,l=a.model,p=a.graphModel,g=l.pointsList,E=l.draggable,T=[],j=g.length,_=function(ie){var ue="lf-polyline-append",se={start:{x:g[ie].x,y:g[ie].y},end:{x:g[ie+1].x,y:g[ie+1].y},startIndex:ie,endIndex:ie+1,direction:"",dragAble:!0},we=Object(oe.g)("g",{className:ue},o.getAppendShape(se)),ge=p.editConfigModel,be=ge.adjustEdge,Fe=ge.adjustEdgeMiddle;if(!be||!E)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Re=se.startIndex,Ze=se.endIndex,He=Fe&&(Re===0||Ze===j-1);se.dragAble=!He,se.start.x===se.end.x?(se.dragAble&&(ue+="-ew-resize"),se.direction=Dt.VERTICAL):se.start.y===se.end.y&&(se.dragAble&&(ue+="-ns-resize"),se.direction=Dt.HORIZONTAL),we=Object(oe.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,se)}},Object(oe.g)("g",{className:ue},o.getAppendShape(se)))}T.push(we)},G=0;G<j-1;G++)_(G);return Object(oe.g)("g",null,T)}}]),t}(Oi);function Ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(t){return typeof t}:Ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function TD(e,r){return ND(e)||wD(e,r)||AD(e,r)||MD()}function MD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AD(e,r){if(!!e){if(typeof e=="string")return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}function Rg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function wD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ND(e){if(Array.isArray(e))return e}function Ps(){return Ps=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ps.apply(this,arguments)}function DD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jD(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}function CD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bc(e,r)}function Bc(e,r){return Bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bc(e,r)}function RD(e){var r=_D();return function(){var n=Ts(e),o;if(r){var a=Ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ID(this,o)}}function ID(e,r){if(r&&(Ss(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BD(e)}function BD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ts(e){return Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ts(e)}var _c=function(e){CD(t,e);var r=RD(t);function t(){return DD(this,t),r.apply(this,arguments)}return jD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),l=o.path,p=o.isAnimation,g=o.arrowConfig,E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,j=E.stroke,_=E.strokeDashoffset,G=E.animationName,Z=E.animationDuration,ie=E.animationIterationCount,ue=E.animationTimingFunction,se=E.animationDirection;return Object(oe.g)(zo,Ps({d:l},a,g,p?{strokeDasharray:T,stroke:j,style:{strokeDashoffset:_,animationName:G,animationDuration:Z,animationIterationCount:ie,animationTimingFunction:ue,animationDirection:se}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,g=a.strokeDasharray,E=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(zo,Ps({d:o.path},E,{className:p,strokeDasharray:g,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(oe.g)(zo,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,l=a.hover,p=o,g=p.path,E=p.isSelected,T=tT(g),j=TD(T,2),_=j[0],G=j[1],Z={start:_,end:G,hover:l,isSelected:E};return Z}}]),t}(Oi);function Ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ms=function(t){return typeof t}:Ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function Bg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function LD(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Bg(Object(t),!0).forEach(function(n){zD(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function zD(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function FD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HD(e,r,t){return r&&_g(e.prototype,r),t&&_g(e,t),e}function GD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lc(e,r)}function Lc(e,r){return Lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lc(e,r)}function $D(e){var r=UD();return function(){var n=As(e),o;if(r){var a=As(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kD(this,o)}}function kD(e,r){if(r&&(Ms(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XD(e)}function XD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function As(e){return As=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},As(e)}var YD=function(e){GD(t,e);var r=$D(t);function t(){return FD(this,t),r.apply(this,arguments)}return HD(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,l=o.style,p=a.start,g=a.end,E={start:p,end:g,offset:l.offset,verticalLength:l.verticalLength,type:"end"},T=fi(E),j=T.leftX,_=T.leftY,G=T.rightX,Z=T.rightY;return LD({d:"M".concat(j," ").concat(_," L").concat(g.x," ").concat(g.y," L").concat(G," ").concat(Z," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,l=o.strokeWidth,p=o.stroke,g=o.fill;return Object(oe.g)(zo,{d:a,fill:g,strokeWidth:l,stroke:p})}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(oe.a);function WD(e,r){return Fl(e,r)}var Lg=WD;function KD(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var VD=KD,ZD=function(){return xr.a.Date.now()},zc=ZD,JD=/\s/;function QD(e){for(var r=e.length;r--&&JD.test(e.charAt(r)););return r}var qD=QD,ej=/^\s+/;function tj(e){return e&&e.slice(0,qD(e)+1).replace(ej,"")}var rj=tj,zg=0/0,nj=/^[-+]0x[0-9a-f]+$/i,oj=/^0b[01]+$/i,ij=/^0o[0-7]+$/i,aj=parseInt;function uj(e){if(typeof e=="number")return e;if(va(e))return zg;if(Tt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Tt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=rj(e);var t=oj.test(e);return t||ij.test(e)?aj(e.slice(2),t?2:8):nj.test(e)?zg:+e}var Fg=uj,sj="Expected a function",lj=Math.max,fj=Math.min;function cj(e,r,t){var n,o,a,l,p,g,E=0,T=!1,j=!1,_=!0;if(typeof e!="function")throw new TypeError(sj);r=Fg(r)||0,Tt(t)&&(T=!!t.leading,j="maxWait"in t,a=j?lj(Fg(t.maxWait)||0,r):a,_="trailing"in t?!!t.trailing:_);function G(Re){var Ze=n,He=o;return n=o=void 0,E=Re,l=e.apply(He,Ze),l}function Z(Re){return E=Re,p=setTimeout(se,r),T?G(Re):l}function ie(Re){var Ze=Re-g,He=Re-E,ht=r-Ze;return j?fj(ht,a-He):ht}function ue(Re){var Ze=Re-g,He=Re-E;return g===void 0||Ze>=r||Ze<0||j&&He>=a}function se(){var Re=zc();if(ue(Re))return we(Re);p=setTimeout(se,ie(Re))}function we(Re){return p=void 0,_&&n?G(Re):(n=o=void 0,l)}function ge(){p!==void 0&&clearTimeout(p),E=0,n=g=o=p=void 0}function be(){return p===void 0?l:we(zc())}function Fe(){var Re=zc(),Ze=ue(Re);if(n=arguments,o=this,g=Re,Ze){if(p===void 0)return Z(g);if(j)return clearTimeout(p),p=setTimeout(se,r),G(g)}return p===void 0&&(p=setTimeout(se,r)),l}return Fe.cancel=ge,Fe.flush=be,Fe}var dj=cj,pj=i(166);function hj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vj(e,r,t){return r&&Hg(e.prototype,r),t&&Hg(e,t),e}function Bn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yj=function(){function e(r){hj(this,e),Bn(this,"undos",[]),Bn(this,"redos",[]),Bn(this,"callbacks",[]),Bn(this,"stopWatch",null),Bn(this,"curData",null),Bn(this,"maxSize",50),Bn(this,"waitTime",100),Bn(this,"eventCenter",void 0),this.eventCenter=r}return vj(e,[{key:"add",value:function(t){Lg(VD(this.undos),t)||(this.undos.push(t),Lg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(it.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=jt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=jt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(pj.a)(t,dj(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),gj=yj;function ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(t){return typeof t}:ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}var Gg,$g,kg;function mj(e,r){return xj(e)||Ej(e,r)||Oj(e,r)||bj()}function bj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oj(e,r){if(!!e){if(typeof e=="string")return Xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xg(e,r)}}function Xg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ej(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function xj(e){if(Array.isArray(e))return e}function Ug(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Fo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ug(Object(t),!0).forEach(function(n){oo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ug(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Sj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pj(e,r,t){return r&&Yg(e.prototype,r),t&&Yg(e,t),e}function Tj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function Mj(e){var r=wj();return function(){var n=Ns(e),o;if(r){var a=Ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Aj(this,o)}}function Aj(e,r){if(r&&(ws(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ho(e)}function Ho(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ns(e)}function oo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Hc=Hr(Gg=(kg=$g=function(e){Tj(t,e);var r=Mj(t);function t(){var n;return Sj(this,t),n=r.call(this),oo(Ho(n),"ref",Object(oe.f)()),oo(Ho(n),"__prevText",{type:"",text:"",id:""}),oo(Ho(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),oo(Ho(n),"inputHandler",function(o){var a=o.target,l=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:l.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),oo(Ho(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Pj(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter;a.on("".concat(it.GRAPH_TRANSFORM,",").concat(it.NODE_CLICK,",").concat(it.BLANK_CLICK," "),function(){var l=o.textEditElement,p=o.editConfigModel,g=p.edgeTextEdit,E=p.nodeTextEdit;(g||E)&&l&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,l=a.text,p=a.id;o.updateText(p,l),o.eventCenter.emit(it.TEXT_UPDATE,Fo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,l=this.state.style;return a?Object(oe.g)("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,l=a.transformModel,p=a.theme,g=a.textEditElement,E;if(g){var T;if(!((T=g.text)!==null&&T!==void 0&&T.value))if(g.BaseType===Ht.EDGE){g=g;var j=g.text,_=g.textPosition,G=_.x,Z=_.y;j.x=G,j.y=Z,g.setText(j)}else g=g;var ie={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(g.BaseType===Ht.EDGE){var ue=p.edgeText,se=ue.overflowMode,we=ue.lineHeight,ge=ue.wrapPadding,be=ue.textWidth;be&&se==="autoWrap"&&(E=Fo(Fo({},ie),{},{width:be,minWidth:be,lineHeight:we,padding:ge}))}else if(g.BaseType===Ht.NODE){var Fe=p.nodeText,Re=Fe.overflowMode,Ze=Fe.lineHeight,He=Fe.wrapPadding,ht=Fe.textWidth,yt=g,ur=yt.width,Or=yt.modelType;(Or!==pt.TEXT_NODE&&Re==="autoWrap"||Or===pt.TEXT_NODE&&ht)&&(E=Fo(Fo({},ie),{},{width:ht||ur,minWidth:ht||ur,lineHeight:Ze,padding:He}))}var rn=g.text,_n=rn.x,io=rn.y,Go=l.CanvasPointToHtmlPoint([_n,io]),Ln=mj(Go,2),$o=Ln[0],Yc=Ln[1];return{style:Fo({left:$o,top:Yc},E)}}}}]),t}(oe.a),oo($g,"toolName","textEdit"),kg))||Gg,Nj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},Dj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,l=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-l/2,y:a-p/2,x1:o+l/2,y1:a+p/2}},jj=function(r){var t=r.points,n=Po(t),o=ci(n,8),a=o.x,l=o.y,p=o.width,g=o.height;return{x:a-p/2,y:l-g/2,x1:a+p/2,y1:l+g/2}},Cj=function(r){var t=r.path,n=La(t),o=ci(n,8),a=o.x,l=o.y,p=o.width,g=o.height;return{x:a-p/2,y:l-g/2,x1:a+p/2,y1:l+g/2}},Rj=function(r){if(r.modelType===pt.LINE_EDGE)return Dj(r);if(r.modelType===pt.POLYLINE_EDGE)return jj(r);if(r.modelType===pt.BEZIER_EDGE)return Cj(r)};function Ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ds=function(t){return typeof t}:Ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}var Wg,Kg,Vg;function Zg(e,r){return _j(e)||Bj(e,r)||Jg(e,r)||Ij()}function Ij(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bj(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function _j(e){if(Array.isArray(e))return e}function Lj(e){return Hj(e)||Fj(e)||Jg(e)||zj()}function zj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jg(e,r){if(!!e){if(typeof e=="string")return Gc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gc(e,r)}}function Fj(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hj(e){if(Array.isArray(e))return Gc(e)}function Gc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Gj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $j(e,r,t){return r&&Qg(e.prototype,r),t&&Qg(e,t),e}function kj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$c(e,r)}function Xj(e){var r=Yj();return function(){var n=js(e),o;if(r){var a=js(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Uj(this,o)}}function Uj(e,r){if(r&&(Ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ei(e)}function Ei(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},js(e)}function xi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kc=Hr(Wg=(Vg=Kg=function(e){kj(t,e);var r=Xj(t);function t(n){var o;Gj(this,t),o=r.call(this),xi(Ei(o),"stepDrag",void 0),xi(Ei(o),"handleMouseDown",function(g){o.stepDrag.handleMouseDown(g)}),xi(Ei(o),"onDraging",function(g){var E=g.deltaX,T=g.deltaY,j=o.props.graphModel,_=j.getSelectElements(!0);j.moveNodes(_.nodes.map(function(G){return G.id}),E,T)}),xi(Ei(o),"handleContextMenu",function(g){g.preventDefault();var E=o.props,T=E.graphModel,j=E.graphModel,_=j.eventCenter,G=j.selectElements,Z=T.getPointByClient({x:g.clientX,y:g.clientY}),ie={nodes:[],edges:[]},ue=Lj(G.values());ue.forEach(function(se){se.BaseType===Ht.NODE&&ie.nodes.push(se.getData()),se.BaseType===Ht.EDGE&&ie.edges.push(se.getData())}),_.emit(it.SELECTION_CONTEXTMENU,{data:ie,e:g,position:Z})});var a=n.graphModel,l=a.gridSize,p=a.eventCenter;return o.stepDrag=new eo({onDraging:o.onDraging,step:l,eventType:"SELECTION",eventCenter:p}),o}return $j(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,l=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;a.forEach(function(ue){var se={x:0,y:0,x1:0,y1:0};ue.BaseType===Ht.NODE&&(se=Nj(ue)),ue.BaseType===Ht.EDGE&&(se=Rj(ue)),p=Math.min(p,se.x),g=Math.min(g,se.y),E=Math.max(E,se.x1),T=Math.max(T,se.y1)});var j=l.CanvasPointToHtmlPoint([p,g]),_=Zg(j,2);p=_[0],g=_[1];var G=l.CanvasPointToHtmlPoint([E,T]),Z=Zg(G,2);E=Z[0],T=Z[1];var ie={left:"".concat(p-10,"px"),top:"".concat(g-10,"px"),width:"".concat(E-p+20,"px"),height:"".concat(T-g+20,"px")};return Object(oe.g)("div",{className:"lf-multiple-select",style:ie,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(oe.a),xi(Kg,"toolName","multipleSelect"),Vg))||Wg;function Wj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kj(e,r,t){return r&&qg(e.prototype,r),t&&qg(e,t),e}function Cs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vj=function(){function e(r){Wj(this,e),Cs(this,"tools",void 0),Cs(this,"components",void 0),Cs(this,"toolMap",new Map),Cs(this,"instance",void 0),this.instance=r,this.isDisabledTool(Hc.toolName)||this.registerTool(Hc.toolName,Hc),this.isDisabledTool(kc.toolName)||this.registerTool(kc.toolName,kc)}return Kj(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),Zj=i(167),Jj=i.n(Zj);function Qj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function em(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qj(e,r,t){return r&&em(e.prototype,r),t&&em(e,t),e}function Xc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var tm=function(){function e(r){Qj(this,e),Xc(this,"mousetrap",void 0),Xc(this,"options",void 0),Xc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new Jj.a(this.target),r.keyboard.enabled&&this.enable(!0)}return qj(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var g=p.keys,E=p.callback,T=p.action;return t.on(g,E,T)});else{var o=n.keys,a=n.callback,l=n.action;this.on(o,a,l)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),eC=tm,tn=null;function rm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function nm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Rs=40;function tC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),l=o&&o.beforeClone?o.beforeClone(a):!0;return l?(tn=a,tn.nodes.forEach(function(p){return rm(p,Rs)}),tn.edges.forEach(function(p){return nm(p,Rs)}),!1):(tn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(tn&&(tn.nodes||tn.edges)){e.clearSelectElements();var o=e.addElements(tn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),tn.nodes.forEach(function(a){return rm(a,Rs)}),tn.edges.forEach(function(a){return nm(a,Rs)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function rC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(t){return typeof t}:Is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function om(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Si(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?om(Object(t),!0).forEach(function(n){Lt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):om(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function im(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oC(e,r,t){return r&&im(e.prototype,r),t&&im(e,t),e}function Lt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Uc=function(){function e(r){var t=this;nC(this,e),Lt(this,"container",void 0),Lt(this,"width",void 0),Lt(this,"height",void 0),Lt(this,"graphModel",void 0),Lt(this,"history",void 0),Lt(this,"viewMap",new Map),Lt(this,"tool",void 0),Lt(this,"keyboard",void 0),Lt(this,"dnd",void 0),Lt(this,"options",void 0),Lt(this,"snaplineModel",void 0),Lt(this,"components",[]),Lt(this,"plugins",void 0),Lt(this,"extension",{}),Lt(this,"adapterIn",void 0),Lt(this,"adapterOut",void 0),Lt(this,"getView",function(n){return t.viewMap.get(n)}),r=Mv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new yT(Si({},r)),this.tool=new Vj(this),this.history=new gj(this.graphModel.eventCenter),this.dnd=new tA({lf:this}),this.keyboard=new eC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new Yy(this.graphModel),rC(this.graphModel.eventCenter,this.snaplineModel)),tC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return oC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Oi,BaseEdgeModel:af,BaseNode:pn,BaseNodeModel:cn,RectNode:ac,RectNodeModel:Kf,CircleNode:lc,CircleNodeModel:Lf,PolygonNode:dc,PolygonNodeModel:Uf,TextNode:Oc,TextNodeModel:Zf,LineEdge:Cc,LineEdgeModel:lf,DiamondNode:vc,DiamondNodeModel:Hf,PolylineEdge:Ic,PolylineEdgeModel:df,BezierEdge:_c,BezierEdgeModel:If,EllipseNode:mc,EllipseNodeModel:$f,HtmlNode:Sc,HtmlNodeModel:Qf,h:oe.g,type:t};this.viewMap.forEach(function(T){var j=T.extendKey;j&&(a[j]=T)}),this.graphModel.modelMap.forEach(function(T){var j=T.extendKey;j&&(a[j]=T)});var l=n(a),p=l.view,g=l.model,E=p;o&&!E.isObervered&&(E.isObervered=!0,E=bt(E)),this.setView(t,E),this.graphModel.setModel(t,g)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=bt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:ac,model:Kf,type:"rect"}),this.registerElement({type:"circle",view:lc,model:Lf}),this.registerElement({type:"polygon",view:dc,model:Uf}),this.registerElement({type:"line",view:Cc,model:lf}),this.registerElement({type:"polyline",view:Ic,model:df}),this.registerElement({type:"bezier",view:_c,model:If}),this.registerElement({type:"text",view:Oc,model:Zf}),this.registerElement({type:"ellipse",view:mc,model:$f}),this.registerElement({type:"diamond",view:vc,model:Hf}),this.registerElement({type:"html",view:Sc,model:Qf})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var l=this.getNodeModelById(a);l&&(o=l.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var g=o,E=g.x,T=g.y;n.focusOn(E,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,l=this.getModelById(t);if(!l)return!1;var p=(n={},Lt(n,Ht.NODE,this.deleteNode),Lt(n,Ht.EDGE,this.deleteEdge),n),g=l.BaseType;return(o=(a=p[g])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,l=a&&a.beforeDelete?a.beforeDelete(o):!0;return l&&this.graphModel.deleteNode(t),l}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,l=a&&a.beforeClone?a.beforeClone(o):!0;if(l)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),l=n&&n.beforeDelete?n.beforeDelete(a):!0;return l&&this.graphModel.deleteEdgeById(t),l}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var l=[];return n.forEach(function(E){E.sourceNodeId===o&&E.targetNodeId===a&&l.push(E)}),l}if(o){var p=[];return n.forEach(function(E){E.sourceNodeId===o&&p.push(E)}),p}if(a){var g=[];return n.forEach(function(E){E.targetNodeId===a&&g.push(E)}),g}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(qt(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,l={},p={nodes:[],edges:[]},g=0;g<o.length;g++){var E=o[g],T=E.id,j=this.addNode(E);if(!j)return;T&&(l[T]=j.id),p.nodes.push(j)}return a.forEach(function(_){var G=_.sourceNodeId,Z=_.targetNodeId;l[G]&&(G=l[G]),l[Z]&&(Z=l[Z]);var ie=n.graphModel.addEdge(Si(Si({},_),{},{sourceNodeId:G,targetNodeId:Z}));p.edges.push(ie)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,l).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=qt(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=qt(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,l=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:l}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(l){var p=l.pluginName||l.name;o.indexOf(p)===-1&&n.installPlugin(l)})}},{key:"installPlugin",value:function(t){if(Is(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,l=new a({lf:this,LogicFlow:e});l.render&&this.components.push(l.render.bind(l)),this.extension[a.pluginName]=l}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n(Si(Si({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(qt(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(oe.j)(Object(oe.g)(QM,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(it.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();Lt(Uc,"extensions",new Map);function Hr(e){return bt(e)}c.default=Uc}])})})(Ue,Ue.exports);const ZC=lC(Ue.exports);function pC(m,v){return v={exports:{}},m(v,v.exports),v.exports}var hC=pC(function(m){var v=m.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),s=2;i===1/0;s*=2)i=Math.log(Math.pow(2,u/s))/Math.log(c)*s;for(var f=i-Math.floor(i),y="",s=0;s<Math.floor(i);s++){var b=Math.floor(Math.random()*c).toString(c);y=b+y}if(f){var S=Math.pow(c,f),b=Math.floor(Math.random()*S).toString(c);y=b+y}var x=parseInt(y,c);return x!==1/0&&x>=Math.pow(2,u)?v(u,c):y};v.rack=function(u,c,i){var s=function(y){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var S=v(u,c)}while(Object.hasOwnProperty.call(f,S));return f[S]=y,S},f=s.hats={};return s.get=function(y){return s.hats[y]},s.set=function(y,b){return s.hats[y]=b,s},s.bits=u||128,s.base=c||16,s}});function nn(m){if(!(this instanceof nn))return new nn(m);m=m||[128,36,1],this._seed=m.length?hC.rack(m[0],m[1],m[2]):m}nn.prototype.next=function(m){return this._seed(m||!0)};nn.prototype.nextPrefixed=function(m,v){var u;do u=m+this.next(!0);while(this.assigned(u));return this.claim(u,v),u};nn.prototype.claim=function(m,v){this._seed.set(m,v||!0)};nn.prototype.assigned=function(m){return this._seed.get(m)||!1};nn.prototype.unclaim=function(m){delete this._seed.hats[m]};nn.prototype.clear=function(){var m=this._seed.hats,v;for(v in m)this.unclaim(v)};var vC=new nn([32,32,1]);function Ko(){return vC.next()}var Bm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Bm(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+Ko()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=m.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v})(Ue.exports.CircleNodeModel);(function(m){Bm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="StartEventNode",v})(Ue.exports.CircleNode);var _m=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),zs=globalThis&&globalThis.__assign||function(){return zs=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},zs.apply(this,arguments)};(function(m){_m(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+Ko()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=m.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v})(Ue.exports.CircleNodeModel);(function(m){_m(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,s=u.y,f=u.r,y=m.prototype.getShape.call(this);return Ue.exports.h("g",{},y,Ue.exports.h("circle",zs(zs({},c),{cx:i,cy:s,r:f-5})))},v.extendKey="EndEventView",v})(Ue.exports.CircleNode);var Lm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ai=globalThis&&globalThis.__assign||function(){return Ai=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ai.apply(this,arguments)};(function(m){Lm(v,m);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+Ko()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v})(Ue.exports.PolygonNodeModel);(function(m){Lm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.points,b=u.getNodeStyle();return Ue.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-s/2)+" "+(i-f/2)+")"},Ue.exports.h("polygon",Ai(Ai({},b),{x:c,y:i,points:y})),Ue.exports.h("path",Ai({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v})(Ue.exports.PolygonNode);var zm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Fs=globalThis&&globalThis.__assign||function(){return Fs=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Fs.apply(this,arguments)};(function(m){zm(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Ko()),i=m.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v})(Ue.exports.RectNodeModel);(function(m){zm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getNodeStyle();return Ue.exports.h("svg",{x:c-s/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ue.exports.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return Ue.exports.h("g",{},[Ue.exports.h("rect",Fs(Fs({},b),{x:c-s/2,y:i-f/2,rx:y,ry:y,width:s,height:f})),this.getLabelShape()])},v.extendKey="UserTaskNode",v})(Ue.exports.RectNode);var Fm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Wc=globalThis&&globalThis.__assign||function(){return Wc=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Wc.apply(this,arguments)};(function(m){Fm(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Ko()),i=m.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v})(Ue.exports.RectNodeModel);(function(m){Fm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getNodeStyle();return Ue.exports.h("svg",{x:c-s/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ue.exports.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return Ue.exports.h("g",{},[Ue.exports.h("rect",Wc({x:c-s/2,y:i-f/2,rx:y,ry:y,width:s,height:f},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v})(Ue.exports.RectNode);var Hm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Hm(v,m);function v(u,c){var i=this;return u.id||(u.id="Flow_"+Ko()),i=m.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v})(Ue.exports.PolylineEdgeModel);(function(m){Hm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v})(Ue.exports.PolylineEdge);var fm={width:40,height:40},cm={width:40,height:40},dm={width:40,height:40},pm={width:100,height:80},hm={width:100,height:80},JC=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,s){u.getSnapshot(i,s)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return m.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var s=i.x,f=i.width,y=i.y,b=i.height,S=s-f/2,x=y-b/2;S<u.offsetX&&(u.offsetX=S-5),x<u.offsetY&&(u.offsetY=x-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(s){var f=s.x,y=s.y;f<u.offsetX&&(u.offsetX=f-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},m.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},m.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var s=u[i],f=s.classList&&Array.from(s.classList)||[];f.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},m.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(s){var f=s.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},m.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){var f=s.toDataURL("image/png");i({data:f,width:s.width,height:s.height})})})},m.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){s.toBlob(function(f){i({data:f,width:s.width,height:s.height})},"image/png")})})},m.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],s=0;s<i.cssRules.length;s++)v+=i.cssRules[s].cssText;return this.customCssRules&&(v+=this.customCssRules),v},m.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),s=i.lastChild,f=s.childNodes&&s.childNodes.length;if(f)for(var y=0;y<f;y++){var b=s.childNodes[y],S=b.classList&&Array.from(b.classList);if(S&&S.indexOf("lf-base")<0)s.removeChild(s.childNodes[y]),f--,y--;else{var x=s.childNodes[y];x&&x.childNodes.forEach(function(z){var $=z;c.removeAnchor($.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,A=document.createElement("canvas"),M=this.lf.graphModel.rootEl.querySelector(".lf-base"),D=M.getBoundingClientRect(),C=this.lf.graphModel,B=C.transformModel,L=B.SCALE_X,X=B.SCALE_Y,U=Math.ceil(D.width/L),ae=Math.ceil(D.height/X);A.style.width=U+"px",A.style.height=ae+"px",A.width=U*P+80,A.height=ae*P+80;var ne=A.getContext("2d");ne.clearRect(0,0,A.width,A.height),ne.scale(P,P),u?(ne.fillStyle=u,ne.fillRect(0,0,U*P+80,ae*P+80)):ne.clearRect(0,0,U,ae);var Q=new Image,J=document.createElement("style");J.innerHTML=this.getClassRules();var le=document.createElement("foreignObject");return le.appendChild(J),i.appendChild(le),new Promise(function(z){Q.onload=function(){ne.drawImage(Q,0,0),z(A)};var $="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),I=$.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Q.src=I})},m.pluginName="snapshot",m}(),yC=new nn([32,32,1]);function vm(){return yC.next()}var cr=function(){};cr.ObjTree=function(){return this};cr.ObjTree.VERSION="0.23";cr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;cr.ObjTree.prototype.attr_prefix="-";cr.ObjTree.prototype.parseXML=function(m){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(m,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(m),v=u.documentElement);if(!!v)return this.parseDOM(v)};cr.ObjTree.prototype.parseHTTP=function(m,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),u){c.asynchronous=!0;var s=this,f=u,y=c.onComplete;c.onComplete=function(x){var P;x&&x.responseXML&&x.responseXML.documentElement&&(P=s.parseDOM(x.responseXML.documentElement)),f(P,x),y&&y(x)}}else c.asynchronous=!1;var b;if(typeof HTTP<"u"&&HTTP.Request){c.uri=m;var S=new HTTP.Request(c);S&&(b=S.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var S=new Ajax.Request(m,c);S&&(b=S.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};cr.ObjTree.prototype.parseDOM=function(m){if(!!m){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(m);if(this.__force_array[m.nodeName]&&(u=[u]),m.nodeType!=11){var c={};c[m.nodeName]=u,u=c}return u}};cr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4){var v=m.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:m.nodeValue}var u,c={};if(m.attributes&&m.attributes.length){u={};for(var i=0;i<m.attributes.length;i++){var s=m.attributes[i].nodeName;if(typeof s=="string"){var f=m.attributes[i].nodeValue;!f||(s=this.attr_prefix+s,typeof c[s]>"u"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],f))}}}if(m.childNodes&&m.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<m.childNodes.length&&y;i++){var b=m.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<m.childNodes.length;i++)u+=m.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<m.childNodes.length;i++){var s=m.childNodes[i].nodeName;if(typeof s=="string"){var f=this.parseElement(m.childNodes[i]);!f||(typeof c[s]>"u"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],f))}}}}return u}};cr.ObjTree.prototype.addNode=function(m,v,u,c){this.__force_array[v]?(u==1&&(m[v]=[]),m[v][m[v].length]=c):u==1?m[v]=c:u==2?m[v]=[m[v],c]:m[v][m[v].length]=c};cr.ObjTree.prototype.writeXML=function(m){var v=this.hash_to_xml(null,m);return this.xmlDecl+v};cr.ObjTree.prototype.hash_to_xml=function(m,v){var u=[],c=[];for(var i in v)if(!!v.hasOwnProperty(i)){var s=v[i];i.charAt(0)!=this.attr_prefix?typeof s>"u"||s==null?u[u.length]="<"+i+" />":typeof s=="object"&&s.constructor==Array?u[u.length]=this.array_to_xml(i,s):typeof s=="object"?u[u.length]=this.hash_to_xml(i,s):u[u.length]=this.scalar_to_xml(i,s):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(s)+'"'}var f=c.join(""),y=u.join("");return typeof m>"u"||m==null||(u.length>0?y.match(/\n/)?y="<"+m+f+`>
`+y+"</"+m+`>
`:y="<"+m+f+">"+y+"</"+m+`>
`:y="<"+m+f+` />
`),y};cr.ObjTree.prototype.array_to_xml=function(m,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i>"u"||i==null?u[u.length]="<"+m+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(m,i):typeof i=="object"?u[u.length]=this.hash_to_xml(m,i):u[u.length]=this.scalar_to_xml(m,i)}return u.join("")};cr.ObjTree.prototype.scalar_to_xml=function(m,v){return m=="#text"?this.xml_escape(v):"<"+m+">"+this.xml_escape(v)+"</"+m+`>
`};cr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Xs=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},on;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(on||(on={}));var Gm=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Kc(m){var v={};return Object.entries(m).forEach(function(u){var c=Xs(u,2),i=c[0],s=c[1];typeof s!="object"?i.indexOf("-")===0?v[i]=s:v["-"+i]=s:v[i]=Kc(s)}),v}function Jc(m){var v={};return Object.entries(m).forEach(function(u){var c=Xs(u,2),i=c[0],s=c[1];typeof s=="string"?i.indexOf("-")===0?v[i.substr(1)]=s:v[i]=s:typeof s=="object"?v[i]=Jc(s):v[i]=s}),v}function gC(m,v){var u=new Map;v.nodes.forEach(function(i){var s,f={"-id":i.id};if(!((s=i.text)===null||s===void 0)&&s.value&&(f["-name"]=i.text.value),i.properties){var y=Kc(i.properties);Object.assign(f,y)}u.set(i.id,f),m[i.type]?Array.isArray(m[i.type])?m[i.type].push(f):m[i.type]=[m[i.type],f]:m[i.type]=f});var c=v.edges.map(function(i){var s,f,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var S={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((s=i.text)===null||s===void 0)&&s.value&&(S["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var x=Kc(i.properties);Object.assign(S,x)}return S});m[on.FLOW]=c}function mC(m,v){m["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,s=u.pointsList.map(function(y){var b=y.x,S=y.y;return{"-x":b,"-y":S}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":s};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),m["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,s=100,f=80,y=u.x,b=u.y,S=uo.shapeConfigMap.get(u.type);S&&(s=S.width,f=S.height),y-=s/2,b-=f/2;var x={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":s,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),x})}function bC(m){var v=[],u=[],c=m["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(s){if(s.indexOf("bpmn:")===0){var f=i[s];if(s===on.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=EC(f,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(OC(f,b,s))}}})}return{nodes:v,edges:u}}function OC(m,v,u){var c=[];if(Array.isArray(m))m.forEach(function(f){var y;Array.isArray(v)?y=v.find(function(S){return S["-bpmnElement"]===f["-id"]}):y=v;var b=ym(y,u,f);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(f){return f["-bpmnElement"]===m["-id"]}):i=v;var s=ym(i,u,m);c.push(s)}return c}function ym(m,v,u){var c=Number(m["dc:Bounds"]["-x"]),i=Number(m["dc:Bounds"]["-y"]),s=u["-name"],f=uo.shapeConfigMap.get(v);f&&(c+=f.width/2,i+=f.height/2);var y;Object.entries(u).forEach(function(P){var A=Xs(P,2),M=A[0],D=A[1];Gm.indexOf(M)===-1&&(y||(y={}),y[M]=D)}),y&&(y=Jc(y));var b;if(s&&(b={x:c,y:i,value:s},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var S=m["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(S["-x"])+Number(S["-width"])/2,b.y=Number(S["-y"])+Number(S["-height"])/2}var x={id:m["-bpmnElement"],type:v,x:c,y:i,properties:y};return b&&(x.text=b),x}function EC(m,v){var u=[];if(Array.isArray(m))m.forEach(function(i){var s;Array.isArray(v)?s=v.find(function(f){return f["-bpmnElement"]===i["-id"]}):s=v,u.push(gm(s,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===m["-id"]}):c=v,u.push(gm(c,m))}return u}function gm(m,v){var u,c=v["-name"];if(c){var i=m["bpmndi:BPMNLabel"]["dc:Bounds"],s=0;c.split(`
`).forEach(function(b){s<b.length&&(s=b.length)}),u={value:c,x:Number(i["-x"])+s*10/2,y:Number(i["-y"])+7}}var f;Object.entries(v).forEach(function(b){var S=Xs(b,2),x=S[0],P=S[1];Gm.indexOf(x)===-1&&(f||(f={}),f[x]=P)}),f&&(f=Jc(f));var y={id:v["-id"],type:on.FLOW,pointsList:m["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:f};return u&&(y.text=u),y}var uo={pluginName:"bpmn-adapter",install:function(m){m.adapterIn=this.adapterIn,m.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(m,v){this.shapeConfigMap.set(m,v)},adapterOut:function(m){var v={"-id":"Process_"+vm(),"-isExecutable":"false"};gC(v,m);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};mC(u,m);var c={"bpmn:definitions":{"-id":"Definitions_"+vm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(m){if(m)return bC(m)}};uo.shapeConfigMap.set(on.START,{width:fm.width,height:fm.height});uo.shapeConfigMap.set(on.END,{width:cm.width,height:cm.height});uo.shapeConfigMap.set(on.GATEWAY,{width:dm.width,height:dm.height});uo.shapeConfigMap.set(on.SYSTEM,{width:pm.width,height:pm.height});uo.shapeConfigMap.set(on.USER,{width:hm.width,height:hm.height});var mm=globalThis&&globalThis.__assign||function(){return mm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},mm.apply(this,arguments)};globalThis&&globalThis.__read;var bm;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(bm||(bm={}));var xC=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var SC=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},PC=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(SC(arguments[v]));return m},QC=function(){function m(v){var u=this,c=v.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){u.lf.redo()}}],this.lf=c}return m.prototype.render=function(v,u){this.destroy();var c=this.getControlTool();this.toolEl=c,u.appendChild(c),this.domContainer=u},m.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},m.prototype.addItem=function(v){this.controlItems.push(v)},m.prototype.removeItem=function(v){var u=this.controlItems.findIndex(function(c){return c.key===v});return this.controlItems.splice(u,1)[0]},m.prototype.getControlTool=function(){var v=this,u="lf-control-item",c="lf-control-item disabled",i=document.createElement("div"),s=[];return i.className="lf-control",this.controlItems.forEach(function(f){var y=document.createElement("div"),b=document.createElement("i"),S=document.createElement("span");switch(y.className=c,f.onClick&&(y.onclick=f.onClick.bind(null,v.lf)),f.onMouseEnter&&(y.onmouseenter=f.onMouseEnter.bind(null,v.lf)),f.onMouseLeave&&(y.onmouseleave=f.onMouseLeave.bind(null,v.lf)),b.className=f.iconClass,S.className="lf-control-text",S.title=f.title,S.innerText=f.text,y.append(b,S),f.text){case"\u4E0A\u4E00\u6B65":v.lf.on("history:change",function(x){var P=x.data.undoAble;y.className=P?u:c});break;case"\u4E0B\u4E00\u6B65":v.lf.on("history:change",function(x){var P=x.data.redoAble;y.className=P?u:c});break;default:y.className=u;break}s.push(y)}),i.append.apply(i,PC(s)),i},m.pluginName="control",m}(),TC=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},MC=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(TC(arguments[v]));return m},Pi="lf:defaultNodeMenu",Ti="lf:defaultEdgeMenu",Mi="lf:defaultGraphMenu",Om="lf:defaultSelectionMenu",qC=function(){function m(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return m.prototype.init=function(){var v=this,u=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteNode(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}},{text:"\u590D\u5236",callback:function(s){v.lf.cloneNode(s.id)}}];this.menuTypeMap.set(Pi,u);var c=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteEdge(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}}];this.menuTypeMap.set(Ti,c),this.menuTypeMap.set(Mi,[]);var i=[{text:"\u5220\u9664",callback:function(s){v.lf.clearSelectElements(),s.edges.forEach(function(f){return v.lf.deleteEdge(f.id)}),s.nodes.forEach(function(f){return v.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(Om,i)},m.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var s=i.target;Array.from(s.classList).indexOf("lf-menu-item")===-1&&Array.from(s.classList).indexOf("lf-menu")===-1;)s=s.parentElement;Array.from(s.classList).indexOf("lf-menu-item")>-1?(s.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var s=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,S=y.y,x=s.id,P=c.lf.graphModel.getNodeModelById(x),A=[],M=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?A=P.menu:M?A=M:A=c.menuTypeMap.get(Pi),c.__currentData=s,c.showMenu(b,S,A)}),this.lf.on("edge:contextmenu",function(i){var s=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,S=y.y,x=s.id,P=c.lf.graphModel.getEdgeModelById(x),A=[],M=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?A=P.menu:M?A=M:A=c.menuTypeMap.get(Ti),c.__currentData=s,c.showMenu(b,S,A)}),this.lf.on("blank:contextmenu",function(i){var s=i.position,f=c.menuTypeMap.get(Mi),y=s.domOverlayPosition,b=y.x,S=y.y;c.showMenu(b,S,f)}),this.lf.on("selection:contextmenu",function(i){var s=i.data,f=i.position,y=c.menuTypeMap.get(Om),b=f.domOverlayPosition,S=b.x,x=b.y;c.__currentData=s,c.showMenu(S,x,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},m.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,MC(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},m.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},m.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var s=document.createElement("span");s.className="lf-menu-item-icon",i.appendChild(s)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},m.prototype.setMenuConfig=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Pi,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Ti,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Mi,v.graphMenu?v.graphMenu:[]))},m.prototype.addMenuConfig=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(Pi);this.menuTypeMap.set(Pi,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(Ti);this.menuTypeMap.set(Ti,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(Mi);this.menuTypeMap.set(Mi,u.concat(v.graphMenu))}}},m.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}();globalThis&&globalThis.__read;var eR=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.lf.setPatternItems=function(i){u.setPatternItems(i)}}return m.prototype.render=function(v,u){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){c.panelEl.appendChild(c.createDndItem(i))}),u.appendChild(this.panelEl),this.domContainer=u},m.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},m.prototype.setPatternItems=function(v){this.shapeList=v,this.domContainer&&this.render(this.lf,this.domContainer)},m.prototype.createDndItem=function(v){var u=this,c=document.createElement("div");c.className=v.className?"lf-dnd-item "+v.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",v.icon&&(i.style.backgroundImage="url("+v.icon+")"),c.appendChild(i),v.label){var s=document.createElement("div");s.innerText=v.label,s.className="lf-dnd-text",c.appendChild(s)}return c.onmousedown=function(){v.type&&u.lf.dnd.startDrag({type:v.type,properties:v.properties,text:v.text}),v.callback&&v.callback(u.lf,u.domContainer)},c},m.pluginName="dndPanel",m}(),tR=function(){function m(v){var u=this,c=v.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(s){var f=u.lf.getPointByClient(s.clientX,s.clientY).domOverlayPosition,y=f.x,b=f.y;u.endPoint={x:y,y:b};var S=u.startPoint,x=S.x,P=S.y,A=u.wrapper.style,M=x,D=P,C=y-x,B=b-P;y<x&&(M=y,C=x-y),b<P&&(D=b,B=P-b),A.left=M+"px",A.top=D+"px",A.width=C+"px",A.height=B+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var s=u.startPoint,f=s.x,y=s.y,b=u.endPoint,S=b.x,x=b.y;if(!(Math.abs(S-f)<10&&Math.abs(x-y)<10)){var P=[Math.min(f,S),Math.min(y,x)],A=[Math.max(f,S),Math.max(y,x)],M=u.lf.graphModel.getAreaElement(P,A,u.isWholeEdge,u.isWholeNode,!0),D=u.lf.graphModel.group;M.forEach(function(C){(!D||!D.getNodeGroup(C.id))&&u.lf.selectElementById(C.id,!0)}),u.lf.emit("selection:selected",M)}},this.lf=c;var i=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,c.openSelectionSelect=function(){u.openSelectionSelect()},c.closeSelectionSelect=function(){u.closeSelectionSelect()}}return m.prototype.render=function(v,u){var c=this;this.__domContainer=u,v.on("blank:mousedown",function(i){var s=i.e,f=v.getEditConfig();if(!(!f.stopMoveGraph||c.__disabled)){var y=v.getPointByClient(s.clientX,s.clientY).domOverlayPosition,b=y.x,S=y.y;c.startPoint={x:b,y:S},c.endPoint={x:b,y:S};var x=document.createElement("div");x.className="lf-selection-select",x.oncontextmenu=function(A){A.preventDefault()},x.style.top=c.startPoint.y+"px",x.style.left=c.startPoint.x+"px",u.appendChild(x),c.wrapper=x,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}})},m.prototype.setSelectionSense=function(v,u){v===void 0&&(v=!0),u===void 0&&(u=!0),this.isWholeEdge=v,this.isWholeNode=u},m.prototype.openSelectionSelect=function(){var v=this.lf.getEditConfig().stopMoveGraph;v||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},m.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},m.prototype.open=function(){this.__disabled=!1},m.prototype.close=function(){this.__disabled=!0},m.pluginName="selectionSelect",m}();globalThis&&globalThis.__values;var $m=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Xo=globalThis&&globalThis.__assign||function(){return Xo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Xo.apply(this,arguments)},zn=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};(function(m){$m(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var s=zn(c[i-1],2),f=s[0],y=s[1],b=zn(c[i],2),S=b[0],x=b[1],P=zn(c[i+1],2),A=P[0],M=P[1];f===S&&S===A||y===x&&x===M?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){for(var u=this.props.model,c=u.points,i=u.isAnimation,s=u.arrowConfig,f=u.radius,y=f===void 0?5:f,b=u.getEdgeStyle(),S=u.getEdgeAnimationStyle(),x=this.pointFilter(c.split(" ").map(function(q){return q.split(",").map(function(ce){return Number(ce)})})),P=zn(x[0],2),A=P[0],M=P[1],D="M"+A+" "+M,C=1;C<x.length-1;C++){var B=zn(x[C-1],2),L=B[0],X=B[1],U=zn(x[C],2),ae=U[0],ne=U[1],Q=zn(x[C+1],2),J=Q[0],le=Q[1];if(ae===L&&ne!==X){var z=ne>X?ne-y:ne+y;D=D+" L "+ae+" "+z}if(ne===X&&ae!==L){var $=ae>L?ae-y:ae+y;D=D+" L "+$+" "+ne}if(D=D+" Q "+ae+" "+ne,ae===J&&ne!==le){var z=ne>le?ne-y:ne+y;D=D+" "+ae+" "+z}if(ne===le&&ae!==J){var $=ae>J?ae-y:ae+y;D=D+" "+$+" "+ne}}var I=zn(x[x.length-1],2),w=I[0],R=I[1];D=D+" L "+w+" "+R;var W=Xo(Xo(Xo({d:D,style:i?S:{}},b),s),{fill:"none"});return Ue.exports.h("path",Xo({d:D},W))},v})(Ue.exports.PolylineEdge);(function(m){$m(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v})(Ue.exports.PolylineEdgeModel);var Qc,Ft,km,wi,Em,Xm={},Um=[],AC=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Fn(m,v){for(var u in v)m[u]=v[u];return m}function Ym(m){var v=m.parentNode;v&&v.removeChild(m)}function Ni(m,v,u){var c,i,s,f={};for(s in v)s=="key"?c=v[s]:s=="ref"?i=v[s]:f[s]=v[s];if(arguments.length>2&&(f.children=arguments.length>3?Qc.call(arguments,2):u),typeof m=="function"&&m.defaultProps!=null)for(s in m.defaultProps)f[s]===void 0&&(f[s]=m.defaultProps[s]);return _s(m,f,c,i,null)}function _s(m,v,u,c,i){var s={type:m,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++km:i};return i==null&&Ft.vnode!=null&&Ft.vnode(s),s}function qc(m){return m.children}function Yo(m,v){this.props=m,this.context=v}function Wo(m,v){if(v==null)return m.__?Wo(m.__,m.__.__k.indexOf(m)+1):null;for(var u;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null)return u.__e;return typeof m.type=="function"?Wo(m):null}function Wm(m){var v,u;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,v=0;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null){m.__e=m.__c.base=u.__e;break}return Wm(m)}}function xm(m){(!m.__d&&(m.__d=!0)&&wi.push(m)&&!Hs.__r++||Em!==Ft.debounceRendering)&&((Em=Ft.debounceRendering)||setTimeout)(Hs)}function Hs(){for(var m;Hs.__r=wi.length;)m=wi.sort(function(v,u){return v.__v.__b-u.__v.__b}),wi=[],m.some(function(v){var u,c,i,s,f,y;v.__d&&(f=(s=(u=v).__v).__e,(y=u.__P)&&(c=[],(i=Fn({},s)).__v=s.__v+1,Jm(y,s,i,u.__n,y.ownerSVGElement!==void 0,s.__h!=null?[f]:null,c,f==null?Wo(s):f,s.__h),NC(c,s),s.__e!=f&&Wm(s)))})}function Km(m,v,u,c,i,s,f,y,b,S){var x,P,A,M,D,C,B,L=c&&c.__k||Um,X=L.length;for(u.__k=[],x=0;x<v.length;x++)if((M=u.__k[x]=(M=v[x])==null||typeof M=="boolean"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?_s(null,M,null,null,M):Array.isArray(M)?_s(qc,{children:M},null,null,null):M.__b>0?_s(M.type,M.props,M.key,null,M.__v):M)!=null){if(M.__=u,M.__b=u.__b+1,(A=L[x])===null||A&&M.key==A.key&&M.type===A.type)L[x]=void 0;else for(P=0;P<X;P++){if((A=L[P])&&M.key==A.key&&M.type===A.type){L[P]=void 0;break}A=null}Jm(m,M,A=A||Xm,i,s,f,y,b,S),D=M.__e,(P=M.ref)&&A.ref!=P&&(B||(B=[]),A.ref&&B.push(A.ref,null,M),B.push(P,M.__c||D,M)),D!=null?(C==null&&(C=D),typeof M.type=="function"&&M.__k===A.__k?M.__d=b=Vm(M,b,m):b=Zm(m,M,A,L,D,b),typeof u.type=="function"&&(u.__d=b)):b&&A.__e==b&&b.parentNode!=m&&(b=Wo(A))}for(u.__e=C,x=X;x--;)L[x]!=null&&(typeof u.type=="function"&&L[x].__e!=null&&L[x].__e==u.__d&&(u.__d=Wo(c,x+1)),qm(L[x],L[x]));if(B)for(x=0;x<B.length;x++)Qm(B[x],B[++x],B[++x])}function Vm(m,v,u){for(var c,i=m.__k,s=0;i&&s<i.length;s++)(c=i[s])&&(c.__=m,v=typeof c.type=="function"?Vm(c,v,u):Zm(u,c,c,i,c.__e,v));return v}function Zm(m,v,u,c,i,s){var f,y,b;if(v.__d!==void 0)f=v.__d,v.__d=void 0;else if(u==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==m)m.appendChild(i),f=null;else{for(y=s,b=0;(y=y.nextSibling)&&b<c.length;b+=2)if(y==i)break e;m.insertBefore(i,s),f=s}return f!==void 0?f:i.nextSibling}function wC(m,v,u,c,i){var s;for(s in u)s==="children"||s==="key"||s in v||Gs(m,s,null,u[s],c);for(s in v)i&&typeof v[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||u[s]===v[s]||Gs(m,s,v[s],u[s],c)}function Sm(m,v,u){v[0]==="-"?m.setProperty(v,u):m[v]=u==null?"":typeof u!="number"||AC.test(v)?u:u+"px"}function Gs(m,v,u,c,i){var s;e:if(v==="style")if(typeof u=="string")m.style.cssText=u;else{if(typeof c=="string"&&(m.style.cssText=c=""),c)for(v in c)u&&v in u||Sm(m.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||Sm(m.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")s=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in m?v.toLowerCase().slice(2):v.slice(2),m.l||(m.l={}),m.l[v+s]=u,u?c||m.addEventListener(v,s?Tm:Pm,s):m.removeEventListener(v,s?Tm:Pm,s);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in m)try{m[v]=u==null?"":u;break e}catch{}typeof u=="function"||(u!=null&&(u!==!1||v[0]==="a"&&v[1]==="r")?m.setAttribute(v,u):m.removeAttribute(v))}}function Pm(m){this.l[m.type+!1](Ft.event?Ft.event(m):m)}function Tm(m){this.l[m.type+!0](Ft.event?Ft.event(m):m)}function Jm(m,v,u,c,i,s,f,y,b){var S,x,P,A,M,D,C,B,L,X,U,ae,ne,Q=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=v.__e=u.__e,v.__h=null,s=[y]),(S=Ft.__b)&&S(v);try{e:if(typeof Q=="function"){if(B=v.props,L=(S=Q.contextType)&&c[S.__c],X=S?L?L.props.value:S.__:c,u.__c?C=(x=v.__c=u.__c).__=x.__E:("prototype"in Q&&Q.prototype.render?v.__c=x=new Q(B,X):(v.__c=x=new Yo(B,X),x.constructor=Q,x.render=jC),L&&L.sub(x),x.props=B,x.state||(x.state={}),x.context=X,x.__n=c,P=x.__d=!0,x.__h=[]),x.__s==null&&(x.__s=x.state),Q.getDerivedStateFromProps!=null&&(x.__s==x.state&&(x.__s=Fn({},x.__s)),Fn(x.__s,Q.getDerivedStateFromProps(B,x.__s))),A=x.props,M=x.state,P)Q.getDerivedStateFromProps==null&&x.componentWillMount!=null&&x.componentWillMount(),x.componentDidMount!=null&&x.__h.push(x.componentDidMount);else{if(Q.getDerivedStateFromProps==null&&B!==A&&x.componentWillReceiveProps!=null&&x.componentWillReceiveProps(B,X),!x.__e&&x.shouldComponentUpdate!=null&&x.shouldComponentUpdate(B,x.__s,X)===!1||v.__v===u.__v){x.props=B,x.state=x.__s,v.__v!==u.__v&&(x.__d=!1),x.__v=v,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(J){J&&(J.__=v)}),x.__h.length&&f.push(x);break e}x.componentWillUpdate!=null&&x.componentWillUpdate(B,x.__s,X),x.componentDidUpdate!=null&&x.__h.push(function(){x.componentDidUpdate(A,M,D)})}if(x.context=X,x.props=B,x.__v=v,x.__P=m,U=Ft.__r,ae=0,"prototype"in Q&&Q.prototype.render)x.state=x.__s,x.__d=!1,U&&U(v),S=x.render(x.props,x.state,x.context);else do x.__d=!1,U&&U(v),S=x.render(x.props,x.state,x.context),x.state=x.__s;while(x.__d&&++ae<25);x.state=x.__s,x.getChildContext!=null&&(c=Fn(Fn({},c),x.getChildContext())),P||x.getSnapshotBeforeUpdate==null||(D=x.getSnapshotBeforeUpdate(A,M)),ne=S!=null&&S.type===qc&&S.key==null?S.props.children:S,Km(m,Array.isArray(ne)?ne:[ne],v,u,c,i,s,f,y,b),x.base=v.__e,v.__h=null,x.__h.length&&f.push(x),C&&(x.__E=x.__=null),x.__e=!1}else s==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=DC(u.__e,v,u,c,i,s,f,b);(S=Ft.diffed)&&S(v)}catch(J){v.__v=null,(b||s!=null)&&(v.__e=y,v.__h=!!b,s[s.indexOf(y)]=null),Ft.__e(J,v,u)}}function NC(m,v){Ft.__c&&Ft.__c(v,m),m.some(function(u){try{m=u.__h,u.__h=[],m.some(function(c){c.call(u)})}catch(c){Ft.__e(c,u.__v)}})}function DC(m,v,u,c,i,s,f,y){var b,S,x,P=u.props,A=v.props,M=v.type,D=0;if(M==="svg"&&(i=!0),s!=null){for(;D<s.length;D++)if((b=s[D])&&"setAttribute"in b==!!M&&(M?b.localName===M:b.nodeType===3)){m=b,s[D]=null;break}}if(m==null){if(M===null)return document.createTextNode(A);m=i?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,A.is&&A),s=null,y=!1}if(M===null)P===A||y&&m.data===A||(m.data=A);else{if(s=s&&Qc.call(m.childNodes),S=(P=u.props||Xm).dangerouslySetInnerHTML,x=A.dangerouslySetInnerHTML,!y){if(s!=null)for(P={},D=0;D<m.attributes.length;D++)P[m.attributes[D].name]=m.attributes[D].value;(x||S)&&(x&&(S&&x.__html==S.__html||x.__html===m.innerHTML)||(m.innerHTML=x&&x.__html||""))}if(wC(m,A,P,i,y),x)v.__k=[];else if(D=v.props.children,Km(m,Array.isArray(D)?D:[D],v,u,c,i&&M!=="foreignObject",s,f,s?s[0]:u.__k&&Wo(u,0),y),s!=null)for(D=s.length;D--;)s[D]!=null&&Ym(s[D]);y||("value"in A&&(D=A.value)!==void 0&&(D!==m.value||M==="progress"&&!D||M==="option"&&D!==P.value)&&Gs(m,"value",D,P.value,!1),"checked"in A&&(D=A.checked)!==void 0&&D!==m.checked&&Gs(m,"checked",D,P.checked,!1))}return m}function Qm(m,v,u){try{typeof m=="function"?m(v):m.current=v}catch(c){Ft.__e(c,u)}}function qm(m,v,u){var c,i;if(Ft.unmount&&Ft.unmount(m),(c=m.ref)&&(c.current&&c.current!==m.__e||Qm(c,null,v)),(c=m.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(s){Ft.__e(s,v)}c.base=c.__P=null}if(c=m.__k)for(i=0;i<c.length;i++)c[i]&&qm(c[i],v,typeof m.type!="function");u||m.__e==null||Ym(m.__e),m.__e=m.__d=void 0}function jC(m,v,u){return this.constructor(m,u)}Qc=Um.slice,Ft={__e:function(m,v,u,c){for(var i,s,f;v=v.__;)if((i=v.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(m)),f=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(m,c||{}),f=i.__d),f)return i.__E=i}catch(y){m=y}throw m}},km=0,Yo.prototype.setState=function(m,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Fn({},this.state),typeof m=="function"&&(m=m(Fn({},u),this.props)),m&&Fn(u,m),m!=null&&this.__v&&(v&&this.__h.push(v),xm(this))},Yo.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),xm(this))},Yo.prototype.render=qc,wi=[],Hs.__r=0;var Di=globalThis&&globalThis.__assign||function(){return Di=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Di.apply(this,arguments)};function ed(m){var v=m.x,u=m.y,c=m.width,i=m.height,s=m.radius,f=m.className,y=v-c/2,b=u-i/2,S=Di(Di({width:10,height:10,cx:0,cy:0,rx:s||0,ry:s||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},m),{x:y,y:b});return Ue.exports.h("rect",Di({},S))}ed.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Uo;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(Uo||(Uo={}));function Ls(m){var v=m.x,u=m.y,c=m.width,i=m.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function Mm(m){var v=Ls(m),u=m.radius,c=v.minX,i=v.minY,s=v.maxX,f=v.maxY;return[{x:c+u,y:i+u},{x:s-u,y:i+u},{x:s-u,y:f-u},{x:c+u,y:f-u}]}function Am(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v.x,s=v.y,f={x:i,y:s},y=u.radius,b=Ls(u),S=Ls(c);if(i===b.minX){f.x=S.minX;var x=(s-u.y)/(u.height/2-y);x?f.y=c.y+(c.height/2-y)*x:f.y=c.y}else if(i===b.maxX){f.x=S.maxX;var x=(s-u.y)/(u.height/2-y);x?f.y=c.y+(c.height/2-y)*x:f.y=c.y}else if(s===b.minY){f.y=S.minY;var x=(i-u.x)/(u.width/2-y);x?f.x=c.x+(c.width/2-y)*x:f.x=c.x}else if(s===b.maxY){f.y=S.maxY;var x=(i-u.x)/(u.width/2-y);x?f.x=c.x+(c.width/2-y)*x:f.x=c.x}else{var P=Mm(u),A=Mm(c),M=Ls(u),D=M.minX,C=M.minY,B=M.maxX,L=M.maxY,X=-1;if(i-D<y&&s-C<y?X=0:B-i<y&&s-C<y?X=1:B-i<y&&L-s<y?X=2:i-D<y&&C-s<y&&(X=3),X>-1){var U=Math.atan2(s-P[X].y,i-P[X].x);f.x=A[X].x+y*Math.cos(U),f.y=A[X].y+y*Math.sin(U)}}return f}function wm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=c.rx,s=c.ry,f=v,y=(v.y-u.y)/(v.x-u.x),b=i,S=s,x,P;return y>=1/0?(x=0,P=S):y<=-1/0?(x=0,P=-S):v.x-u.x>0?(x=b*S/Math.sqrt(S*S+b*b*y*y),P=b*S*y/Math.sqrt(S*S+b*b*y*y)):(x=-(b*S)/Math.sqrt(S*S+b*b*y*y),P=-(b*S*y)/Math.sqrt(S*S+b*b*y*y)),f={x:x+c.x,y:P+c.y},f}function Nm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v,s,f,y=v.x-u.x,b=v.y-u.y,S=u.rx,x=u.ry,P=Math.sqrt((S-Math.abs(y))*(S-Math.abs(y))+b*b)/Math.sqrt(S*S+x*x),A=c.rx,M=c.ry,D=Math.sqrt((A*A+M*M)*P*P*(A*A/(A*A+M*M))),C=D*(M/A);return y>=0?s=A-D:s=D-A,b>0?f=C:f=-C,i={x:s+c.x,y:f+c.y},i}var CC=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ao=globalThis&&globalThis.__assign||function(){return ao=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ao.apply(this,arguments)},RC=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},IC=Ue.exports.LogicFlowUtil.StepDrag,BC=function(m){CC(v,m);function v(u){var c=m.call(this)||this;return c.updatePosition=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.x,S=y.y;c.nodeModel.x=b+s/2,c.nodeModel.y=S+f/2,c.nodeModel.moveText(s/2,f/2)},c.getResize=function(i){var s=i.index,f=i.deltaX,y=i.deltaY,b=i.width,S=i.height,x=i.PCTResizeInfo,P=i.pct,A=P===void 0?1:P,M={width:b,height:S,deltaX:f,deltaY:y};if(x){var D=4,C=0,B=0;switch(s){case 0:B=(f*-1-y)/D;break;case 1:B=(f-y)/D;break;case 2:B=(f+y)/D;break;case 3:B=(f*-1+y)/D;break}B!==0&&(C=Math.round(B/x.ResizeBasis.basisHeight*1e5)/1e3),x.ResizePCT.widthPCT=Math.max(Math.min(x.ResizePCT.widthPCT+C,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit),x.ResizePCT.hightPCT=Math.max(Math.min(x.ResizePCT.hightPCT+C,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit);var L=Math.round(x.ResizePCT.widthPCT*x.ResizeBasis.basisWidth/100),X=Math.round(x.ResizePCT.hightPCT*x.ResizeBasis.basisHeight/100);switch(s){case 0:f=b-L,y=S-X;break;case 1:f=L-b,y=S-X;break;case 2:f=L-b,y=X-S;break;case 3:f=b-L,y=X-S;break}return M.width=L,M.height=X,M.deltaX=f/A,M.deltaY=y/A,M}switch(s){case 0:M.width=b-f*A,M.height=S-y*A;break;case 1:M.width=b+f*A,M.height=S-y*A;break;case 2:M.width=b+f*A,M.height=S+y*A;break;case 3:M.width=b-f*A,M.height=S+y*A;break}return M},c.updateRect=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.x,x=y.y,P=y.width,A=y.height,M=y.radius,D=y.PCTResizeInfo,C=c.index,B=c.getResize({index:C,deltaX:s,deltaY:f,width:P,height:A,PCTResizeInfo:D,pct:1}),L=c.nodeModel,X=L.minWidth,U=L.minHeight,ae=L.maxWidth,ne=L.maxHeight;if(B.width<X||B.width>ae||B.height<U||B.height>ne){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:B.deltaX,deltaY:B.deltaY}),c.nodeModel.width=B.width,c.nodeModel.height=B.height,c.nodeModel.setProperties({nodeSize:{width:B.width,height:B.height}});var Q=c.getNodeEdges(b),J={x:S,y:x,width:P,height:A,radius:M},le={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:M},z={point:"",beforeNode:J,afterNode:le},$;Q.sourceEdges.forEach(function(I){z.point=I.startPoint,$=Am(z),I.updateStartPoint($)}),Q.targetEdges.forEach(function(I){z.point=I.endPoint,$=Am(z),I.updateEndPoint($)}),c.eventEmit({beforeNode:J,afterNode:le})},c.updateEllipse=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.rx,x=y.ry,P=y.x,A=y.y,M=y.PCTResizeInfo,D=c.index,C=S,B=x,L=c.getResize({index:D,deltaX:s,deltaY:f,width:C,height:B,PCTResizeInfo:M,pct:1/2}),X=c.nodeModel,U=X.minWidth,ae=X.minHeight,ne=X.maxWidth,Q=X.maxHeight;if(L.width<U/2||L.width>ne/2||L.height<ae/2||L.height>Q/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:L.deltaX,deltaY:L.deltaY}),c.nodeModel.rx=L.width,c.nodeModel.ry=L.height,c.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var J=c.getNodeEdges(b),le={x:P,y:A},z={rx:L.width,ry:L.height,x:c.nodeModel.x,y:c.nodeModel.y},$={point:{},beforeNode:le,afterNode:z},I;J.sourceEdges.forEach(function(w){$.point=w.startPoint,I=wm($),w.updateStartPoint(I)}),J.targetEdges.forEach(function(w){$.point=w.endPoint,I=wm($),w.updateEndPoint(I)}),c.eventEmit({beforeNode:ao(ao({},le),{rx:S,ry:x}),afterNode:z})},c.updateDiamond=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,S=y.rx,x=y.ry,P=y.x,A=y.y,M=y.PCTResizeInfo,D=c.index,C=S,B=x,L=c.getResize({index:D,deltaX:s,deltaY:f,width:C,height:B,PCTResizeInfo:M,pct:1/2}),X=c.nodeModel,U=X.minWidth,ae=X.minHeight,ne=X.maxWidth,Q=X.maxHeight;if(L.width<U/2||L.width>ne/2||L.height<ae/2||L.height>Q/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:L.deltaX,deltaY:L.deltaY}),c.nodeModel.rx=L.width,c.nodeModel.ry=L.height,c.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var J={x:P,y:A,rx:S,ry:x},le={rx:L.width,ry:L.height,x:c.nodeModel.x,y:c.nodeModel.y},z={point:{},beforeNode:J,afterNode:le},$,I=c.getNodeEdges(b);I.sourceEdges.forEach(function(w){z.point=w.startPoint,$=Nm(z),w.updateStartPoint($)}),I.targetEdges.forEach(function(w){z.point=w.endPoint,$=Nm(z),w.updateEndPoint($)}),c.eventEmit({beforeNode:J,afterNode:le})},c.eventEmit=function(i){var s=i.beforeNode,f=i.afterNode,y=c.nodeModel,b=y.id,S=y.modelType,x=y.type,P=ao({id:b,modelType:S,type:x},s),A=ao({id:b,modelType:S,type:x},f);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:A})},c.onDraging=function(i){var s,f=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,S=c.nodeModel.modelType;s=RC(b.fixDeltaXY(f,y),2),f=s[0],y=s[1],S===Uo.RECT_NODE||S===Uo.HTML_NODE?c.updateRect({deltaX:f,deltaY:y}):S===Uo.ELLIPSE_NODE?c.updateEllipse({deltaX:f,deltaY:y}):S===Uo.DIAMOND_NODE&&c.updateDiamond({deltaX:f,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,s=i===void 0?1:i,f=s*Math.round(c.nodeModel.x/s),y=s*Math.round(c.nodeModel.y/s);c.nodeModel.moveTo(f,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new IC({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,s=[],f=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?s.push(b):i[y].targetNodeId===u&&f.push(b)}return{sourceEdges:s,targetEdges:f}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,s=u.index,f=u.model,y=f.getControlPointStyle();return Ni("g",{className:"lf-resize-control-"+s},Ni(ed,ao({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Yo),_C=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),$s=globalThis&&globalThis.__assign||function(){return $s=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},$s.apply(this,arguments)},Us=function(m){_C(v,m);function v(){var u=m.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,s=c.x,f=c.y,y=c.width,b=c.height,S={minX:s-y/2,minY:f-b/2,maxX:s+y/2,maxY:f+b/2},x=S.minX,P=S.minY,A=S.maxX,M=S.maxY,D=[{x,y:P},{x:A,y:P},{x:A,y:M},{x,y:M}];return D.map(function(C,B){return Ni(BC,$s({index:B},C,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getResizeOutlineStyle();return Ni(ed,$s({fill:"none"},y,{x:c,y:i,width:s,height:f}))},v.prototype.render=function(){return Ni("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Yo),eb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),LC=function(m){eb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){console.log(u,c)},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v}(Ue.exports.RectNodeModel),zC=function(m){eb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ue.exports.h(Us,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ue.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(Ue.exports.RectNode),tb={type:"rect",view:zC,model:LC},rb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){rb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(Ue.exports.EllipseNodeModel);(function(m){rb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ue.exports.h(Us,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return Ue.exports.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(Ue.exports.EllipseNode);var Vc=globalThis&&globalThis.__assign||function(){return Vc=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Vc.apply(this,arguments)};function FC(m){var v=m.fillOpacity,u=v===void 0?1:v,c=m.strokeWidth,i=c===void 0?1:c,s=m.strokeOpacity,f=s===void 0?1:s,y=m.fill,b=y===void 0?"transparent":y,S=m.stroke,x=S===void 0?"#000":S,P=m.points,A=m.className,M=A===void 0?"lf-basic-shape":A,D={fill:b,fillOpacity:u,strokeWidth:i,stroke:x,strokeOpacity:f,points:"",className:M};return D.points=P.map(function(C){return C.join(",")}).join(" "),Ue.exports.h("polygon",Vc({},D))}var nb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zc=globalThis&&globalThis.__assign||function(){return Zc=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zc.apply(this,arguments)};(function(m){nb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(Ue.exports.DiamondNodeModel);(function(m){nb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ue.exports.h(Us,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return Ue.exports.h("g",null,Ue.exports.h(FC,Zc({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ue.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(Ue.exports.DiamondNode);var ob=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){ob(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(Ue.exports.HtmlNodeModel);(function(m){ob(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ue.exports.h(Us,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ue.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(Ue.exports.HtmlNode);var ib=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ks=globalThis&&globalThis.__assign||function(){return ks=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ks.apply(this,arguments)},HC=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},Dm=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(HC(arguments[v]));return m},jm=500,Cm=300,GC=-1e4;(function(m){ib(v,m);function v(){var u=m!==null&&m.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=jm,u.unfoldedHight=Cm,u}return v.prototype.initNodeData=function(u){var c=this;m.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=jm,this.height=Cm,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=GC,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=m.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(s){var f=c.graphModel.getElement(s);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=m.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(s,f){var y=s.id,b=s.sourceNodeId,S=s.targetNodeId,x=s.startPoint,P=s.endPoint,A=s.type,M=s.properties,D=s.text,C={id:y+"__"+f,sourceNodeId:b,targetNodeId:S,startPoint:x,endPoint:P,type:A,properties:M,text:D==null?void 0:D.value};s.virtual&&i.graphModel.deleteEdgeById(s.id);var B=i.graphModel.group.getNodeGroup(S);B||(B=i.graphModel.getNodeModelById(S));var L=i.graphModel.group.getNodeGroup(b);L||(L=i.graphModel.getNodeModelById(b)),u&&s.visible!==!1&&(i.children.has(b)||i.id===b?(C.startPoint=void 0,C.sourceNodeId=i.id):(C.endPoint=void 0,C.targetNodeId=i.id),(B.id!==i.id||L.id!==i.id)&&i.createVirtualEdge(C),s.visible=!1),!u&&s.visible===!1&&(B&&B.isGroup&&B.isFolded?(C.targetNodeId=B.id,C.endPoint=void 0,i.createVirtualEdge(C)):L&&L.isGroup&&L.isFolded?(C.sourceNodeId=L.id,C.startPoint=void 0,i.createVirtualEdge(C)):s.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,s=u.x2,f=u.y2;return c>=this.x-this.width/2&&s<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,s=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&s<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=m.prototype.getData.call(this);u.children=Dm(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},v.prototype.getHistoryData=function(){var u=m.prototype.getData.call(this);u.children=Dm(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v.prototype.toBack=function(){this.zIndex--},v})(tb.model);(function(m){ib(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?m.prototype.getControlGroup.call(this):null},v.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,i=u.height,s=u.x,f=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var S=this.props.model.getNodeStyle().strokeWidth,x=this.props.model.getAddableOutlineStyle(),P=c+S+8,A=i+S+8;return Ue.exports.h("rect",ks(ks({},x),{width:P,height:A,x:s-P/2,y:f-A/2,rx:y,ry:y}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var s=Ue.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return Ue.exports.h("g",{},[Ue.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),s])},v.prototype.getResizeShape=function(){return Ue.exports.h("g",{},[this.getAddableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(tb.view);var $C=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var Rm=globalThis&&globalThis.__assign||function(){return Rm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Rm.apply(this,arguments)},Im=globalThis&&globalThis.__assign||function(){return Im=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Im.apply(this,arguments)},kC=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;class XC extends Ue.exports.HtmlNode{constructor(v){super(v),this.isMounted=!1,this.r=fC(dC,{properties:v.model.getProperties()}),this.app=cC({render:()=>this.r})}setHtml(v){if(this.isMounted)this.r.component.props.properties=this.props.model.getProperties();else{this.isMounted=!0;const u=document.createElement("div");v.appendChild(u),this.app.mount(u)}}getText(){return null}}class UC extends Ue.exports.HtmlNodeModel{setAttributes(){this.width=220,this.height=100,this.text.editable=!1}initNodeData(v){super.initNodeData(v),this.text.draggable=!1,this.text.editable=!1;const u={message:"\u53EA\u5141\u8BB8\u4ECE\u53F3\u8FB9\u7684\u951A\u70B9\u8FDE\u51FA",validate:(c,i,s,f)=>s.type==="right"&&f.type==="left"};this.sourceRules.push(u)}getAnchorStyle(v){const u=super.getAnchorStyle(v);return v.type==="left"?(u.stroke="transparent",u.fill="none",u.hover.stroke="transpanrent"):u.fill="green",u}getDefaultAnchor(){const{width:v,height:u,x:c,y:i,id:s}=this;return[{x:c-v/2,y:i,type:"left",id:`${s}_0`},{x:c+v/2,y:i,type:"right",id:`${s}_1`}]}}const rR={type:"UserTask",view:XC,model:UC};class YC extends Ue.exports.PolylineEdgeModel{getEdgeStyle(){const v=super.getEdgeStyle();return v.strokeWidth=3,v.stroke=this.isSelected?"#ff7f0e":"#999",v}}class WC extends Ue.exports.PolylineEdge{}const nR={type:"flow-link",view:WC,model:YC},oR=m=>Hn.get("/data-development/schedule/"+m),iR=m=>Hn.post("/data-development/schedule",m),aR=m=>Hn.post("/data-development/schedule/run/"+m),uR=m=>Hn.get("/data-development/schedule/log/"+m),sR=m=>Hn.get("/data-development/schedule/node-info/"+m),lR=m=>Hn.get("/data-development/schedule/node-record/"+m),fR=m=>Hn.post("/data-development/schedule/release/"+m),cR=m=>Hn.post("/data-development/schedule/cancle/"+m);export{QC as C,eR as D,nR as F,ZC as L,qC as M,tR as S,rR as T,JC as a,iR as b,uR as c,sR as d,fR as e,cR as f,lR as g,aR as r,oR as u};
